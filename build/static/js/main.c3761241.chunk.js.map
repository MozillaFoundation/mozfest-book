{"version":3,"sources":["assets/icon-burger.svg","assets/icon-download.svg","assets/icon-darkmode.svg","assets/icon-arrow-down.svg","assets/icon-hand.svg","assets/icon-close.svg","components/Icon.js","common/EventBus.js","hooks/useKeyPress.js","components/Image.js","components/BookChaptersUI.js","assets/number-01.svg","assets/number-02.svg","assets/number-03.svg","assets/number-04.svg","assets/number-05.svg","assets/number-06.svg","components/IconNumber.js","components/ContentElements/ElementText.js","components/ContentElements/ElementImage.js","components/ContentElements/ElementBullets.js","components/ContentElements/ElementDoubleColumn.js","components/Dialogue/DialogueParagraph.js","assets/icon-arrow-small.svg","components/Dialogue/DialogueMoment.js","components/Dialogue/index.js","components/ContentElements/ElementConversation.js","common/GetParentScrollContainer.js","components/ContentElements/ElementTextImages.js","components/ContentElements/ElementQuote.js","components/ContentElements/ElementStory.js","components/ContentElements/ElementTextScaling.js","assets/number-go.svg","components/ContentElements/ElementChapterIndex.js","components/ContentElements/ElementCredits.js","components/Chapter/Elements.js","components/Overlay.js","assets/logo-full.svg","components/HeaderBar/HeaderLogo.js","assets/icon-close-large.svg","components/Author/AuthorLink.js","components/Chapter/ChapterPage.js","components/Author/AuthorAvatar.js","assets/splash-title-01.svg","components/Chapter/ChapterTitle.js","assets/chapter-number.svg","App.js","components/BookChapterNav.js","components/BookChapterLogic.js","components/Cursor.js","components/Chapter/Chapter.js","components/Chapter/ChapterPagesContinous.js","components/Chapter/ChapterPagesSeperate.js","components/Chapter/ChapterNextSection.js","components/OverlayMenu.js","components/ScrollToTop.js","assets/img/ill-howto.svg","assets/img/ill-outro.svg","components/Home/Foreword.js","components/OverlayWrapper.js","components/Home/OnBoardingMenu.js","assets/icon-zilla-mail.svg","assets/icon-zilla-twitter.svg","assets/icon-zilla-youtube.svg","assets/logo-mozilla.svg","components/MozfestFooter.js","components/Home/index.js","components/globalState.js","components/PortalOverlay.js","components/Author/AuthorOverlay.js","components/Author/AuthorsManager.js","assets/icon-m-logo-box.svg","components/HeaderBar/IndexPanel.js","components/HeaderBar/HeaderBar.js","components/Chapter/MosaicTitle.js","components/Chapter/ChapterSection.js","index.js"],"names":["_extends","Object","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","keys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","id","stroke","strokeWidth","fill","fillRule","x","y","width","height","SvgIconBurger","_ref","svgRef","title","titleId","props","viewBox","xmlns","xmlnsXlink","ref","undefined","ForwardRef","transform","points","SvgIconDownload","d","SvgIconDarkmode","SvgIconArrowDown","SvgIconHand","SvgIconClose","Icon","className","icon","getIcon","eventBus","on","event","callback","console","log","document","addEventListener","e","detail","dispatch","data","dispatchEvent","CustomEvent","remove","removeEventListener","useKeypress","action","useEffect","onKeyup","window","Image","React","forwardRef","keepAspect","caption","alt","src","style","orientation","gsap","registerPlugin","ScrollTrigger","BookChaptersUI","fullCollapse","isDynamic","debug","noMouse","startCollapsed","onRowClickCB","defaultExpanded","isVisible","unFocusChapterNav","onActivateRow","onNavDisabled","onNavEnabled","onHomeClick","isExpanded","isEnabled","test","useDispatch","useGlobal","chaptersData","itemEls","useRef","history","useHistory","otherRef","helper","onRowClick","url","current","disable","setImmediate","push","BookChapterLogic","el","rows","expanded","init","useImperativeHandle","control","tabIndex","element","slug","exact","to","onClick","map","chapter","nr","chapter_nr","SvgNumber01","SvgNumber02","SvgNumber03","SvgNumber04","SvgNumber05","SvgNumber06","IconNumber","ElementText","aside","dangerouslySetInnerHTML","__html","text","ElementImage","transitionDone","image","growEl","growInnerEl","useLayoutEffect","matchMedia","matches","tween","scale","scrollTrigger","trigger","start","end","once","scrub","kill","ElementBullets","bullets","querySelectorAll","triggers","forEach","create","onToggle","isActive","classList","add","bullet","index","parse","InlineFoldout","name","position","useState","setExpanded","clamped","setClamped","refContainer","refPanel","refSizer","refPanelInner","fullDimension","theText","offsetWidth","offsetHeight","duration","ease","focus","onComplete","role","aria-expanded","ParallaxImage","imageRef","lightboxImage","setLightboxImage","setImageBnd","set","left","Math","random","yPercent","getBoundingClientRect","OverlayLightbox","onClose","visibleToggle","clickedImageRef","getImage","visible","setVisible","transImageRef","disableBodyScroll","clearAllBodyScrollLocks","Transition","in","onEnter","opacity","imageBnd","toScale","vPadding","wHeight","innerHeight","wWidth","innerWidth","imageAspect","viewerAspect","getEnlargedScale","transformOrigin","onExit","timeout","mountOnEnter","unmountOnExit","aria-hidden","DoubleColumnSection","foldout","ElementDoubleColumn","content","DialogueParagraph","reveal","onRevealed","paragraphId","paragraphRef","paragraphLoaderRef","isRevealed","hideText","useCallback","revealText","delay","mainTrigger","setTimeout","SvgIconArrowSmall","DialogueMoment","participant","dialogue","dialogueIndex","revealList","showAuthorDispatch","authors","setReveal","dialogueRef","author","find","o","getAuthor","paragraphRevealList","setParagraphRevealList","onParagraphReveal","AuthorAvatar","paragraph","Dialogue","conversation","setRevealList","onDialogueMomentReveal","ElementConversation","participants","GetParentScrollContainer","scrollContainer","querySelector","contains","ElementTextImages","images","sizerPortrait","sizerLanscape","revealCaption","figcaptionEl","timeline","startScale","scroller","ElementQuote","quote","ElementStory","refBody","scrollHeight","intro","ElementTextScaling","sizerScaledRef","sizerNormalRef","scaledWidth","normalWidth","SvgNumberGo","Row","buttonRef","textRef","ElementChapterIndex","row","ElementCredits","Elements","elements","component","param","type","renderComponent","Overlay","onCloseOverlay","doBlur","children","scrollable","innerRef","setCursor","activateBlur","enabled","onMouseOver","onMouseOut","disableCursor","handleClose","useOnClickOutside","_ref3","xlinkHref","mask","SvgLogoFull","HeaderLogo","listenToScroll","animateOnMount","defaultCollapsed","ignoreMediaQuery","onFirstMount","maskMain","maskText","setDirectCollapsed","scaleY","scaleX","body","onLeaveBack","pause","play","SvgIconCloseLarge","AuthorLink","ChapterPage","pageChange","pageSlug","backgroundReset","setBackgroundReset","setChapterHasScrolled","initScrollTrigger","setInitScrollTrigger","cbFunction","backgroundImage","Titles","ChapterTitle","paused","refNr","titlePaused","setTitlePaused","defaultOptions","loop","autoplay","animationData","rendererSettings","preserveAspectRatio","options","isPaused","download","href","LocationHandler","location","useLocation","setCurrentChapter","matchPath","pathname","path","Main","showChapterNav","nodeRef","isChapterLocation","strict","promiseRef","Promise","resolve","mode","node","reject","zIndex","top","scrollY","scrollTo","clearProps","chapterTransition","homeTransition","addEndListener","done","then","refresh","ScrollToPlugin","App","darkModeEnabled","blur","bookColor","fetchData","documentElement","setAttribute","removeAttribute","BookChapterNav","onClickRowCB","chaptersUIRef","navEnabled","counter","ev","preventDefault","muted","mutedTimerRunning","mutedTimeout","hitArea","isTouch","activeRows","rowClass","getRowElByIndex","getRowElIndex","deActivateRows","deActivateRow","splice","activateRow","onlyAllowOne","clearMuted","clearTimeout","isMuted","expandNav","enableNav","disableNav","onDisable","disableTillNewInput","filter","stopPropagation","targetRow","closest","rowObj","getRowObjByEl","onRowEnter","targetRowIndex","onRowLeave","relatedTargetIsRow","relatedTarget","onNavEnter","onNavLeave","onMouseLeaveScreen","enableHoverListeners","hoverEl","disableHover","enableHover","getNrOfRows","enable","deActivateRowByIndex","activateRowByIndex","destroy","anchorElement","elAnchor","getAttribute","show","setActiveChapter","Cursor","cursorXY","setCursorXY","setEnabled","cursor","moveCursor","round","clientX","clientY","Chapter","useParams","chapterSlug","chapterState","setChapterState","pageState","setPageState","setBookColor","setCurrentSubChapter","setShowChapterNav","toggleHeaderBar","params","isFirstLoadRef","setTransitionDone","prevPageRef","color","chapterObj","pageObj","pages","pageObjIndex","data-theme","data-chapter","continuous","page","setCurrentPage","TimelineSection","onEnterView","tlContentRef","tlBodyRef","tlTitleRef","tl","elHeader","elLabel","elContent","elTitle","data-slug","TimelineHeader","components","ChapterPagesContinous","currentSubChapter","isOnEnterView","ignoreLocationChng","isAutoScrolling","prevSubChapter","scrollParams","overwrite","pageObject","getPageIndex","tlHeaderRef","tlLabelRef","headerTrigger","pin","ChapterPagesSeperate","nextSection","scrollToPage","setScrollToPage","pageTransitionDone","setPageTransitionDone","firstPageRef","chapterFirstPage","isFirstPage","prevPageSlug","transitionKey","sectionIndex","renderPage","onGotoNext","ChapterNextSection","progressRef","transRef","wheelIndicator","currentDrag","theTween","theTweenTrigger","destroyWheelTrigger","onDragEvent","te","changedTouches","onDirectionEvent","direction","Date","now","triggerTime","destroyTriggers","initialHeight","onUpdate","progress","onLeave","initOtherTrigger","onEnterBack","OverlayMenu","showMenu","setShowMenu","toggleDarkMode","ScrollToTop","previousRouteChapter","useRouteMatch","isChapterRoute","fontFamily","fontSize","fontWeight","SvgIllOutro","Foreword","contentForeword","meta","header_image","OverlayWrapper","OnBoardingMenu","triggerRef","isMobile","bnd","setPositionAbsolute","nrOfItems","snapped","nrOfRows","reverseIndex","setPositionFixed","SvgIconZillaMail","SvgIconZillaTwitter","SvgIconZillaYoutube","_ref4","SvgLogoMozilla","MozfestFooter","globalGeneral","book_download","rel","data-platform","Home","headerRef","lottieRef","showPreface","setShowPreface","disableHeaderBar","animationData01","setGlobal","general","headerBar","disabled","chapterScrolled","showMobileOverlayMenu","navPage","darkMode","caught","showAuthor","chaptersIndex","bookBlur","appBlur","chapterIndexOpen","currentChapter","ignoreLocationChange","addReducer","global","fetch","process","response","json","chapters","a","fetchChapters","fetchAuthors","fetchForeword","state","visibility","PortalOverlay2","modalRoot","getElementById","createElement","appendChild","removeChild","createPortal","PortalOverlay","AuthorOverlay","bio","tagline","footer","AuthorsManager","setAuthor","IndexPanel","activeSubChapter","hasIndex","setChapterIndexOpen","isNotMobile","panelRef","panelLayerRef","hideOverlay","section","onItemClick","sectionSlug","clickedPage","isFirstPageClicked","isCurrentPageClicked","navItems","enableBodyScroll","subChapter","getSubChapter","renderIndexTitle","ScrollProgress","label","renderTriggerToggle","ListItem","aria-selected","scrollProgress","setScrollProgress","onScroll","winScroll","scrollTop","clientHeight","HeaderBar","headerBarState","chapterHasScrolled","revealTimeline","setIndex","TheCanvasTitle","SplitText","MosaicTitle","canvasRef","canvasCtxRef","offscreenCanvasRef","offscreenCanvasCtxRef","sourceRef","splittedTextRef","setSize","canvasTitleRef","useResizeObserver","entry","contentRect","getContext","canvas","canvasOffscreenEl","srcBnd","dpr","devicePixelRatio","dprWidth","parseInt","dprHeight","offscreenCanvas","offscreenCanvasCtx","canvasCtx","revert","splittedText","textStyles","getComputedStyle","lines","getPropertyValue","fontLineHeight","fontColor","font","textAlign","fillStyle","line","textContent","fillText","offscreenData","getImageData","currentSampleSize","self","value","abs","valueRounded","sampleSize","minSampleSize","clearRect","sample","pos","red","green","blue","alpha","beginPath","rect","renderVisual","ConversationSubtitle","author_1","author_2","chapterNr","authorData1","authorData2","SectionTitle","r","g","b","authorButtons","reduce","prev","curr","createSubtitle","subtitle","renderTitle","Section","theme","settings","hideTitle","seperateRender","ReactDOM","render"],"mappings":"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","file":"static/js/main.c3761241.chunk.js","sourcesContent":["function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-burger\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  fill: \"currentColor\",\n  x: 2.5,\n  y: 11,\n  width: 20,\n  height: 3\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  fill: \"currentColor\",\n  x: 2.5,\n  y: 4.5,\n  width: 20,\n  height: 3\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  fill: \"currentColor\",\n  x: 2.5,\n  y: 17.5,\n  width: 20,\n  height: 3\n}));\n\nfunction SvgIconBurger(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"25px\",\n    height: \"25px\",\n    viewBox: \"0 0 25 25\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-burger\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconBurger);\nexport default __webpack_public_path__ + \"static/media/icon-burger.e8f808cd.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-download\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-8\",\n  transform: \"translate(6.500000, 5.500000)\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  fill: \"currentColor\",\n  x: 0,\n  y: 13,\n  width: 12,\n  height: 1\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  fill: \"currentColor\",\n  x: 5.5,\n  y: 0,\n  width: 1,\n  height: 11\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  id: \"Path-2\",\n  stroke: \"currentColor\",\n  points: \"1 6 6 11 11 6\"\n})));\n\nfunction SvgIconDownload(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"25px\",\n    height: \"25px\",\n    viewBox: \"0 0 25 25\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-download\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconDownload);\nexport default __webpack_public_path__ + \"static/media/icon-download.539aa0a0.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-darkmode\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Darkmode-toggle\",\n  transform: \"translate(12.313708, 12.313708) rotate(-45.000000) translate(-12.313708, -12.313708) translate(4.313708, 4.313708)\",\n  stroke: \"currentColor\",\n  strokeWidth: 0.8\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.84,7.92 C15.84,3.54590478 12.2940952,0 7.92,0 C3.54590478,0 -9.00399755e-14,3.54590478 -9.00399755e-14,7.92 L15.84,7.92 Z\",\n  id: \"Oval\",\n  fill: \"currentColor\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15.84,15.84 C15.84,11.4659048 12.2940952,7.92 7.92,7.92 C3.54590478,7.92 9.00399755e-14,11.4659048 9.00399755e-14,15.84 L15.84,15.84 Z\",\n  id: \"Oval-Copy\",\n  transform: \"translate(7.920000, 11.880000) rotate(-180.000000) translate(-7.920000, -11.880000) \"\n})));\n\nfunction SvgIconDarkmode(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"25px\",\n    height: \"25px\",\n    viewBox: \"0 0 25 25\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-darkmode\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconDarkmode);\nexport default __webpack_public_path__ + \"static/media/icon-darkmode.7eeb9c48.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-arrow-down\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(7.500000, 7.000000)\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  fill: \"currentColor\",\n  x: 4.5,\n  y: 0,\n  width: 1,\n  height: 11\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  id: \"Path-2\",\n  stroke: \"currentColor\",\n  points: \"0 6 5 11 10 6\"\n})));\n\nfunction SvgIconArrowDown(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"25px\",\n    height: \"25px\",\n    viewBox: \"0 0 25 25\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-arrow-down\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconArrowDown);\nexport default __webpack_public_path__ + \"static/media/icon-arrow-down.82493c39.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-hand\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26.9998667,33.0001223 L26.9998667,35 L12.9996002,35 L12.9996002,33.0001223 L26.9998667,33.0001223 Z M28.9997335,31.0002446 L28.9997335,33.0001223 L26.9998667,33.0001223 L26.9998667,31.0002446 L28.9997335,31.0002446 Z M12.9998801,31.0000447 L12.9998801,32.9999224 L6.99988006,32.9999224 L6.99988006,31.0000447 L12.9998801,31.0000447 Z M7,10.9997883 L7,13.0000659 L3.00026654,13.0000659 L3.00026654,29.0002869 L7,29.0002869 L7,31.0001646 L1,31.0001646 L1,10.9997883 L7,10.9997883 Z M31.0001199,26.9999294 L31.0001199,31.0000847 L28.9998534,31.0000847 L28.9998534,28.9998071 L22.9998534,28.9998071 L22.9998534,26.9999294 L31.0001199,26.9999294 Z M32.9999467,20.9999365 L32.9999467,26.9999694 L31.00008,26.9999694 L31.00008,22.9998142 L25.00008,22.9998142 L25.00008,20.9999365 L32.9999467,20.9999365 Z M40.9998534,15.0001834 L40.9998534,17.0000611 L34.9998534,17.0000611 L34.9998534,20.9998166 L32.9999867,20.9998166 L32.9999867,17.0000611 L24.9999867,17.0000611 L24.9999867,15.0001834 L40.9998534,15.0001834 Z M43,10.9998683 L43,15.0000235 L41.0001333,15.0000235 L41.0001333,10.9998683 L43,10.9998683 Z M26.9998267,1 L26.9998267,7.00003293 L25.00008,7.00015287 L25.00008,9.00003057 L41.0002132,9.00003057 L41.0002132,10.9999083 L20.9999467,10.9999083 L20.9999467,9.00003057 L22.9998134,9.00003057 L22.9998134,7.00015287 L24.99996,7.00003293 L24.99996,2.9998777 L20.9998667,2.99995767 L20.9998667,4.99983537 L19,4.99983537 L19,6.99971307 L14.9998667,6.99971307 L14.9998667,4.99983537 L19,4.99983537 L19,2.99995767 L20.9998267,2.9998777 L20.9998267,1 L26.9998267,1 Z M14.9998667,7.00011289 L14.9998667,8.99999059 L11.0001333,8.99999059 L11.0001333,10.9998683 L7,10.9998683 L7,8.99999059 L10.9997335,8.99999059 L10.9997335,7.00011289 L14.9998667,7.00011289 Z\",\n  id: \"Combined-Shape\",\n  fill: \"currentColor\"\n}));\n\nfunction SvgIconHand(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"44px\",\n    height: \"36px\",\n    viewBox: \"0 0 44 36\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-hand\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconHand);\nexport default __webpack_public_path__ + \"static/media/icon-hand.6164b9ff.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-close\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-5\",\n  transform: \"translate(5.000000, 5.000000)\",\n  fill: \"currentColor\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  transform: \"translate(8.000000, 7.500000) rotate(-45.000000) translate(-8.000000, -7.500000) \",\n  x: -2,\n  y: 7,\n  width: 20,\n  height: 1\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  transform: \"translate(8.000000, 7.500000) rotate(-315.000000) translate(-8.000000, -7.500000) \",\n  x: -2,\n  y: 7,\n  width: 20,\n  height: 1\n})));\n\nfunction SvgIconClose(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"25px\",\n    height: \"25px\",\n    viewBox: \"0 0 25 25\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-close\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconClose);\nexport default __webpack_public_path__ + \"static/media/icon-close.81347bbf.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as IconBurger } from \"../assets/icon-burger.svg\";\nimport { ReactComponent as IconDownload } from \"../assets/icon-download.svg\";\nimport { ReactComponent as IconDarkmode } from \"../assets/icon-darkmode.svg\";\nimport { ReactComponent as IconArrowDown } from \"../assets/icon-arrow-down.svg\";\nimport { ReactComponent as IconHand } from \"../assets/icon-hand.svg\";\nimport { ReactComponent as IconClose } from \"../assets/icon-close.svg\";\n\nfunction Icon(props) {\n  let getIcon = (icon) => {\n    switch (icon) {\n      case \"arrow-down\":\n        return <IconArrowDown></IconArrowDown>;\n        break;\n      case \"burger\":\n        return <IconBurger></IconBurger>;\n        break;\n      case \"darkmode\":\n        return <IconDarkmode></IconDarkmode>;\n        break;\n      case \"download\":\n        return <IconDownload></IconDownload>;\n        break;\n      case \"hand\":\n        return <IconHand></IconHand>;\n        break;\n      case \"close\":\n        return <IconClose></IconClose>;\n        break;\n    }\n  };\n  return <figure className=\"icon\">{getIcon(props.icon)}</figure>;\n}\n\nexport default Icon;\n","const eventBus = {\n  on(event, callback) {\n    console.log(\"theOn\");\n    document.addEventListener(event, (e) => callback(e.detail));\n  },\n  dispatch(event, data) {\n    console.log(\"theDispatch\");\n\n    document.dispatchEvent(new CustomEvent(event, { detail: data }));\n  },\n  remove(event, callback) {\n    console.log(\"theRemove\");\n\n    document.removeEventListener(event, callback);\n  }\n};\n\nexport default eventBus;\n","import { useEffect } from \"react\";\n/**\n * useKeyPress\n * @param {string} key - the name of the key to respond to, compared against event.key\n * @param {function} action - the action to perform on key press\n */\nexport default function useKeypress(key, action) {\n  useEffect(() => {\n    function onKeyup(e) {\n      if (e.key === key) action();\n    }\n    window.addEventListener(\"keyup\", onKeyup);\n    return () => window.removeEventListener(\"keyup\", onKeyup);\n  }, []);\n}\n","import React from \"react\";\n\nconst Image = React.forwardRef((props, ref) => {\n  const { keepAspect, caption, alt, src, width, height } = props;\n  var style = {};\n\n  var orientation = \"landscape\";\n\n  if (height >= width) {\n    orientation = \"portrait\";\n  }\n\n  // calculate aspect ratio\n  if (keepAspect) {\n    style = {\n      \"--aspect-ratio\": `${(height / width) * 100}%`\n    };\n  }\n\n  return (\n    <figure\n      className={`${keepAspect ? \"is-aspect\" : \"\"} is-${orientation}`}\n      style={style}\n      ref={ref}\n    >\n      <img src={src} alt={alt}></img>\n      {caption && (\n        <figcaption>\n          <span>{caption}</span>\n        </figcaption>\n      )}\n    </figure>\n  );\n});\n\nexport default Image;\n","import { setGlobal, useGlobal, useDispatch } from \"reactn\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { useImperativeHandle, useRef, useEffect, useState, forwardRef } from \"react\";\nimport BookChapterLogic from \"./BookChapterLogic\";\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\nimport IconNumber from \"./IconNumber\";\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  NavLink,\n  useParams,\n  useRouteMatch,\n  useHistory\n} from \"react-router-dom\";\ngsap.registerPlugin(ScrollTrigger);\n\n// -- BookChapterNav ---------------------------------------------------- //\nconst BookChaptersUI = forwardRef((props, ref) => {\n  const {\n    fullCollapse,\n    isDynamic,\n    debug,\n    noMouse,\n    startCollapsed,\n    defaultExpanded,\n    isVisible,\n    unFocusChapterNav,\n    onRowClickCB,\n    onActivateRow,\n    onNavDisabled,\n    onNavEnabled,\n    onHomeClick,\n    isExpanded,\n    isEnabled,\n    test\n  } = props;\n\n  const activateBlur = useDispatch(\"blur\");\n\n  const [chaptersData] = useGlobal(\"chaptersData\");\n  const [currentChapter] = useGlobal(\"currentChapter\");\n  const itemEls = useRef([]);\n  let history = useHistory();\n\n  const [globalUnfocusChapterNav, setGlobalUnfocusChapterNav] = useGlobal(\"unFocusChapterNav\");\n\n  const otherRef = useRef();\n  const helper = useRef(); // ref is equivalent of instance prop\n\n  let onRowClick = (url) => {\n    if (!helper.current) return false;\n\n    if (isDynamic) {\n      helper.current.disable(true);\n    }\n    if (onRowClickCB) {\n      onRowClickCB();\n    }\n    setImmediate(() => {\n      history.push(url);\n    });\n  };\n\n  useEffect(() => {\n    if (!helper.current) {\n      helper.current = new BookChapterLogic({\n        el: otherRef.current,\n        rows: itemEls.current,\n        isDynamic: isDynamic,\n        expanded: !startCollapsed,\n        noMouse: noMouse,\n        onNavEnabled: onNavEnabled,\n        onNavDisabled: onNavDisabled,\n        onRowClick: onRowClick,\n        onActivateRow: onActivateRow,\n        isExpanded: isExpanded,\n        isEnabled: isEnabled\n      });\n      helper.current.init();\n    }\n  }, []);\n\n  useImperativeHandle(ref, () => {\n    return {\n      control: helper\n    };\n  });\n\n  return (\n    <nav tabIndex=\"0\" className={`book-chapters ${debug ? \"is-debug\" : \"\"}`} ref={otherRef}>\n      <div className=\"book-chapters__hitarea\"></div>\n      {/* <div className=\"book-chapters__trigger\"></div> */}\n      {/* <NavLink to={`/`} className=\"book-chapters__home\">\n        <span>Home</span>\n      </NavLink> */}\n      <ul>\n        <li\n          className=\"book-chapters__item chapter-row chapter-row--home \"\n          ref={(element) => (itemEls.current[0] = { slug: \"home\", el: element })}\n        >\n          <NavLink exact to={`/`} onClick={onHomeClick}>\n            <div className=\"chapter-row__inner  \">\n              <span className=\"chapter-row__nr js-nr\"></span>\n              <span className=\"chapter-row__title js-title\">Home</span>\n            </div>\n            <div className=\"chapter-row__hover js-hover-area\"></div>\n          </NavLink>\n        </li>\n        {chaptersData.map((chapter, key) => (\n          <li\n            key={key}\n            className=\"book-chapters__item chapter-row \"\n            ref={(element) => (itemEls.current[key + 1] = { slug: chapter.slug, el: element })}\n          >\n            <NavLink to={`/${chapter.slug}`}>\n              {/* <a href={`/${chapter.slug}`} tabIndex=\"0\"> */}\n              {/* <NavLink to={`/${chapter.slug}`}> */}\n              <div className=\"chapter-row__inner  \">\n                <div className=\"chapter-row__line js-line\"></div>\n                <span className=\"chapter-row__nr js-nr\">\n                  <IconNumber nr={chapter.chapter_nr}></IconNumber>\n                </span>\n                <span className=\"chapter-row__title js-title\">{chapter.title}</span>\n              </div>\n              <div className=\"chapter-row__hover js-hover-area\"></div>\n              {/* </NavLink> */}\n              {/* </a> */}\n            </NavLink>\n          </li>\n        ))}\n      </ul>\n    </nav>\n  );\n});\n\nexport default BookChaptersUI;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"number-01\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.36,47.61 L7.51,31.83 L11.65,14.73 L21.72,8.87 L31.24,10.72 L36.81,17.44 L40.42,30.03 L38.76,46.03 L30.2,56.19 L18.88,56.19 L11.36,47.61 Z M5.3,9.99 L0,31.84 L4.7,51.08 L15.58,63.5 L33.58,63.5 L45.78,49.08 L47.78,29.38 L43.4,13.96 L35.2,4.05 L20.41,1.18 L5.3,9.99 Z\",\n  id: \"Shape\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Path\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\",\n  points: \"76.09 0.5 69.91 12.8 63.51 12.8 63.51 20.09 72.16 20.09 75.42 18.08 75.7 17.53 75.7 56.19 61.64 56.19 61.64 63.49 95.88 63.49 95.88 56.19 83 56.19 83 2.14\"\n}));\n\nfunction SvgNumber01(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"99px\",\n    height: \"64px\",\n    viewBox: \"0 0 99 64\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"number-01\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNumber01);\nexport default __webpack_public_path__ + \"static/media/number-01.75b38f7a.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"number-02\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Path\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\",\n  points: \"70.15 0.8 67.75 1.68 56.73 10.97 61.54 16.68 71.52 8.26 80.59 8.26 87.33 12.95 87.33 21.25 78.47 30.81 64.23 41.09 57.66 50.53 57.04 52.83 57.45 59.3 61.17 62.8 97.52 62.8 97.52 55.34 64.68 55.34 64.57 53.62 69.15 46.75 83.14 36.64 93.8 25.25 94.78 22.71 94.78 11 93.19 7.93 83.9 1.47 81.77 0.8\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.36,46.93 L7.51,31.15 L11.65,14.04 L21.72,8.18 L31.24,10.03 L36.81,16.76 L40.42,29.34 L38.76,45.39 L30.2,55.5 L18.88,55.5 L11.36,46.93 Z M20.41,0.5 L5.3,9.3 L0,31.15 L4.7,50.4 L15.58,62.8 L33.58,62.8 L45.78,48.38 L47.78,28.69 L43.4,13.28 L35.2,3.37 L20.41,0.5 Z\",\n  id: \"Shape\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\"\n}));\n\nfunction SvgNumber02(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"99px\",\n    height: \"64px\",\n    viewBox: \"0 0 99 64\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"number-02\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNumber02);\nexport default __webpack_public_path__ + \"static/media/number-02.419ee08e.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"number-03\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Path\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\",\n  points: \"79.73 0 69.56 1.63 67.98 2.29 57.21 10.19 61.52 16.07 71.59 8.69 79.68 7.39 86.28 10.89 89.3 16.7 84.5 22.95 73.48 25.79 73.66 32.9 85.32 35.28 90.04 41.62 88.05 50.66 78.27 56.29 67.67 53.7 62.09 47.44 56.65 52.29 62.97 59.4 64.83 60.52 77.95 63.72 80.64 63.34 93.08 56.18 94.83 53.8 97.52 41.56 96.88 38.6 90.35 29.81 88.83 28.84 96.5 19.3 96.85 15.4 92.23 6.51 90.7 4.97 82.02 0.38\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.36,47.2 L7.51,31.42 L11.65,14.31 L21.72,8.45 L31.24,10.3 L36.81,17 L40.42,29.59 L38.76,45.59 L30.2,55.77 L18.88,55.77 L11.36,47.2 Z M5.3,9.57 L0,31.42 L4.7,50.66 L15.58,63.07 L33.58,63.07 L45.78,48.65 L47.78,28.96 L43.4,13.54 L35.2,3.64 L20.41,0.77 L5.3,9.57 Z\",\n  id: \"Shape\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\"\n}));\n\nfunction SvgNumber03(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"99px\",\n    height: \"64px\",\n    viewBox: \"0 0 99 64\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"number-03\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNumber03);\nexport default __webpack_public_path__ + \"static/media/number-03.cb219849.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"number-04\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Path\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\",\n  points: \"55.59 41.35 55.18 43.05 55.18 46.3 58.9 50.02 82.66 50.02 82.66 62.93 90.09 62.93 90.09 50.02 98.98 50.02 98.98 42.59 90.09 42.59 90.09 24.25 82.66 24.25 82.66 42.59 63.32 42.59 83.17 3.89 76.55 0.5\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.36,46.93 L7.51,31.14 L11.65,14.04 L21.71,8.18 L31.24,10.03 L36.81,16.76 L40.42,29.34 L38.76,45.39 L30.2,55.5 L18.88,55.5 L11.36,46.93 Z M20.42,0.5 L5.3,9.3 L0,31.16 L4.7,50.4 L15.58,62.8 L33.58,62.8 L45.78,48.38 L47.78,28.69 L43.4,13.28 L35.2,3.37 L20.42,0.5 Z\",\n  id: \"Shape\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\"\n}));\n\nfunction SvgNumber04(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"99px\",\n    height: \"64px\",\n    viewBox: \"0 0 99 64\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"number-04\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNumber04);\nexport default __webpack_public_path__ + \"static/media/number-04.2059fdff.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"number-05\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Path\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\",\n  points: \"63.41 1.41 59.77 4.87 58.11 36.48 64.41 39.17 76.18 26.64 82.38 26.27 90.19 33.17 91.27 46.21 82.33 56.05 74.79 56.05 66.69 53.5 62.32 48 56.61 52.53 61.67 58.91 63.43 60.12 73.14 63.17 83.94 63.34 86.64 62.15 97.73 49.95 98.67 47.2 98.67 47.19 97.34 31.11 96.13 28.67 86.08 19.79 83.44 18.89 74.29 19.44 71.85 20.59 65.92 26.91 66.88 8.7 93.71 8.7 93.71 1.41\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.36,46.93 L7.51,31.14 L11.65,14.04 L21.72,8.18 L31.24,10.03 L36.81,16.76 L40.42,29.34 L38.76,45.39 L30.2,55.5 L18.88,55.5 L11.36,46.93 Z M20.41,0.5 L5.3,9.3 L0,31.16 L4.7,50.4 L15.58,62.8 L33.58,62.8 L45.78,48.38 L47.78,28.69 L43.4,13.28 L35.2,3.37 L20.41,0.5 Z\",\n  id: \"Shape\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\"\n}));\n\nfunction SvgNumber05(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"99px\",\n    height: \"64px\",\n    viewBox: \"0 0 99 64\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"number-05\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNumber05);\nexport default __webpack_public_path__ + \"static/media/number-05.b7c201ff.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"number-06\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M63.75,48.67 L63.05,37.18 L66.67,31.66 L77.67,27.33 L87.34,29.15 L91.34,38.72 L90.08,50.72 L79.29,55.5 L71.54,55.5 L63.75,48.67 Z M73.73,0.56 L71.83,1.08 L62.74,6.62 L61.17,8.62 L55.35,26.79 L55.18,28.12 L56.56,50.64 L57.81,53.16 L67.81,61.85 L70.21,62.75 L80.08,62.75 L81.55,62.44 L95,56.5 L97.15,53.5 L98.73,38.5 L98.73,38.5 L98.47,36.72 L93.29,24.5 L90.6,22.34 L78,19.97 L76,20.16 L63.57,25.04 L67.7,12.15 L74.7,7.85 L83.82,7.85 L93.27,12.95 L96.79,6.5 L86.52,0.99 L84.79,0.56 L73.73,0.56 Z\",\n  id: \"Shape\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M11.36,46.93 L7.51,31.15 L11.65,14.04 L21.72,8.18 L31.24,10.04 L36.81,16.76 L40.42,29.34 L38.76,45.39 L30.2,55.5 L18.88,55.5 L11.36,46.93 Z M20.41,0.5 L5.3,9.31 L0,31.16 L4.7,50.4 L15.58,62.8 L33.58,62.8 L45.78,48.39 L47.78,28.69 L43.4,13.28 L35.2,3.37 L20.41,0.5 Z\",\n  id: \"Shape\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\"\n}));\n\nfunction SvgNumber06(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"99px\",\n    height: \"64px\",\n    viewBox: \"0 0 99 64\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"number-06\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNumber06);\nexport default __webpack_public_path__ + \"static/media/number-06.4e133089.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as Number01 } from \"../assets/number-01.svg\";\nimport { ReactComponent as Number02 } from \"../assets/number-02.svg\";\nimport { ReactComponent as Number03 } from \"../assets/number-03.svg\";\nimport { ReactComponent as Number04 } from \"../assets/number-04.svg\";\nimport { ReactComponent as Number05 } from \"../assets/number-05.svg\";\nimport { ReactComponent as Number06 } from \"../assets/number-06.svg\";\n\nfunction IconNumber(props) {\n  let getIcon = (nr) => {\n    switch (nr) {\n      case \"01\":\n        return <Number01></Number01>;\n        break;\n      case \"02\":\n        return <Number02></Number02>;\n        break;\n      case \"03\":\n        return <Number03></Number03>;\n        break;\n      case \"04\":\n        return <Number04></Number04>;\n        break;\n      case \"05\":\n        return <Number05></Number05>;\n        break;\n      case \"06\":\n        return <Number06></Number06>;\n        break;\n    }\n  };\n  return <div className=\"icon-number\">{getIcon(props.nr)}</div>;\n}\n\nexport default IconNumber;\n","function ElementText(props) {\n  return (\n    <section className=\"component component--text container\">\n      {props.aside && (\n        <aside dangerouslySetInnerHTML={{ __html: props.aside }}>\n          {/* <p>\n            Part of the essay, Creating Participatory Events, by Allen Gunn of\n            Aspiration, and one of the Founding MozFest Organisers. Written for\n            The Shuttleworth Foundation in 2008.\n          </p> */}\n        </aside>\n      )}\n      <div\n        className=\"text\"\n        dangerouslySetInnerHTML={{ __html: props.text }}\n      ></div>\n    </section>\n  );\n}\n\nexport default ElementText;\n","import { useRef, useEffect, useLayoutEffect } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport Image from \"../Image\";\ngsap.registerPlugin(ScrollTrigger);\n\nfunction ElementImage(props) {\n  const { transitionDone, image } = props;\n  const growEl = useRef(null);\n  const growInnerEl = useRef(null);\n\n  useLayoutEffect(() => {\n    if (!window.matchMedia(\"(min-width:600px)\").matches) return;\n\n    console.log(`init ${image.src}`);\n    let tween = gsap.to(growInnerEl.current, {\n      scale: 1,\n      scrollTrigger: {\n        trigger: growEl.current,\n        start: \"top 90%\",\n        end: \"top 30%\",\n        once: true,\n        // markers: true,\n        scrub: true\n      }\n    });\n\n    return () => {\n      if (tween) tween.kill(true);\n    };\n  }, []);\n\n  return (\n    <div className=\"component component--image container\">\n      <div className=\"grow-image\" ref={growEl}>\n        <div className=\"grow-image__inner\" ref={growInnerEl}>\n          <Image keepAspect=\"true\" {...image}></Image>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ElementImage;\n","import { useRef, useEffect, useLayoutEffect } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport parse from \"html-react-parser\";\nimport Icon from \"../Icon\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nfunction ElementBullets(props) {\n  const { bullets } = props;\n  const ref = useRef(null);\n\n  useLayoutEffect(() => {\n    const bullets = ref.current.querySelectorAll(\"li\");\n    let triggers = [];\n\n    bullets.forEach((element) => {\n      let trigger = ScrollTrigger.create({\n        trigger: element,\n        start: \"top 70%\",\n        onToggle: (e) => {\n          if (e.isActive) {\n            e.trigger.classList.add(\"is-active\");\n          } else {\n            e.trigger.classList.remove(\"is-active\");\n          }\n        }\n      });\n\n      triggers.push(trigger);\n    });\n\n    // kill\n    return () => {\n      triggers.forEach((trigger) => {\n        trigger.kill(true);\n      });\n    };\n  }, []);\n\n  return (\n    <div className=\"component component--bullets container\">\n      <ul className=\"bullets-hands\" ref={ref}>\n        {bullets.map((bullet, index) => (\n          <li key={index}>\n            <Icon icon=\"hand\"></Icon>\n            <div>{parse(bullet)}</div>\n          </li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n\nexport default ElementBullets;\n","import React, { useRef, useEffect, useState } from \"react\";\nimport { useGlobal } from \"reactn\";\n\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport Image from \"../Image\";\nimport { TransitionGroup, Transition } from \"react-transition-group\";\nimport useKeypress from \"hooks/useKeyPress\";\n\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\ngsap.registerPlugin(ScrollTrigger);\n\n// function ClampedText(props) {\n//   return <div>\n\n//   </div>\n// }\nfunction InlineFoldout(props) {\n  const { name, position, text } = props;\n  const [expanded, setExpanded] = useState(false);\n  const [clamped, setClamped] = useState(false);\n\n  const refContainer = useRef();\n  const refPanel = useRef();\n  const refSizer = useRef();\n  const refPanelInner = useRef();\n  const collapsedSize = useRef;\n\n  const fullDimension = useRef();\n\n  const [theText, setTheText] = useState(props.text);\n\n  let onClick = () => {\n    setExpanded(!expanded);\n  };\n\n  useEffect(() => {\n    fullDimension.current = {\n      width: refPanelInner.current.offsetWidth,\n      height: refPanelInner.current.offsetHeight\n    };\n    // gsap.set(refPanelInner.current, { height: \"100px\", width: \"100px\" });\n  }, []);\n\n  useEffect(() => {\n    if (expanded) {\n      setClamped(false);\n\n      gsap.to(refPanelInner.current, {\n        height: fullDimension.current.height,\n        width: fullDimension.current.width,\n        duration: 0.3,\n        ease: \"Power4.easeOut\"\n      });\n\n      refContainer.current.focus();\n    } else {\n      gsap.to(refPanelInner.current, {\n        height: refSizer.current.offsetHeight,\n        width: refSizer.current.offsetWidth,\n        duration: 0.3,\n        ease: \"Power4.easeOut\",\n        onComplete: () => {\n          setClamped(true);\n        }\n      });\n    }\n  }, [expanded]);\n\n  return (\n    <div\n      className={`inline-foldout ${expanded ? \"is-expanded\" : \"\"} ${clamped ? \"is-clamped\" : \"\"}`}\n      onClick={onClick}\n      role=\"dialog\"\n      ref={refContainer}\n      aria-expanded={expanded}\n    >\n      <div className=\"inline-foldout__meta\">\n        <span className=\"meta__name\">{name}</span>\n        <span className=\"meta__position\">{position}</span>\n      </div>\n      <div className=\"inline-foldout__sizer\" ref={refSizer}></div>\n      <div className=\"inline-foldout__panel foldout-panel\" ref={refPanel}>\n        <div className=\"foldout-panel__inner\" ref={refPanelInner}>\n          <div className=\"foldout-panel__wrapper\" dangerouslySetInnerHTML={{ __html: theText }}></div>\n        </div>\n        <div className=\"foldout-panel__footer\">\n          <button>{`${expanded ? \"Close\" : \"Read more\"}`}</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ParallaxImage(props) {\n  const { image } = props;\n\n  const imageRef = useRef(null);\n  const [lightboxImage, setLightboxImage] = useState(false);\n  const [appBlur, setAppBlur] = useGlobal(\"appBlur\");\n  const [imageBnd, setImageBnd] = useState(false);\n  useEffect(() => {\n    // setInterval(() => {\n    //   let bnd = imageRef.current.getBoundingClientRect();\n    //   // window.pageYOffset + el.getBoundingClientRect().top\n    //   console.log(window.pageYOffset);\n    //   // ScrollTrigger.refresh();\n    // }, 2000);\n    gsap.set(imageRef.current, { left: `${80 * Math.random()}%` });\n    let tween = gsap.to(imageRef.current, {\n      yPercent: -100,\n      ease: \"none\",\n      scrollTrigger: {\n        trigger: imageRef.current,\n        start: \"top bottom\",\n        end: \"bottom top\",\n\n        // start: \"top bottom\", // the default values\n        // end: \"bottom top\",\n        scrub: true\n      }\n    });\n\n    return () => {\n      if (tween) tween.kill(true);\n    };\n    // setChapterIndexOpen(false);\n  }, []);\n  // gsap.to(\".pImage\", {\n  //   yPercent: 50,\n  //   ease: \"none\",\n  //   scrollTrigger: {\n  //     trigger: \".pSection\",\n  //     // start: \"top bottom\", // the default values\n  //     // end: \"bottom top\",\n  //     scrub: true\n  //   },\n  // });\n\n  let onClick = () => {\n    // setAppBlur(true);\n\n    setImageBnd(imageRef.current.getBoundingClientRect());\n    setLightboxImage(true);\n  };\n  let onClose = () => {\n    setLightboxImage(false);\n  };\n  let getImage = () => {\n    return imageRef.current;\n  };\n  return (\n    <>\n      <div onClick={onClick}>\n        <Image ref={imageRef} keepAspect=\"true\" {...image} onClick={onClick} caption={false}></Image>\n      </div>\n      <OverlayLightbox\n        onClose={onClose}\n        visibleToggle={lightboxImage}\n        clickedImageRef={imageRef}\n        image={image}\n        getImage={getImage}\n      ></OverlayLightbox>\n    </>\n  );\n}\n\nfunction OverlayLightbox(props) {\n  const { visibleToggle, onClose, image, clickedImageRef } = props;\n  const [visible, setVisible] = useState(props.visibleToggle);\n  const [scale, setScale] = useState(1);\n  const transImageRef = useRef(null);\n  const imageRef = useRef(null);\n  const ref = useRef(null);\n\n  let options = {\n    minScale: 0,\n    centerContent: true,\n    limitToBounds: false\n  };\n\n  let wheelOptions = {\n    disabled: true\n  };\n  let defaultScale = 1;\n\n  let transImageStyle = {\n    position: \"absolute\"\n  };\n\n  let getEnlargedScale = () => {\n    let vPadding = 140;\n    // let hPadding = 40;\n\n    if (window.matchMedia(\"(min-width:600px)\").matches) {\n      vPadding = 60;\n    }\n\n    //\n    let wHeight = window.innerHeight * 0.9 - vPadding;\n    let wWidth = window.innerWidth * 0.9;\n\n    let startDimensions = { w: image.width, h: image.height };\n    let adjustedOptions = {};\n    let adjustedScale;\n\n    let scale = 1;\n\n    let imageAspect = image.height / image.width;\n    let viewerAspect = wHeight / wWidth;\n\n    //\n    if (image.height < wHeight && image.width < wWidth) {\n      scale = 1;\n    } else {\n      if (imageAspect < viewerAspect) {\n        scale = wWidth / image.width;\n      } else {\n        scale = wHeight / image.height;\n      }\n    }\n\n    // if (image.height < wHeight - vPadding && image.width < wWidth - hPadding) {\n    //   scale = 1;\n    // } else {\n    //   let calcScale;\n\n    //   // !! also adhere to wide images\n    //   if (image.height >= wHeight - vPadding) {\n    //     calcScale = (wHeight - vPadding * 2) / image.height;\n    //   } else if (image.width >= wWidth - hPadding) {\n    //     calcScale = (wWidth - hPadding * 2) / image.width;\n    //   }\n\n    //   startDimensions = {\n    //     w: startDimensions.w * calcScale,\n    //     h: startDimensions.h * calcScale\n    //   };\n\n    //   scale = calcScale;\n    // }\n\n    return scale;\n  };\n\n  let onEnter = () => {\n    // console.log(\"onEter\");\n    gsap.set(transImageRef.current, { opacity: 1, position: \"absolute\" });\n    gsap.set(imageRef.current, { opacity: 0 });\n    gsap.set(clickedImageRef.current, { opacity: 0 });\n\n    let imageBnd = clickedImageRef.current.getBoundingClientRect();\n\n    let toScale = getEnlargedScale();\n\n    let start = {\n      x: imageBnd.x + \"px\",\n      y: imageBnd.y + \"px\",\n      scale: imageBnd.width / image.width\n    };\n\n    // position the scalable image\n    gsap.set(imageRef.current, {\n      opacity: 0,\n      x: window.innerWidth / 2 - image.width / 2 + \"px\",\n      y: window.innerHeight / 2 - image.height / 2 + \"px\",\n      transformOrigin: \"center center\",\n      scale: toScale\n    });\n\n    // do the transition\n    // initial\n    gsap.set(transImageRef.current, {\n      ...start,\n      transformOrigin: \"top left\"\n    });\n\n    //\n    gsap.to(transImageRef.current, {\n      x: window.innerWidth / 2 - (image.width * toScale) / 2 + \"px\",\n      y: window.innerHeight / 2 - (image.height * toScale) / 2 + \"px\",\n      scale: toScale,\n      duration: 0.2,\n      onComplete: () => {\n        gsap.set(imageRef.current, { opacity: 1 });\n        gsap.set(transImageRef.current, { opacity: 0 });\n      }\n    });\n    return;\n  };\n\n  let onExit = () => {\n    let imageBnd = clickedImageRef.current.getBoundingClientRect();\n\n    gsap.set(transImageRef.current, { opacity: 1 });\n    gsap.set(imageRef.current, { opacity: 0 });\n\n    gsap.to(transImageRef.current, {\n      x: imageBnd.x + \"px\",\n      y: imageBnd.y + \"px\",\n      scale: imageBnd.width / image.width,\n      duration: 0.2,\n      onComplete: () => {\n        gsap.set(clickedImageRef.current, { opacity: 1 });\n        gsap.set(transImageRef.current, { opacity: 0 });\n      }\n    });\n  };\n\n  useEffect(() => {\n    setVisible(visibleToggle);\n  }, [visibleToggle]);\n\n  // prepare image size\n\n  // lock scrolling when element appears\n  useEffect(() => {\n    if (visible) {\n      disableBodyScroll(ref.current);\n    } else {\n      clearAllBodyScrollLocks();\n    }\n\n    return () => {\n      clearAllBodyScrollLocks();\n    };\n  }, [visible]);\n\n  useKeypress(\"Escape\", onClose);\n  return (\n    <Transition in={visible} onEnter={onEnter} onExit={onExit} timeout={500} mountOnEnter unmountOnExit>\n      <div className=\"overlay-lightbox\" onClick={onClose} ref={ref}>\n        <div>\n          <img\n            src={image.src}\n            alt={image.alt}\n            ref={transImageRef}\n            className=\"transition-image\"\n            aria-hidden=\"true\"\n          ></img>\n          <img\n            src={image.src}\n            alt={image.alt}\n            ref={imageRef}\n            // style={transImageStyle}\n          />\n        </div>\n      </div>\n    </Transition>\n  );\n}\nfunction DoubleColumnSection(props) {\n  const { text, image, foldout } = props;\n  return (\n    <div className=\"double-column\">\n      <div className=\"double-column__text\">\n        <div className=\"text\" dangerouslySetInnerHTML={{ __html: text }}></div>\n        {image && <ParallaxImage image={image}></ParallaxImage>}\n      </div>\n      <div className=\"double-column__quote\">\n        {foldout && <InlineFoldout name={foldout.name} position={foldout.position} text={foldout.text}></InlineFoldout>}\n      </div>\n    </div>\n  );\n}\n\nfunction ElementDoubleColumn(props) {\n  // console.log(props);\n  const { content } = props;\n  return (\n    <div className=\"component component--double-column container\">\n      {content.map((content, index) => (\n        <DoubleColumnSection\n          key={index}\n          foldout={content.foldout}\n          text={content.text}\n          image={content.image}\n        ></DoubleColumnSection>\n      ))}\n    </div>\n  );\n}\n\nexport default ElementDoubleColumn;\n","import { useRef, useEffect, useCallback } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nexport default function DialogueParagraph(props) {\n  const { reveal, onRevealed, paragraphId } = props;\n  const ref = useRef();\n  const paragraphRef = useRef(null);\n  const paragraphLoaderRef = useRef(null);\n  const isRevealed = useRef(false);\n\n  let hideText = useCallback(() => {\n    gsap.set([ref.current, paragraphRef.current], { opacity: 0 });\n    gsap.set(paragraphRef.current, { y: \"10px\" });\n  }, []);\n\n  let revealText = useCallback(() => {\n    if (isRevealed.current) return;\n\n    gsap.to(paragraphLoaderRef.current, { opacity: 0, duration: 0.2 });\n    gsap.to(paragraphRef.current, {\n      delay: 0.2,\n      duration: 0.2,\n      opacity: 1,\n      y: \"0px\",\n      onComplete: () => {\n        isRevealed.current = true;\n        onRevealed(paragraphId);\n      }\n    });\n  }, [paragraphId, onRevealed]);\n\n  useEffect(() => {\n    hideText();\n  }, [hideText]);\n\n  // listen for page scrolling\n  useEffect(() => {\n    if (!reveal) return;\n\n    let mainTrigger;\n    let textTrigger;\n    let revealTimeout;\n\n    // main trigger\n    mainTrigger = ScrollTrigger.create({\n      trigger: ref.current,\n      start: \"top 90%\",\n      onEnter: (e) => {\n        gsap.to(ref.current, { opacity: 1, y: \"0px\" });\n        revealTimeout = setTimeout(revealText, 1500);\n      }\n    });\n\n    // text reveal trigger\n    // textTrigger = ScrollTrigger.create({\n    //   trigger: ref.current,\n    //   start: \"top 50%\",\n    //   onEnter: (e) => {\n    //     clearTimeout(revealTimeout);\n    //     setTimeout(revealText, 250);\n    //   }\n    // });\n\n    return () => {\n      if (mainTrigger) mainTrigger.kill(true);\n      if (textTrigger) textTrigger.kill(true);\n    };\n  }, [reveal, revealText]);\n\n  return (\n    <div className=\"dialogue-paragraph\" ref={ref}>\n      <div\n        className=\"dialogue-paragraph__text\"\n        ref={paragraphRef}\n        dangerouslySetInnerHTML={{ __html: props.text }}\n      ></div>\n\n      <div className=\"dialogue-paragraph__loader\" ref={paragraphLoaderRef}>\n        <div></div>\n        <div></div>\n        <div></div>\n      </div>\n    </div>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-arrow-small\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  fill: \"#202020\",\n  transform: \"translate(9.000000, 9.500000) scale(1, -1) translate(-9.000000, -9.500000) \",\n  x: 8.5,\n  y: 5.5,\n  width: 1,\n  height: 8\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  id: \"Path-2\",\n  stroke: \"#202020\",\n  transform: \"translate(9.000000, 7.000000) scale(1, -1) translate(-9.000000, -7.000000) \",\n  points: \"5 5 9 9 13 5\"\n}));\n\nfunction SvgIconArrowSmall(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"18px\",\n    height: \"18px\",\n    viewBox: \"0 0 18 18\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-arrow-small\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconArrowSmall);\nexport default __webpack_public_path__ + \"static/media/icon-arrow-small.6a1afa53.svg\";\nexport { ForwardRef as ReactComponent };","import { useRef, useEffect, useState } from \"react\";\nimport { useGlobal, useDispatch } from \"reactn\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\nimport AuthorAvatar from \"components/Author/AuthorAvatar\";\nimport DialogueParagraph from \"./DialogueParagraph\";\nimport { ReactComponent as IconArrowSmall } from \"assets/icon-arrow-small.svg\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nfunction DialogueMoment(props) {\n  const { participant, onRevealed, dialogue, dialogueIndex, revealList } = props;\n  const showAuthorDispatch = useDispatch(\"showAuthor\");\n  const [authors] = useGlobal(\"authors\");\n  const [reveal, setReveal] = useState(false);\n  const dialogueRef = useRef(null);\n  const author = getAuthor(participant);\n  const mainTrigger = useRef();\n  const [paragraphRevealList, setParagraphRevealList] = useState([]);\n\n  function onClick() {\n    showAuthorDispatch(author.id);\n  }\n\n  function getAuthor(id) {\n    let author = authors.find((o) => o.id === id);\n    return author ? author : {};\n  }\n\n  function hideDialogue() {\n    gsap.set([dialogueRef.current], { opacity: 0 });\n    gsap.set(dialogueRef.current, { y: \"10px\" });\n  }\n\n  function revealDialogue() {\n    gsap.to(dialogueRef.current, {\n      opacity: 1,\n      y: \"0px\"\n    });\n  }\n\n  //\n  useEffect(() => {\n    hideDialogue();\n  }, []);\n\n  useEffect(() => {\n    if (reveal) return;\n    let readyToReveal = revealList.indexOf(dialogueIndex) > -1;\n    if (readyToReveal) {\n      setReveal(true);\n      setParagraphRevealList([0]);\n    }\n  }, [revealList, reveal, dialogueIndex]);\n\n  // listen for page scrolling\n  useEffect(() => {\n    if (!reveal) return;\n\n    // main trigger\n    mainTrigger.current = ScrollTrigger.create({\n      trigger: dialogueRef.current,\n      start: \"top 90%\",\n      onEnter: () => {\n        if (reveal) {\n          revealDialogue();\n        }\n      }\n    });\n\n    return () => {\n      if (mainTrigger.current) mainTrigger.current.kill(true);\n    };\n  }, [reveal]);\n\n  // keep track of the revealed paragraphs, as soon as all paragraphs are\n  // revealed we notify the dialogue and state that this part is done.\n  // This triggers the loading of the next paragraph\n  let onParagraphReveal = (index) => {\n    if (index < dialogue.length - 1) {\n      // paragraph reveal, reveal next paragraph\n      setParagraphRevealList([...paragraphRevealList, index + 1]);\n    } else {\n      // everything reveal, reveal next dialogue\n      // add a slight delay for a little breathing space\n      setTimeout(() => {\n        onRevealed(dialogueIndex);\n      }, 250);\n    }\n  };\n\n  return (\n    <div className=\"dialogue-moment is-loading\" ref={dialogueRef}>\n      <div className=\"dialogue-moment__author\">\n        <button className=\"dialogue-moment__avatar\" onClick={onClick}>\n          <AuthorAvatar {...author.image}></AuthorAvatar>\n          <div className=\"dialogue-moment__avatar-label\">\n            <IconArrowSmall></IconArrowSmall>\n            <span>About</span>\n          </div>\n        </button>\n      </div>\n      <div className=\"dialogue-moment__body\">\n        <div className=\"dialogue-moment__text\">\n          {dialogue.map((paragraph, index) => (\n            <DialogueParagraph\n              key={index}\n              text={paragraph}\n              reveal={paragraphRevealList.indexOf(index) > -1}\n              paragraphId={index}\n              onRevealed={onParagraphReveal}\n            ></DialogueParagraph>\n          ))}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default DialogueMoment;\n","import { useState } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n//\nimport DialogueMoment from \"./DialogueMoment\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nfunction Dialogue(props) {\n  const { conversation } = props;\n  const [revealList, setRevealList] = useState([0]);\n\n  let onDialogueMomentReveal = (index) => {\n    if (index < conversation.length - 1) {\n      setRevealList([...revealList, index + 1]);\n    }\n  };\n\n  return (\n    <>\n      <div className=\"dialogue\">\n        {conversation.map((content, index) => (\n          <DialogueMoment\n            key={index}\n            dialogueIndex={index}\n            participant={content.participant}\n            dialogue={content.text}\n            revealList={revealList}\n            onRevealed={onDialogueMomentReveal}\n          ></DialogueMoment>\n        ))}\n      </div>\n    </>\n  );\n}\n\nexport default Dialogue;\n","import { useRef, useEffect, useState } from \"react\";\nimport { useGlobal } from \"reactn\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport Dialogue from \"../Dialogue/index\";\ngsap.registerPlugin(ScrollTrigger);\n\n// ---------------------------------------------------------------- //\n// function InlineFoldout(props) {\n//   const { name, position, text } = props;\n//   const [expanded, setExpanded] = useState(false);\n\n//   let onClick = () => {\n//     setExpanded(!expanded);\n//   };\n\n//   return (\n//     <div\n//       className={`inline-foldout ${expanded ? \"is-expanded\" : \"\"}`}\n//       onClick={onClick}\n//       role=\"dialog\"\n//     >\n//       <div className=\"inline-foldout__meta\">\n//         <span>{name}</span>\n//         <span>{position}</span>\n//       </div>\n//       <div className=\"inline-foldout__panel foldout-panel\">\n//         <div className=\"foldout-panel__inner\">\n//           <div className=\"foldout-panel__wrapper\">{text}</div>\n//         </div>\n//         <div className=\"foldout-panel__footer\">\n//           <button>Read more</button>\n//         </div>\n//       </div>\n//     </div>\n//   );\n// }\n// function DoubleColumnSection(props) {\n//   const { text, foldout } = props;\n\n//   return (\n//     <div className=\"double-column\">\n//       <div className=\"double-column__text\">{text}</div>\n//       <div className=\"double-column__quote\">\n//         {foldout && (\n//           <InlineFoldout\n//             name={foldout.name}\n//             position={foldout.position}\n//             text={foldout.text}\n//           ></InlineFoldout>\n//         )}\n//       </div>\n//     </div>\n//   );\n// }\n\nfunction AuthorAvatar(props) {\n  const { src, alt } = props;\n\n  var style = {\n    backgroundImage: `url(${src})`\n  };\n  return (\n    <div className=\"participant-avatar\">\n      <figure>\n        <img style={style} alt={alt}></img>\n      </figure>\n    </div>\n  );\n}\nfunction DialogueMoment(props) {\n  const { participant, dialogue, onParticipantClick } = props;\n\n  const dialogueRef = useRef(null);\n  const dialogueText = useRef(null);\n  const dialogueLoader = useRef(null);\n\n  let revealText = () => {\n    gsap.to(dialogueLoader.current, { opacity: 0, duration: 0.2 });\n    gsap.to(dialogueText.current, { delay: 0.2, opacity: 1, y: \"0px\" });\n  };\n\n  let onClick = () => {\n    onParticipantClick(participant.id);\n  };\n\n  // listen for page scrolling\n  useEffect(() => {\n    let mainTrigger;\n    let textTrigger;\n    let revealTimeout;\n\n    gsap.set([dialogueRef.current, dialogueText.current], { opacity: 0 });\n    gsap.set(dialogueRef.current, { y: \"10px\" });\n    gsap.set(dialogueText.current, { y: \"10px\" });\n\n    // main trigger\n    mainTrigger = ScrollTrigger.create({\n      trigger: dialogueRef.current,\n      start: \"top 90%\",\n      // markers: true,\n      onToggle: (e) => {\n        if (e.isActive) {\n          gsap.to(dialogueRef.current, { opacity: 1, y: \"0px\" });\n          revealTimeout = setTimeout(revealText, 2000);\n        }\n      }\n    });\n\n    // text reveal trigger\n    textTrigger = ScrollTrigger.create({\n      trigger: dialogueRef.current,\n      start: \"top 50%\",\n      // markers: true,\n      onToggle: (e) => {\n        if (e.isActive) {\n          revealText();\n          clearTimeout(revealTimeout);\n        }\n      }\n    });\n\n    return () => {\n      if (mainTrigger) mainTrigger.kill(true);\n      if (textTrigger) textTrigger.kill(true);\n    };\n  }, []);\n\n  return (\n    <div className=\"dialogue-moment is-loading\" ref={dialogueRef}>\n      <div className=\"dialogue-moment__author\">\n        <div className=\"dialogue-moment__avatar\" onClick={onClick}>\n          <AuthorAvatar {...participant.image}></AuthorAvatar>\n        </div>\n      </div>\n      <div className=\"dialogue-moment__body\">\n        <div className=\"dialogue-moment__text\" ref={dialogueText} dangerouslySetInnerHTML={{ __html: dialogue }}></div>\n        <div className=\"dialogue-moment__loader\" ref={dialogueLoader}>\n          <div></div>\n          <div></div>\n          <div></div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ElementConversation(props) {\n  // console.log(props);\n  const { participants, conversation } = props;\n  const [showOverlay, setShowOverlay] = useState(false);\n  const [overlayBio, setOverlayBio] = useState(false);\n\n  const [appBlur, setAppBlur] = useGlobal(\"appBlur\");\n\n  let getParticipant = (id) => {\n    return participants.find((o) => o.id === id);\n  };\n\n  let onParticipantClick = (participantId) => {\n    // console.log(\"ci\");\n    // setOverlayBio(participantId);\n    setAppBlur(true);\n    setShowOverlay(participantId);\n  };\n\n  let onCloseOverlay = () => {\n    // console.log(\"onclose\");\n    setAppBlur(false);\n    setShowOverlay(false);\n  };\n  return (\n    <div className=\"component component--conversation container\">\n      <Dialogue {...props}></Dialogue>\n    </div>\n  );\n}\nexport default ElementConversation;\n","function GetParentScrollContainer(element) {\n  let scrollContainer = document.querySelector(\".is-scrollcontainer\");\n  if (!scrollContainer) return false;\n  return scrollContainer.contains(element) ? scrollContainer : false;\n}\n\nexport default GetParentScrollContainer;\n","import { useRef, useEffect, useLayoutEffect } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport Image from \"../Image\";\nimport GetParentScrollContainer from \"../../common/GetParentScrollContainer\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nfunction ElementTextImages(props) {\n  const { text, images } = props;\n\n  const image = images[0];\n  const imageRef = useRef(null);\n  const textRef = useRef(null);\n  const sizerPortrait = useRef(null);\n  const sizerLanscape = useRef(null);\n\n  let revealCaption = () => {\n    if (!imageRef.current) return;\n\n    let figcaptionEl = imageRef.current.querySelector(\"figcaption\");\n    if (!figcaptionEl) return;\n\n    gsap.to(figcaptionEl, { opacity: 1 });\n  };\n\n  useLayoutEffect(() => {\n    if (!window.matchMedia(\"(min-width:600px)\").matches) return;\n\n    let timeline;\n    let trigger;\n\n    if (imageRef) {\n      console.log(\"oke!\");\n      let scrollContainer = GetParentScrollContainer(imageRef.current);\n\n      let figcaptionEl = imageRef.current.querySelector(\"figcaption\");\n      let startScale = sizerLanscape.current.offsetWidth / imageRef.current.offsetWidth;\n      let imgWidth = imageRef.current.offsetWidth;\n      let imgHeight = imageRef.current.offsetHeight;\n\n      let newImgHeight = imgHeight * startScale;\n\n      // hide figcaption\n      if (figcaptionEl) {\n        gsap.set(figcaptionEl, { opacity: 0 });\n      }\n\n      gsap.set(imageRef.current, {\n        transformOrigin: \"top left\",\n        scale: startScale\n        // y: `-${(newImgHeight / imgHeight) * 100}%`\n      });\n\n      timeline = gsap.timeline({\n        onComplete: revealCaption,\n        scrollTrigger: {\n          scroller: scrollContainer,\n          trigger: imageRef.current,\n          start: \"center bottom\",\n          scrub: 0.2,\n          once: true\n          // markers: true\n          // onScrubComplete: revealCaption\n        },\n        ease: \"linear\"\n      });\n      timeline\n        .set(imageRef.current, {\n          transformOrigin: \"top left\",\n          scale: startScale\n          // y: `-${(newImgHeight / imgHeight) * 100}%`\n        })\n        // .to(imageRef.current, { y: \"0%\", ease: \"linear\" })\n        .to(imageRef.current, { scale: 1, ease: \"linear\" });\n\n      // store the trigger\n      trigger = timeline.scrollTrigger;\n    }\n\n    return () => {\n      if (trigger) trigger.kill(true);\n      if (timeline) timeline.kill(true);\n    };\n  }, []);\n\n  return (\n    <div className=\"component component--text-images container\">\n      <div className=\"text-images\">\n        <div className=\"text-images__sizer text-images__sizer--portrait\" ref={sizerPortrait}></div>\n        <div className=\"text-images__sizer text-images__sizer--landscape\" ref={sizerLanscape}></div>\n\n        <div className=\"text-images__image\">\n          <Image keepAspect=\"true\" {...image} ref={imageRef}></Image>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default ElementTextImages;\n","import parse from \"html-react-parser\";\n\nfunction ElementQuote(props) {\n  const { author, quote, style } = props;\n  // console.log(props);\n  return (\n    <section className=\"component component--quote  container\">\n      <blockquote>\n        {parse(quote)}\n        {author && <cite>{author}</cite>}\n      </blockquote>\n    </section>\n  );\n}\n\nexport default ElementQuote;\n","import parse from \"html-react-parser\";\nimport { useRef, useEffect, useState } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\nfunction InlineFoldout(props) {\n  const { name, position, text } = props;\n  const [expanded, setExpanded] = useState(false);\n  let onClick = () => {\n    setExpanded(!expanded);\n  };\n\n  return (\n    <div className={`inline-foldout ${expanded ? \"is-expanded\" : \"\"}`} onClick={onClick} role=\"dialog\">\n      <div className=\"inline-foldout__meta\">\n        <span className=\"meta__name\">{name}</span>\n        <span className=\"meta__position\">{position}</span>\n      </div>\n      <div className=\"inline-foldout__panel foldout-panel\">\n        <div className=\"foldout-panel__inner\">\n          <div className=\"foldout-panel__wrapper\" dangerouslySetInnerHTML={{ __html: text }}></div>\n        </div>\n        <div className=\"foldout-panel__footer\">\n          <button>Read more</button>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nfunction ElementStory(props) {\n  const [expanded, setExpanded] = useState(false);\n  let onClick = () => {\n    setExpanded(!expanded);\n  };\n  const refBody = useRef();\n\n  let getLabel = () => {\n    if (expanded) {\n      return \"Close\";\n    } else {\n      return \"Read more\";\n    }\n  };\n\n  useEffect(() => {\n    if (expanded) {\n      // let expandedheight =\n      // gsap.set(refBody.current, { height: refBody.current.scrollHeight });\n      gsap.to(refBody.current, {\n        height: refBody.current.scrollHeight,\n        onComplete: () => {\n          // ScrollTrigger.refresh();\n        }\n      });\n    } else {\n      gsap.to(refBody.current, {\n        height: \"0px\",\n        onComplete: () => {\n          // ScrollTrigger.refresh();\n        }\n      });\n    }\n  }, [expanded]);\n\n  // console.log(props);\n  return (\n    <section className=\"component component--story container\">\n      <article className={`inline-story ${expanded ? \"is-expanded\" : \"\"}`}>\n        <header>\n          <h2>{props.title}</h2>\n          <h3>{props.intro}</h3>\n        </header>\n        <section className=\"inline-story__body\" ref={refBody}>\n          <div className=\"text\">{parse(props.text)}</div>\n        </section>\n        <footer>\n          <button onClick={onClick}>{getLabel()}</button>\n        </footer>\n      </article>\n    </section>\n  );\n}\n\nexport default ElementStory;\n","import { useRef, useEffect, useLayoutEffect } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\ngsap.registerPlugin(ScrollTrigger);\n\nfunction ElementTextScaling(props) {\n  const ref = useRef(null);\n  const sizerScaledRef = useRef(null);\n  const sizerNormalRef = useRef(null);\n\n  useLayoutEffect(() => {\n    if (!window.matchMedia(\"(min-width:600px)\").matches) return;\n\n    let triggers = [];\n\n    let scaledWidth = sizerScaledRef.current.offsetWidth;\n    let normalWidth = sizerNormalRef.current.offsetWidth;\n\n    gsap.set(ref.current, { scale: scaledWidth / normalWidth });\n\n    // let trigger = ScrollTrigger.create({\n    //   trigger: ref.current,\n    //   start: \"top 70%\",\n    //   // markers: true,\n    //   once: true,\n    //   onToggle: (e) => {\n    //     if (e.isActive) {\n    //       gsap.to(ref.current, { scale: 1 });\n    //     }\n    //   }\n    // });\n\n    let tween = gsap.to(ref.current, {\n      scale: 1,\n      scrollTrigger: {\n        trigger: ref.current,\n        start: \"top 90%\",\n        end: \"top center\",\n        scrub: true\n        // onScrubComplete: revealCaption\n      }\n    });\n\n    // kill\n    return () => {\n      if (tween) tween.kill(true);\n    };\n  }, []);\n\n  return (\n    <section className=\"component component--text-scaling container\">\n      <div className=\"scaling-text\">\n        <span className=\"scaling-text__scaled\" ref={sizerScaledRef}></span>\n        <span className=\"scaling-text__normal\" ref={sizerNormalRef}></span>\n\n        <div className=\"scaling-text__text text \" dangerouslySetInnerHTML={{ __html: props.text }} ref={ref}></div>\n      </div>\n    </section>\n  );\n}\n\nexport default ElementTextScaling;\n\nfunction ElementBullets(props) {\n  const { bullets } = props;\n  const ref = useRef(null);\n\n  useLayoutEffect(() => {\n    const bullets = ref.current.querySelectorAll(\"li\");\n    let triggers = [];\n\n    bullets.forEach((element) => {\n      let trigger = ScrollTrigger.create({\n        trigger: element,\n        start: \"top center\",\n        onToggle: (e) => {\n          if (e.isActive) {\n            e.trigger.classList.add(\"is-active\");\n          } else {\n            e.trigger.classList.remove(\"is-active\");\n          }\n        }\n      });\n\n      triggers.push(trigger);\n    });\n\n    // kill\n    return () => {\n      triggers.forEach((trigger) => {\n        trigger.kill(true);\n      });\n    };\n  }, []);\n\n  return (\n    <div className=\"component component--bullets container\">\n      <ul className=\"bullets-hands\" ref={ref}>\n        {bullets.map((bullet, index) => (\n          <li key={index} dangerouslySetInnerHTML={{ __html: bullet }}></li>\n        ))}\n      </ul>\n    </div>\n  );\n}\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"number-go\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M62.25,47.39 L58.39,31.61 L62.54,14.5 L72.61,8.64 L82.14,10.49 L87.71,17.21 L91.31,29.8 L89.65,45.85 L81.09,55.97 L69.77,55.97 L62.25,47.39 Z M71.3,0.96 L56.18,9.77 L50.88,31.62 L55.58,50.86 L66.46,63.26 L84.47,63.26 L96.67,48.84 L98.69,29.15 L94.28,13.73 L86.07,3.83 L71.3,0.96 Z\",\n  id: \"Shape\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Path\",\n  fill: \"currentColor\",\n  fillRule: \"nonzero\",\n  points: \"45.79 32.66 38.63 32.64 24.22 32.66 24.22 38.66 38.69 38.66 38.76 45.85 30.2 55.97 18.88 55.97 11.36 47.39 7.51 31.61 11.65 14.5 21.72 8.64 31.24 10.5 36.81 17.22 37.18 20.33 44.32 20.11 43.4 13.74 35.2 3.83 20.41 0.96 5.3 9.76 -1.77635684e-14 31.62 4.7 50.86 15.58 63.26 33.59 63.26 45.79 48.85 45.76 38.66 45.79 38.66\"\n}));\n\nfunction SvgNumberGo(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"99px\",\n    height: \"64px\",\n    viewBox: \"0 0 99 64\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"number-go\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNumberGo);\nexport default __webpack_public_path__ + \"static/media/number-go.dc4ff77b.svg\";\nexport { ForwardRef as ReactComponent };","import IconNumber from \"../IconNumber\";\nimport { useRef, useEffect } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { useHistory } from \"react-router-dom\";\nimport GetParentScrollContainer from \"../../common/GetParentScrollContainer\";\nimport { ReactComponent as NumberGo } from \"assets/number-go.svg\";\n\n// import GetParentScrollContainer from \"./\"\ngsap.registerPlugin(ScrollTrigger);\n\nfunction Row(props) {\n  const { url, text, index } = props;\n  const ref = useRef(null);\n  let history = useHistory();\n\n  const buttonRef = useRef(null);\n  const textRef = useRef(null);\n\n  let reveal = () => {\n    gsap.set(buttonRef.current, { scale: 0, opacity: 1 });\n    gsap.set(textRef.current, { y: \"50px\" });\n\n    gsap.to(buttonRef.current, { scale: 1, ease: \"back.out(1.7)\" });\n    gsap.to(textRef.current, { y: 0, opacity: 1 });\n  };\n\n  let gotoChapter = () => {\n    history.push(url);\n  };\n  useEffect(() => {\n    gsap.set([buttonRef.current, textRef.current], { opacity: 0 });\n\n    let trigger;\n\n    //\n    let scrollContainer = GetParentScrollContainer(ref.current);\n\n    // trigger if the timeline comes into view\n    trigger = ScrollTrigger.create({\n      scroller: scrollContainer,\n      trigger: ref.current,\n      start: \"top 80%\",\n      once: true,\n      onEnter: () => {\n        reveal();\n      }\n    });\n\n    return () => {\n      if (trigger) trigger.kill(true);\n    };\n  }, []);\n  return (\n    <div className=\"chapter-index__item\" ref={ref}>\n      <button\n        className=\"chapter-index__button\"\n        onClick={gotoChapter}\n        ref={buttonRef}\n      >\n        <div className=\"chapter-index__nr\">\n          <IconNumber nr={`0${index + 1}`}></IconNumber>\n        </div>\n        <div className=\"chapter-index__go\">\n          <NumberGo></NumberGo>\n        </div>\n      </button>\n      <div\n        className=\"chapter-index__text\"\n        dangerouslySetInnerHTML={{ __html: text }}\n        ref={textRef}\n      ></div>\n    </div>\n  );\n}\n\nfunction ElementChapterIndex(props) {\n  const { rows } = props;\n  return (\n    <section className=\"component component--chapter-index container\">\n      <div className=\"chapter-index\">\n        {rows.map((row, index) => (\n          <Row key={index} index={index} {...row}></Row>\n        ))}\n      </div>\n    </section>\n  );\n}\n\nexport default ElementChapterIndex;\n","function ElementCredits(props) {\n  return (\n    <section className=\"component component--credits container\">\n      <div\n        className=\"credits\"\n        dangerouslySetInnerHTML={{ __html: props.text }}\n      ></div>\n    </section>\n  );\n}\n\nexport default ElementCredits;\n","import ElementText from \"../ContentElements/ElementText\";\nimport ElementImage from \"../ContentElements/ElementImage\";\nimport ElementBullets from \"../ContentElements/ElementBullets\";\nimport ElementDoubleColumn from \"../ContentElements/ElementDoubleColumn\";\nimport ElementConversation from \"../ContentElements/ElementConversation\";\nimport ElementTextImages from \"../ContentElements/ElementTextImages\";\nimport ElementQuote from \"../ContentElements/ElementQuote\";\nimport ElementStory from \"../ContentElements/ElementStory\";\nimport ElementTextScaling from \"../ContentElements/ElementTextScaling\";\nimport ElementChapterIndex from \"../ContentElements/ElementChapterIndex\";\nimport ElementCredits from \"../ContentElements/ElementCredits\";\n\nfunction Elements(props) {\n  const { elements } = props;\n\n  let renderComponent = (param, key) => {\n    switch (param.type) {\n      case \"credits\":\n        return <ElementCredits key={key} {...param}></ElementCredits>;\n      case \"text\":\n        return <ElementText key={key} {...param}></ElementText>;\n      case \"text-scaling\":\n        return <ElementTextScaling key={key} {...param}></ElementTextScaling>;\n      case \"quote\":\n        return <ElementQuote key={key} {...param}></ElementQuote>;\n      case \"story\":\n        return <ElementStory key={key} {...param}></ElementStory>;\n      case \"text-aside\":\n        return <ElementText key={key} {...param}></ElementText>;\n      case \"side-image\":\n        return <ElementTextImages key={key} {...param}></ElementTextImages>;\n      case \"image\":\n        return <ElementImage key={key} {...param}></ElementImage>;\n      case \"bullets\":\n        return <ElementBullets key={key} {...param}></ElementBullets>;\n      case \"chapter-index\":\n        return <ElementChapterIndex key={key} {...param}></ElementChapterIndex>;\n\n      case \"columns\":\n        return <ElementDoubleColumn key={key} {...param}></ElementDoubleColumn>;\n      case \"conversation\":\n        return <ElementConversation key={key} {...param}></ElementConversation>;\n      default:\n        return <div key={key}>{`sdad ${param.type}`}</div>;\n    }\n  };\n\n  return (\n    <>{elements.map((component, index) => renderComponent(component, index))}</>\n  );\n}\n\nexport default Elements;\n","import { createPortal } from \"react-dom\";\nimport { useRef, useEffect, useState } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { Transition } from \"react-transition-group\";\nimport { setGlobal, useGlobal, useDispatch } from \"reactn\";\nimport {\n  disableBodyScroll,\n  enableBodyScroll,\n  clearAllBodyScrollLocks\n} from \"body-scroll-lock\";\nimport useOnClickOutside from \"use-onclickoutside\";\nimport useKeypress from \"../hooks/useKeyPress\";\nimport { ReactComponent as IconClose } from \"assets/icon-close-large.svg\";\n\nfunction Overlay(props) {\n  const {\n    isVisible,\n    doBlur,\n    onCloseOverlay,\n    slug,\n    children,\n    scrollable\n  } = props;\n  const ref = useRef(null);\n  const innerRef = useRef(null);\n  const [cursor, setCursor] = useGlobal(\"cursor\");\n\n  const activateBlur = useDispatch(\"blur\");\n\n  useEffect(() => {\n    return () => {\n      activateBlur(false);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (isVisible) {\n      disableBodyScroll(ref.current);\n    } else {\n      setCursor({ enabled: false });\n      clearAllBodyScrollLocks();\n    }\n  }, [isVisible]);\n\n  useEffect(() => {\n    let onMouseOver = () => {\n      setCursor({ enabled: false });\n\n      // console.log(\"mouseover\");\n    };\n    let onMouseOut = () => {\n      // console.log(\"mouseout\");\n      setCursor({ enabled: true });\n    };\n\n    let disableCursor = () => {\n      setCursor({ enabled: false });\n\n      if (!innerRef.current) return;\n      innerRef.current.removeEventListener(\"mouseleave\", onMouseOut);\n      innerRef.current.removeEventListener(\"mouseenter\", onMouseOver);\n    };\n    let enableCursor = () => {\n      if (!innerRef.current) return;\n\n      innerRef.current.addEventListener(\"mouseenter\", onMouseOver);\n      innerRef.current.addEventListener(\"mouseleave\", onMouseOut);\n    };\n\n    if (isVisible) {\n      enableCursor();\n    } else {\n      disableCursor();\n    }\n\n    return () => {\n      disableCursor();\n    };\n  }, [isVisible]);\n\n  let handleClose = () => {\n    // setCursor({ enabled: false });\n    onCloseOverlay();\n  };\n\n  useKeypress(\"Escape\", handleClose);\n  useOnClickOutside(innerRef, handleClose);\n\n  return (\n    <div\n      className={`overlay overlay--${slug} ${\n        scrollable ? \"is-scrollcontainer\" : \"\"\n      }`}\n      ref={ref}\n    >\n      <div className=\"container\">\n        <div className=\"overlay__inner\" ref={innerRef}>\n          <div className=\"overlay__close\">\n            <button onClick={handleClose}>\n              <IconClose></IconClose>\n            </button>\n          </div>\n          <div className=\"overlay__content\">{children}</div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n/*\n<PortalOverlay>\n        <div className=\"overlay-participant\" onClick={lala}>\n           <AuthorAvatar {...participant.image}></AuthorAvatar> \n  \n          <h1>{participant.name}</h1>\n          <p>{participant.text}</p>\n        </div>\n  </PortalOverlay> \n\n*/\n\nexport default Overlay;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"logo-path-1\",\n  x: 0,\n  y: -0.00317499515,\n  width: 60,\n  height: 61.7177734\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"logo-path-3\",\n  x: -0.000439650375,\n  y: 0.81401584,\n  width: 97.4895603,\n  height: 60\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"logo-full\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"logo-square\",\n  transform: \"translate(0.000000, -0.996825)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"logo-m\",\n  transform: \"translate(0.000000, 1.000000)\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"backdrop\",\n  fill: \"#202020\",\n  x: 0,\n  y: 0,\n  width: 60,\n  height: 60\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M47.719059,36.4929532 L50.6950482,36.4929532 L50.6950482,41.454051 L41.3174706,41.454051 L41.3174706,28.5956957 C41.3174706,24.6490521 40.0270318,23.132334 37.4967597,23.132334 C34.4195596,23.132334 33.1797263,25.3597656 33.1797263,28.5460649 L33.1797263,36.4929532 L36.1576619,36.4929532 L36.1576619,41.454051 L26.7781379,41.454051 L26.7781379,28.5956957 C26.7781379,24.6490521 25.4876991,23.132334 22.957427,23.132334 C19.8802269,23.132334 18.6403936,25.3597656 18.6403936,28.5460649 L18.6403936,36.4929532 L22.908768,36.4929532 L22.908768,41.454051 L9.26086957,41.454051 L9.26086957,36.4929532 L12.2388052,36.4929532 L12.2388052,23.5869524 L9.26086957,23.5869524 L9.26086957,18.6258547 L18.6403936,18.6258547 L18.6403936,22.068249 C19.9794914,19.6403088 22.3112345,18.1712363 25.43904,18.1712363 C28.6641638,18.1712363 31.640153,19.7415557 32.7340091,23.0807179 C33.9738424,20.0433112 36.5041145,18.1712363 40.0270318,18.1712363 C44.0462717,18.1712363 47.719059,20.6527778 47.719059,26.0665086 L47.719059,36.4929532 Z\",\n  id: \"Path\",\n  fill: \"#FFFFFF\"\n})), /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"logo-mask-2\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#logo-path-1\"\n})), /*#__PURE__*/React.createElement(\"use\", {\n  id: \"logo-mask\",\n  fill: \"#D8D8D8\",\n  xlinkHref: \"#logo-path-1\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"logo-wheel\",\n  mask: \"url(#logo-mask-2)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(0.000000, 1.000000)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"backdrop\",\n  fill: \"#202020\",\n  points: \"5.68434189e-14 59.996825 60.1288506 59.996825 60.1288506 8.52651283e-14 5.68434189e-14 8.52651283e-14\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M33.7184012,5.9575609 L34.1363014,6.01682747 L34.4937441,6.86878451 C35.6869873,9.62679696 38.4097031,11.3910359 41.410312,11.3910359 C42.2842963,11.3910359 43.1402495,11.2322862 43.9548368,10.934895 L44.8086686,10.6173954 L45.1268668,10.8745701 C46.8568043,12.223943 48.3862769,13.7902739 49.6993747,15.5555712 L49.9369627,15.8931791 L49.5795201,16.7451361 C48.1094445,20.4344804 49.7789243,24.6191241 53.3756244,26.2849382 L54.211425,26.6617043 L54.2506695,27.078687 C54.50841,29.2599086 54.4882574,31.4612386 54.1509674,33.6234103 L54.0905097,34.0393347 L53.2366779,34.3959925 C49.5795201,35.9633817 47.7912463,40.1078087 49.1626805,43.8363114 L49.4808786,44.6893267 L49.2210168,45.0057679 C47.8697352,46.7308486 46.3010181,48.2590796 44.5318362,49.5671776 L44.1934854,49.8063606 L43.338593,49.4486445 C42.463548,49.0919867 41.5492585,48.9131286 40.5957246,48.9131286 C37.6746653,48.8930203 35.0102858,50.5789427 33.7576456,53.2364137 L33.3811111,54.0693207 L32.9632108,54.1095373 C32.0096769,54.2280705 31.0359904,54.2873371 30.0612433,54.2873371 C28.8489082,54.2873371 27.6164206,54.1878539 26.4242381,54.0100542 L26.0073984,53.9507876 L25.6499558,53.0977722 C24.4567126,50.3609264 21.7329361,48.5765791 18.7323272,48.5765791 C17.8583429,48.5765791 17.0034504,48.7342705 16.1888631,49.0316618 L15.3339706,49.3491613 L15.0157724,49.0919867 C13.2868956,47.7426137 11.7563623,46.1561745 10.4443251,44.4109855 L10.1865846,44.093486 L10.5440272,43.2404706 C12.0141029,39.5521846 10.344623,35.3474327 6.74792287,33.6816185 L5.9121223,33.3059108 L5.87287786,32.8889281 C5.61407667,30.7077064 5.65438177,28.5063764 5.97257996,26.3452631 L6.03197695,25.9282804 L6.88686941,25.5705643 C10.5440272,24.0042333 12.332301,19.8788563 10.9608669,16.151412 L10.6426687,15.2983966 L10.9025305,14.9607888 C12.2527515,13.2357081 13.8225292,11.7085354 15.5917111,10.3993791 L15.9300619,10.1623128 L16.7838937,10.5189706 C17.6599993,10.8745701 18.5933807,11.0534281 19.5278227,11.0534281 C22.4488821,11.0735364 25.1334141,9.38761399 26.3648411,6.73014305 L26.7424362,5.89723599 L27.1603365,5.85807772 C29.3463581,5.59984478 31.5525322,5.61995308 33.7184012,5.9575609 Z M27.7161227,7.2656589 L27.6768783,7.34609211 C26.205742,10.5189706 23.0067895,12.5604925 19.4875176,12.5414425 C18.3547321,12.5414425 17.2420991,12.3234262 16.1888631,11.9064435 L16.1093135,11.8672852 C14.6986349,12.9182086 13.4056896,14.1479901 12.2930566,15.5365213 L12.332301,15.6158961 C13.9625364,20.0778227 11.8157593,25.0551567 7.44371624,26.9389872 L7.36416669,26.9792038 C7.12551805,28.7434428 7.1053655,30.5288484 7.28355649,32.3131956 L7.36416669,32.3534122 C11.6969653,34.3568342 13.7037352,39.3944931 11.9345533,43.8162031 L11.8953089,43.8955779 C12.9686974,45.2841091 14.220277,46.5530489 15.6118637,47.6833472 L15.6914132,47.6632388 C16.6650997,47.2875311 17.6992438,47.108673 18.7524798,47.108673 C22.34918,47.108673 25.6690477,49.2898947 27.0404819,52.5432064 L27.0606344,52.6215229 C28.8298163,52.8596476 30.6180902,52.8797559 32.3862114,52.7008978 L32.4265165,52.6215229 C33.8976528,49.4486445 37.0976659,47.4060642 40.6158772,47.4261725 C41.7486627,47.4261725 42.8612957,47.6441889 43.9155924,48.0601132 L43.9951419,48.0992715 C45.4058205,47.0091898 46.6977052,45.7593001 47.8304907,44.3718272 L47.8103382,44.2924523 C46.1610109,39.8305258 48.307788,34.8521334 52.6999836,32.968303 L52.7795332,32.9280864 C53.0181818,31.1627891 53.0372737,29.3784418 52.8590827,27.6142028 L52.7795332,27.5739862 C48.4064294,25.5906726 46.4198121,20.5741802 48.1879333,16.151412 L48.2282385,16.0720371 C47.1346974,14.6633976 45.9032704,13.3743496 44.5116836,12.2641596 L44.4321341,12.3033179 C43.4584476,12.6599757 42.4243035,12.8578837 41.3710675,12.8578837 C37.7934593,12.8578837 34.4544996,10.6777204 33.0830654,7.42546699 L33.043821,7.34609211 C31.2746391,7.10796747 29.4853046,7.08680084 27.7161227,7.2656589 Z M30.0416211,12.5610216 C34.4539693,12.5218634 39.0254166,14.3665356 42.3845288,17.6579472 C45.684244,20.9102006 47.5319148,25.3530771 47.4926703,29.9737534 C47.4926703,39.5717637 39.6819655,47.3653185 30.0416211,47.3864851 C20.4023374,47.3653185 12.6107245,39.5929303 12.5916326,29.9737534 C12.5916326,20.375743 20.4224899,12.6202882 30.0416211,12.5610216 Z M30.0416211,14.0278694 C21.2179854,14.0278694 14.0818607,21.1483252 14.0627218,29.9536451 C14.0415556,38.7600233 21.1967722,45.8783624 30.0214686,45.8985131 C38.8472256,45.918579 45.9812289,38.7790733 46.0024421,29.9737534 C46.0024421,25.7499515 44.3329623,21.702891 41.3312928,18.7088706 C38.3497758,15.7137918 34.2747176,14.0278694 30.0416211,14.0278694 Z M23.3525649,18.0939799 L30.6594559,18.1066798 L33.8796216,23.6914963 L40.3125282,23.7094879 L43.9590795,30.0224366 L40.2987396,36.331152 L33.8393165,36.3237437 L30.6149082,41.8704602 L23.3016532,41.8704602 L19.655102,35.5522199 L22.8996628,29.9748117 C22.8996628,29.9748117 19.701771,24.4016369 19.6985891,24.3889369 C19.6964677,24.3698869 23.3525649,18.0939799 23.3525649,18.0939799 L23.3525649,18.0939799 Z M21.8071824,36.2867021 L24.158667,40.3782125 L28.88391,40.3930291 L26.5324254,36.3004604 L25.3328183,36.2972854 L21.8071824,36.2867021 Z M30.2023112,31.4850511 L27.8264314,35.5606865 L30.1768553,39.6521969 L32.5516745,35.5755031 L31.7784529,34.2282469 L30.2023112,31.4850511 Z M31.4952565,30.7442189 L32.8518414,33.1074736 L33.8446198,34.8367876 L38.5698628,34.8505459 L37.6767866,33.2926816 L36.2215602,30.7590355 L31.4952565,30.7442189 Z M24.1894261,30.7219939 L21.8124857,34.7986877 L25.3413036,34.809271 L26.5377287,34.8135043 L26.9142633,34.1668636 L28.9136085,30.7368105 L24.1894261,30.7219939 Z M39.8893246,25.9415095 L38.0002881,29.1852962 L37.5145055,30.0192616 L38.4701607,31.6840174 L39.8638688,34.1107721 L42.2397486,30.0340783 L39.8893246,25.9415095 Z M33.8753789,25.180569 L31.4994991,29.2562045 L36.2258029,29.2720794 L38.600622,25.1943273 L33.8753789,25.180569 Z M21.8411235,25.1424691 L24.1926081,29.2350378 L25.3922153,29.2382128 L28.9178512,29.2487961 L26.9078993,25.7510098 L26.5663666,25.1572857 L21.8411235,25.1424691 Z M30.2362523,20.3397598 L27.8603725,24.4175119 L30.2118571,28.5090223 L32.099833,25.2662939 L32.5856156,24.4323285 L30.2362523,20.3397598 Z M24.2233673,19.5788193 L21.8464268,23.6544547 L26.5716699,23.6703297 L28.6261695,20.1439684 L28.9475497,19.5925776 L24.2233673,19.5788193 Z\",\n  id: \"wheel\",\n  fill: \"#FEFEFE\"\n})))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"logo-text\",\n  transform: \"translate(64.510440, -0.814016)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"logo-mask-4\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#logo-path-3\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"logo-mask\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"backdrop\",\n  fill: \"#202020\",\n  mask: \"url(#logo-mask-4)\",\n  points: \"0 60.8140158 87.139634 60.8140158 87.139634 33 0 33\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M38.0031519,38.9703667 L38.0031519,42.9285273 L42.8790087,42.9285273 L42.8790087,44.2207504 L38.0031519,44.2207504 L38.0031519,51.3941227 C38.0031519,52.2005715 38.1686149,52.8461538 38.499541,53.3308698 C38.8294065,53.816644 39.4074665,54.0611187 40.2337212,54.0611187 C40.7661728,54.0611187 41.2445307,53.9002522 41.6666737,53.5795777 C42.0888166,53.2589032 42.4006508,52.5942709 42.603237,51.5867391 L43.7879949,51.9709135 C43.4199457,54.2622017 42.1800334,55.4062583 40.0682581,55.4062583 C38.8750149,55.4062583 37.9798173,55.0591255 37.3837261,54.3627432 C36.7855135,53.6663609 36.4874678,52.731854 36.4874678,51.5581641 L36.4874678,44.2207504 L34.477516,44.2207504 L34.477516,42.9285273 L36.4874678,42.9285273 L36.4874678,38.9703667 L38.0031519,38.9703667 Z M68.4662795,42.6807719 C71.2940007,42.6807719 72.7078613,44.0460198 72.7078613,46.7765156 L72.7078613,52.7126982 C72.7078613,53.6472051 73.0663646,54.1139294 73.7812499,54.1139294 C74.1492991,54.1139294 74.4515874,54.0504295 74.6912967,53.9223714 L74.7188739,55.021978 C74.3137015,55.2780943 73.8374649,55.4061524 73.286982,55.4061524 C71.890092,55.4061524 71.193238,54.5827704 71.193238,52.9328312 L71.193238,52.8788563 C70.8071575,53.538197 70.2513713,54.1245127 69.5269401,54.6378036 C68.8003876,55.1500362 67.9507984,55.4061524 66.9781727,55.4061524 C66.1699493,55.4061524 65.3479373,55.1637945 64.5131974,54.6790785 C63.6773968,54.1933043 63.2605572,53.3000723 63.2605572,51.9983243 C63.2605572,50.45951 63.8746797,49.4466865 65.105046,48.9609123 C66.3354123,48.4761964 67.6304789,48.2327801 68.9891852,48.2327801 C69.374205,48.2327801 69.7560428,48.2475967 70.1325773,48.274055 C70.5080512,48.3015716 70.8623118,48.3248549 71.193238,48.3428466 L71.193238,47.0516819 C71.193238,46.117175 70.9768632,45.3795178 70.546235,44.8387102 C70.1134854,44.2979027 69.3381425,44.0280282 68.2170243,44.0280282 C67.2995528,44.0280282 66.4732982,44.2111195 65.7382604,44.5783606 L65.2429319,46.7765156 L63.9754424,46.6114159 L64.4166773,43.890445 C64.9310977,43.469229 65.5505235,43.1623128 66.2760153,42.9696964 C67.0015072,42.7770801 67.7312417,42.6807719 68.4662795,42.6807719 Z M18.16201,42.6804544 C19.8325505,42.6804544 21.0862514,43.2265535 21.9220519,44.3166352 C22.7567918,45.4067169 23.1757528,46.64814 23.1757528,48.0409045 C23.1757528,48.4441289 23.1301444,48.9023865 23.0378669,49.4146191 L14.2778708,49.4146191 C14.3139333,50.8814668 14.6915285,52.0212901 15.4074744,52.8372639 C16.1234203,53.6521793 17.1342299,54.0606953 18.4377818,54.0606953 C20.3650021,54.0606953 21.559306,53.1812217 22.018572,51.421216 L23.2850008,51.7238989 C23.1015065,52.7504807 22.5870861,53.6204293 21.7428003,54.3348032 C20.8974538,55.0502355 19.7593649,55.4058349 18.3274731,55.4058349 C16.6198095,55.4058349 15.2515573,54.8565608 14.2227165,53.7580125 C13.1949363,52.6584058 12.6805159,51.1375831 12.6805159,49.1944861 C12.6805159,47.289489 13.1758444,45.7273914 14.1686228,44.5092516 C15.1592798,43.2900534 16.4904089,42.6804544 18.16201,42.6804544 Z M28.9461708,42.680666 C29.7904567,42.680666 30.5848915,42.8002575 31.3294752,43.0383822 C32.0729983,43.2765068 32.6733322,43.5336814 33.133659,43.8077893 L33.4094307,46.61131 L32.1419413,46.7764098 L31.8110152,44.7147796 C31.4259954,44.5136966 31.020823,44.3485968 30.5986801,44.2205387 C30.1765371,44.0924806 29.6896939,44.0279223 29.1381504,44.0279223 C28.2758333,44.0279223 27.5779186,44.1834971 27.045467,44.4946466 C26.5130154,44.8068545 26.2467895,45.3106204 26.2467895,46.0059443 C26.2467895,46.7033849 26.5034694,47.1933925 27.0178898,47.4770254 C27.5323102,47.7617166 28.1750705,47.9680913 28.9461708,48.0950911 C29.7172711,48.2242076 30.4841287,48.3808407 31.2467437,48.5628737 C32.008298,48.7459651 32.6457551,49.067698 33.1601755,49.5248973 C33.6745959,49.9831549 33.9323364,50.6975288 33.9323364,51.6690773 C33.9323364,52.8046672 33.4497358,53.7127159 32.486656,54.3900482 C31.5225155,55.0684388 30.3324543,55.4060466 28.9185936,55.4060466 C28.0552159,55.4060466 27.2056267,55.2832801 26.3708868,55.0366888 C25.5350863,54.7879809 24.8965686,54.5096396 24.4563944,54.1974318 L24.7873205,51.6129857 L26.0261721,51.7241106 L25.9158634,53.3729914 C26.7792412,53.831249 27.7624736,54.060907 28.8634393,54.060907 C29.7628795,54.060907 30.5753455,53.8809906 31.3018981,53.5243328 C32.0263293,53.1666167 32.3890752,52.6035842 32.3890752,51.8331187 C32.3890752,51.1007532 32.1281527,50.5789956 31.605247,50.2667878 C31.0812806,49.9556383 30.433217,49.7312719 29.6631774,49.5936888 C28.8910165,49.4561057 28.1241588,49.3047643 27.3626045,49.1396645 C26.5999895,48.9745648 25.9572292,48.6729402 25.4343235,48.2326742 C24.9103572,47.7934666 24.6494346,47.1055509 24.6494346,46.1721024 C24.6494346,44.9253876 25.0991547,44.0321556 25.9996556,43.4913481 C26.8980352,42.951599 27.8812676,42.680666 28.9461708,42.680666 Z M11.6812676,35.9471363 C12.2497816,35.9471363 12.7313216,35.9979363 13.126948,36.0984778 C13.5215137,36.1990193 13.9128975,36.4138606 14.2979173,36.7440601 L14.7391521,39.465031 L13.470602,39.6301307 L12.9763342,37.4859506 C12.6082849,37.3399009 12.1023498,37.266876 11.4606501,37.266876 C9.86223459,37.266876 9.06355714,38.348491 9.06355714,40.5106627 L9.06355714,42.9289507 L12.2869048,42.9289507 L12.2869048,44.2201154 L9.06355714,44.2201154 L9.06355714,53.8678673 L12.0387102,53.8678673 L12.0387102,55.1325737 L5.29078731,55.1325737 L5.29078731,53.8678673 L7.54893377,53.8678673 L7.54893377,44.2201154 L5.73096147,44.2201154 L5.73096147,42.9289507 L7.54893377,42.9289507 L7.54893377,40.5646376 C7.54893377,39.0999065 7.9710767,37.9632583 8.81642322,37.1568095 C9.66070907,36.3503607 10.6153036,35.9471363 11.6812676,35.9471363 Z M48.0267129,42.9282098 L48.0267129,53.8671265 L50.2859201,53.8671265 L50.2859201,55.1328912 L44.2263659,55.1328912 L44.2263659,53.8671265 L46.5120896,53.8671265 L46.5120896,44.2204329 L44.1977281,44.2204329 L44.1977281,42.9282098 L48.0267129,42.9282098 Z M55.0601656,42.9283157 L55.0601656,44.2205387 L52.6906498,44.2205387 L56.3541716,53.0163336 L56.518574,53.0163336 L59.9073847,44.2205387 L57.6757547,44.2205387 L57.6757547,42.9283157 L62.9928464,42.9283157 L62.9928464,44.2205387 L61.4230687,44.2205387 L56.9322316,55.132997 L55.7485344,55.132997 L51.0657177,44.2205387 L49.5786716,44.2205387 L49.5786716,42.9283157 L55.0601656,42.9283157 Z M79.1449046,36.2221967 L79.1449046,53.8677615 L81.4041117,53.8677615 L81.4041117,55.1324679 L75.3721347,55.1324679 L75.3721347,53.8677615 L77.6302812,53.8677615 L77.6302812,37.4858448 L75.3434969,37.4858448 L75.3434969,36.2221967 L79.1449046,36.2221967 Z M68.796145,49.38742 C67.8054879,49.38742 66.8996838,49.5387614 66.0829751,49.8403859 C65.2652057,50.1441271 64.8568514,50.8077011 64.8568514,51.8332246 C64.8568514,52.7126982 65.1421691,53.3043056 65.7106832,53.6069885 C66.280258,53.9086131 66.8318015,54.0610128 67.3642531,54.0610128 C68.2817246,54.0610128 69.136617,53.7445716 69.9257485,53.1116893 C70.71488,52.4798652 71.1380836,51.6596582 71.193238,50.6521264 L71.193238,49.5250031 C70.8442806,49.4879615 70.4666854,49.4562115 70.0636344,49.4286949 C69.6595227,49.4011783 69.2373798,49.38742 68.796145,49.38742 Z M18.0792785,44.0277107 C16.8489122,44.0277107 15.9441687,44.44046 15.3671693,45.2638421 C14.7880486,46.0893408 14.4348486,47.0513644 14.3065087,48.150971 L21.5773372,48.150971 C21.6696147,47.1794225 21.4299054,46.2502073 20.8613913,45.3601503 C20.2918165,44.47221 19.3647992,44.0277107 18.0792785,44.0277107 Z M48.0256523,37.348685 L48.0256523,39.5203817 L46.3190493,39.5203817 L46.3190493,37.348685 L48.0256523,37.348685 Z\",\n  id: \"text\",\n  fill: \"#FEFEFE\",\n  mask: \"url(#logo-mask-4)\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"backdrop\",\n  fill: \"#202020\",\n  mask: \"url(#logo-mask-4)\",\n  points: \"-2.27373675e-13 28.6280317 97.4895603 28.6280317 97.4895603 0.81401584 -2.27373675e-13 0.81401584\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M26.7407392,20.2684811 L28.3624893,20.2684811 L28.3624893,22.9132521 L23.2522264,22.9132521 L23.2522264,16.0584375 C23.2522264,13.9544741 22.5490084,13.1459087 21.1701496,13.1459087 C19.4932452,13.1459087 18.8176043,14.3333569 18.8176043,16.0319793 L18.8176043,20.2684811 L20.4404151,20.2684811 L20.4404151,22.9132521 L15.3290916,22.9132521 L15.3290916,16.0584375 C15.3290916,13.9544741 14.6258736,13.1459087 13.2470148,13.1459087 C11.5701103,13.1459087 10.8944695,14.3333569 10.8944695,16.0319793 L10.8944695,20.2684811 L13.2204982,20.2684811 L13.2204982,22.9132521 L5.78314597,22.9132521 L5.78314597,20.2684811 L7.40595672,20.2684811 L7.40595672,13.3882666 L5.78314597,13.3882666 L5.78314597,10.7434957 L10.8944695,10.7434957 L10.8944695,12.5786429 C11.624204,11.2843032 12.8948754,10.5011377 14.5993571,10.5011377 C16.3568717,10.5011377 17.9786218,11.3382781 18.5747131,13.118392 C19.2503539,11.4991445 20.6292127,10.5011377 22.5490084,10.5011377 C24.7392726,10.5011377 26.7407392,11.8240524 26.7407392,14.7101229 L26.7407392,20.2684811 Z M36.3439605,20.5108391 C34.4517419,20.5108391 33.4780555,18.8926499 33.4780555,16.7876281 C33.4780555,14.4942233 34.5853851,13.172367 36.370477,13.172367 C38.0208649,13.172367 39.34563,14.2783236 39.34563,16.7336532 C39.34563,19.0545746 38.1555688,20.5108391 36.3439605,20.5108391 L36.3439605,20.5108391 Z M36.4256313,10.5011377 C32.0440423,10.5011377 29.8813553,13.4422415 29.8813553,17.0035278 C29.8813553,20.8897218 32.4767918,23.1831267 36.2357731,23.1831267 C40.1294582,23.1831267 42.9412695,20.7277971 42.9412695,16.8426614 C42.9412695,13.4422415 40.8061597,10.5011377 36.4256313,10.5011377 L36.4256313,10.5011377 Z M53.9021364,18.3804173 L56.659854,18.6502919 L55.9025423,22.9132521 L45.2482064,22.9132521 L44.8971277,21.0781049 L51.6026242,13.3882666 L47.7906099,13.3882666 L47.249673,15.2773887 L44.7348466,15.0064558 L45.1675962,10.7434957 L55.8760258,10.7434957 L56.1464943,12.5786429 L49.3869041,20.2684811 L53.3336223,20.2684811 L53.9021364,18.3804173 Z M59.2139248,22.9132521 L62.8647186,22.9132521 L62.8647186,18.5412838 L59.2139248,18.5412838 L59.2139248,22.9132521 Z M59.2139248,15.115464 L62.8647186,15.115464 L62.8647186,10.7434957 L59.2139248,10.7434957 L59.2139248,15.115464 Z M73.855284,4.34905544 L68.58274,22.9132521 L65.1483209,22.9132521 L70.4219256,4.34905544 L73.855284,4.34905544 Z M80.9415576,4.34905544 L75.667953,22.9132521 L72.2335339,22.9132521 L77.5060778,4.34905544 L80.9415576,4.34905544 Z M85.6243742,20.7002805 C84.5690169,20.7002805 84.1903611,20.0790397 84.1903611,19.2969326 C84.1903611,17.9750763 85.2732956,17.6247685 86.5163898,17.6247685 C87.0849039,17.6247685 87.706451,17.7052017 88.2739045,17.7856349 C88.1932943,19.8091652 86.8674685,20.7002805 85.6243742,20.7002805 L85.6243742,20.7002805 Z M93.1147596,20.7807137 C92.9249013,20.8346886 92.7626202,20.8622052 92.6013998,20.8622052 C92.0328857,20.8622052 91.7624173,20.6198472 91.7624173,19.9181733 L91.7624173,14.6296897 C91.7624173,11.8505106 89.5445759,10.5011377 86.9215622,10.5011377 C84.9211563,10.5011377 83.8392824,10.744554 81.7020513,11.6070944 L81.227936,14.4063817 L84.0132308,14.703773 L84.4067358,13.3342917 C84.9741893,13.0379588 85.5427034,12.9829256 86.2724379,12.9829256 C88.2463273,12.9829256 88.2739045,14.467765 88.2739045,15.7081298 L88.2739045,16.1134708 C87.6523574,16.0319793 86.9491394,16.005521 86.2724379,16.005521 C83.4871431,16.005521 80.5936609,16.7071949 80.5936609,19.7022736 C80.5936609,22.2380364 82.5951275,23.1831267 84.3526422,23.1831267 C86.3275922,23.1831267 87.5706865,21.9956785 88.2739045,20.7542554 C88.4361856,22.2380364 89.3292618,23.1831267 90.9510119,23.1831267 C91.7083236,23.1831267 92.4921518,22.967227 93.1423367,22.6158609 L93.1147596,20.7807137 Z\",\n  id: \"text\",\n  fill: \"#FEFEFE\",\n  mask: \"url(#logo-mask-4)\"\n})));\n\nfunction SvgLogoFull(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"162px\",\n    height: \"60px\",\n    viewBox: \"0 0 162 60\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"logo-full\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoFull);\nexport default __webpack_public_path__ + \"static/media/logo-full.4f77a0c3.svg\";\nexport { ForwardRef as ReactComponent };","import { ReactComponent as LogoFull } from \"assets/logo-full.svg\";\nimport gsap from \"gsap/gsap-core\";\nimport React, { useState, useEffect, useLayoutEffect, useRef, useCallback } from \"react\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\nfunction HeaderLogo(props) {\n  const { listenToScroll, animateOnMount, defaultCollapsed, ignoreMediaQuery } = props;\n  const [expanded, setExpanded] = useState(!defaultCollapsed);\n  const afterFirstLoad = useRef();\n\n  const ref = useRef();\n  const timeline = useRef();\n\n  const onFirstMount = useRef(true);\n\n  const svgRef = useRef();\n  const maskMain = useRef();\n  const maskText = useRef();\n\n  const scroller = useRef();\n\n  let expandLogo = () => {};\n\n  let collapseLogo = () => {};\n\n  let setDirectCollapsed = () => {\n    gsap.set(maskMain.current, { scaleY: 0 });\n    gsap.set(maskText.current, { scaleX: 0 });\n    gsap.set(svgRef.current, { transformOrigin: \"top left\", scale: 0.5 });\n  };\n\n  let setDirectExpanded = () => {\n    gsap.set(maskMain.current, { scaleY: 1 });\n    gsap.set(maskText.current, { scaleX: 1 });\n    gsap.set(svgRef.current, { transformOrigin: \"top left\", scale: 1 });\n  };\n\n  useEffect(() => {\n    // console.log(`listen to scroll: ${listenToScroll}`);\n    if (ref.current) {\n      svgRef.current = ref.current.querySelector(\"svg\");\n      maskMain.current = ref.current.querySelector(\"#logo-path-1\");\n      maskText.current = ref.current.querySelector(\"#logo-path-3\");\n\n      if (window.matchMedia(\"(max-width:900px)\").matches && !ignoreMediaQuery) {\n        setDirectCollapsed();\n        // gsap.set(maskMain.current, { scaleY: 0 });\n        // gsap.set(maskText.current, { scaleX: 0 });\n        // gsap.set(svgRef.current, { transformOrigin: \"top left\", scale: 0.5 });\n        return;\n      } else {\n        if (expanded) {\n          setDirectExpanded();\n        } else {\n          setDirectCollapsed();\n        }\n        if (animateOnMount) {\n          setExpanded(!expanded);\n        }\n\n        if (listenToScroll) {\n          scroller.current = ScrollTrigger.create({\n            trigger: \"body\",\n            start: \"top top\",\n            end: () => {\n              return `${document.body.scrollHeight}px`;\n            },\n            onLeaveBack: () => {\n              setExpanded(true);\n            },\n            onEnter: () => {\n              setExpanded(false);\n            }\n          });\n        }\n      }\n    }\n  }, []);\n\n  // useLayoutEffect(() => {\n  //   console.log(\"is first mount\");\n  //   if (onFirstMount.current) {\n  //     console.log(\"a\");\n  //     console.log(svgRef.current);\n  //     if (expanded) {\n  //       gsap.set(maskMain.current, { scaleY: 1 });\n  //       gsap.set(maskText.current, { scaleX: 1 });\n  //     } else {\n  //       gsap.set(svgRef.current, { scale: 0.5 });\n\n  //       gsap.set(maskMain.current, { scaleY: 0 });\n  //       gsap.set(maskText.current, { scaleX: 0 });\n  //     }\n  //   }\n  // }, [onFirstMount]);\n\n  useEffect(() => {\n    if (onFirstMount.current) {\n      onFirstMount.current = false;\n      return;\n    }\n\n    // if (!afterFirstLoad.current) {\n    //   afterFirstLoad.current = true;\n    // }\n    // only on first run\n    // if (onFirstMount.current) {\n    //   if (!animateOnMount) {\n    //     return;\n    //   }\n    // }\n    if (!timeline.current) {\n      timeline.current = gsap.timeline();\n    }\n    if (timeline.current) {\n      timeline.current.pause();\n    }\n    if (expanded) {\n      gsap.set(svgRef.current, { scale: 0.5 });\n      gsap.set(maskMain.current, { scaleY: 0 });\n      gsap.set(maskText.current, { scaleX: 0 });\n      timeline.current\n        .to(svgRef.current, {\n          scale: 1,\n          ease: \"Power4.easeIn\",\n          transformOrigin: \"top left\"\n        })\n        .to(maskMain.current, {\n          duration: 0.4,\n          scaleY: 1,\n          ease: \"Power4.easeIn\"\n        })\n        .to(maskText.current, {\n          duration: 0.4,\n          scaleX: 1,\n          ease: \"Power4.easeIn\"\n        });\n    } else {\n      gsap.set(maskMain.current, { scaleY: 1 });\n      gsap.set(maskText.current, { scaleX: 1 });\n      timeline.current\n        .to(maskText.current, {\n          duration: 0.4,\n          scaleX: 0,\n          ease: \"Power4.easeIn\"\n        })\n        .to(\n          maskMain.current,\n          {\n            duration: 0.4,\n            scaleY: 0,\n            ease: \"Power4.easeIn\"\n          },\n          \"-=0.2\"\n        )\n        .to(\n          svgRef.current,\n          {\n            scale: 0.5,\n            ease: \"Power4.easeIn\",\n            transformOrigin: \"top left\"\n          },\n          \"-=0.2\"\n        );\n    }\n    if (!onFirstMount.current || (onFirstMount.current && animateOnMount)) {\n      console.log(\"plaaay\");\n      timeline.current.play();\n    }\n  }, [expanded]);\n\n  return (\n    <div className=\"header-logo\" ref={ref}>\n      <LogoFull></LogoFull>\n    </div>\n  );\n}\n\nexport default HeaderLogo;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-close-large\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  fill: \"currentColor\",\n  transform: \"translate(16.500000, 16.500000) rotate(-315.000000) translate(-16.500000, -16.500000) \",\n  x: -3.5,\n  y: 16,\n  width: 40,\n  height: 1\n}), /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  fill: \"currentColor\",\n  transform: \"translate(16.500000, 16.500000) rotate(-45.000000) translate(-16.500000, -16.500000) \",\n  x: -3.5,\n  y: 16,\n  width: 40,\n  height: 1\n}));\n\nfunction SvgIconCloseLarge(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"33px\",\n    height: \"33px\",\n    viewBox: \"0 0 33 33\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-close-large\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconCloseLarge);\nexport default __webpack_public_path__ + \"static/media/icon-close-large.c5483bed.svg\";\nexport { ForwardRef as ReactComponent };","import { useDispatch } from \"reactn\";\n\nfunction AuthorLink(props) {\n  const { slug, name } = props;\n  const showAuthorDispatch = useDispatch(\"showAuthor\");\n\n  let onClick = () => {\n    showAuthorDispatch(slug);\n  };\n  return (\n    <button className=\"bio-link\" onClick={onClick}>\n      {name}\n    </button>\n  );\n}\nexport default AuthorLink;\n","import { useEffect, useLayoutEffect, useState, useRef } from \"react\";\nimport { useGlobal } from \"reactn\";\nimport eventBus from \"common/EventBus\";\n\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\ngsap.registerPlugin(ScrollTrigger);\n\n// The primary role of this component is to keep track of the page scrolling\n// because when a page has scrolled it should change the background color\n// but, only the background of this specific chapter.\nfunction ChapterPage(props) {\n  const { transitionDone, pageChange, pageSlug } = props;\n  const [backgroundReset, setBackgroundReset] = useState(0);\n  const [chapterHasScrolled, setChapterHasScrolled] = useGlobal(\"chapterScrolled\");\n  const [initTimeout, setInitTimeout] = useState(false);\n  const [localTransitionDone, setLocalTransitionDone] = useState(false);\n  const [initScrollTrigger, setInitScrollTrigger] = useState(false);\n\n  useEffect(() => {\n    // setBackgroundReset(false);\n    // setChapterHasScrolled(false);\n  }, []);\n  // ok, sme shamefull way to deal with the fact that the \"transitionDone\" prop\n  // was set to true when mounting this component. This resulted in an immediate trigger\n  // and thus a background clear even before the page had transitioned fully\n\n  useEffect(() => {\n    let cbFunction = (data) => {\n      setInitScrollTrigger(true);\n\n      // console.log(data);\n      // setTimeout(() => {\n      // ScrollTrigger.refresh();\n      // }, 100);\n    };\n\n    eventBus.on(\"onTransitionComplete\", cbFunction);\n\n    return () => {\n      eventBus.remove(\"onTransitionComplete\", cbFunction);\n    };\n  }, []);\n\n  useEffect(() => {\n    if (transitionDone) {\n      setInitScrollTrigger(true);\n    }\n  }, [transitionDone]);\n  // my solution...\n\n  // wait a bit...\n  // useEffect(() => {\n  //   let theTimeout = setTimeout(() => {\n  //     setInitTimeout(true);\n  //   }, 200);\n\n  //   return () => {\n  //     clearTimeout(theTimeout);\n  //   };\n  // }, []);\n\n  // if the parent prop \"transitionDone\" is set and the timeout has not\n  // been finished, ignore this\n  // useEffect(() => {\n  //   // console.log(`is transition done ${transitionDone}`);\n  //   if (!initTimeout) return;\n  //   setLocalTransitionDone(transitionDone);\n  // }, [transitionDone]);\n\n  // //\n  // useEffect(() => {\n  //   if (initTimeout && transitionDone) {\n  //     setLocalTransitionDone(true);\n  //   }\n  // }, [initTimeout, transitionDone]);\n\n  // the actual meat, here the trigger is registered\n  useLayoutEffect(() => {\n    setChapterHasScrolled(false);\n\n    if (!initScrollTrigger) return;\n    // if (!initTimeout || !localTransitionDone) return;\n\n    // trigger.current = trigger.current.kill(true);\n    // if (transitionDone) {\n    if (initScrollTrigger) {\n      setBackgroundReset(false);\n      setChapterHasScrolled(false);\n\n      // (\"init the triggers\");\n      trigger.current = ScrollTrigger.create({\n        start: \"top -45%\",\n        onLeaveBack: () => {\n          setBackgroundReset(false);\n          setChapterHasScrolled(false);\n        },\n        onEnter: () => {\n          setBackgroundReset(true);\n          setChapterHasScrolled(true);\n        }\n      });\n    }\n\n    return () => {\n      if (trigger.current) trigger.current.kill(true);\n    };\n    // }\n  }, [initScrollTrigger]);\n\n  const trigger = useRef();\n\n  return <div className={`chapter-page__inner ${backgroundReset ? \"has-background-reset\" : \"\"}`}>{props.children}</div>;\n}\nexport default ChapterPage;\n","function AuthorAvatar(props) {\n  const { src, alt } = props;\n\n  var style = {\n    backgroundImage: `url(${src})`\n  };\n  return (\n    <div className=\"participant-avatar\">\n      <figure>\n        <img style={style}></img>\n      </figure>\n    </div>\n  );\n}\n\nexport default AuthorAvatar;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"path-1\",\n  points: \"11.925 36.5027 2.27373675e-13 172.8037 543.923 220.3907 560.047 36.0947 319.144 15.0187\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.212,163.228 L24.978,165.395 L39.243,2.339 L14.478,0.172 L0.212,163.228 Z M34.182,166.201 L56.537,168.156 L64.743,74.354 L80.206,170.227 L100.37,171.99 L114.635,8.934 L92.062,6.958 L84.411,94.405 L70.803,5.099 L48.448,3.143 L34.182,166.201 Z M118.701,33.14 L139.522,34.961 L127.327,174.349 L151.872,176.497 L164.068,37.11 L184.888,38.931 L186.959,15.261 L120.771,9.471 L118.701,33.14 Z M178.829,178.855 L236.47,183.898 L238.636,159.133 L205.762,156.257 L209.885,109.136 L234.65,111.303 L236.816,86.537 L212.051,84.372 L215.79,41.635 L247.35,44.396 L249.421,20.726 L193.095,15.798 L178.829,178.855 Z M242.826,184.455 L267.591,186.621 L273.957,113.859 L280.312,114.415 C288.203,115.105 289.249,118.288 288.616,125.521 L288.616,125.521 L284.321,174.614 C283.554,183.38 284.62,186.345 285.562,188.193 L285.562,188.193 L310.109,190.341 L310.204,189.244 C309.319,186.739 308.273,183.555 308.849,176.98 L308.849,176.98 L313.853,119.779 C314.811,108.82 309.935,103.977 304.666,101.087 L304.666,101.087 C309.223,99.497 316.039,94.795 317.227,81.206 L317.227,81.206 L319.758,52.277 C321.35,34.086 313.635,26.344 297.198,24.905 L297.198,24.905 L257.091,21.397 L242.826,184.455 Z M282.564,91.203 L275.99,90.628 L279.92,45.7 L286.495,46.275 C293.947,46.926 295.173,50.567 294.56,57.581 L294.56,57.581 L292.566,80.373 C291.973,87.151 289.673,91.259 283.794,91.259 L283.794,91.259 C283.4,91.259 282.991,91.24 282.564,91.203 L282.564,91.203 Z M316.245,190.877 L338.6,192.834 L346.806,99.032 L362.269,194.904 L382.433,196.669 L396.698,33.611 L374.124,31.636 L366.473,119.082 L352.865,29.776 L330.511,27.82 L316.245,190.877 Z M391.637,197.473 L449.277,202.516 L451.444,177.751 L418.569,174.874 L422.691,127.755 L447.457,129.921 L449.624,105.156 L424.858,102.989 L428.597,60.253 L460.157,63.014 L462.228,39.344 L405.903,34.417 L391.637,197.473 Z M464.759,63.416 L485.58,65.238 L473.385,204.625 L497.931,206.773 L510.126,67.385 L530.946,69.208 L533.017,45.538 L466.83,39.746 L464.759,63.416 Z\",\n  id: \"path-3\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"path-5\",\n  points: \"0 0 0 185 416.542 185 760 160.983 760 0\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M637.664,0.121 C615.224,0.121 607.964,16.18 607.964,32.901 L607.964,32.901 L607.964,132.781 C607.964,149.281 613.464,167.321 638.544,167.321 L638.544,167.321 L644.044,167.321 C668.025,167.321 673.744,149.501 673.744,131.901 L673.744,131.901 L673.744,94.061 L649.325,94.061 L649.325,132.12 C649.325,138.721 647.124,143.121 641.184,143.121 L641.184,143.121 C635.684,143.121 633.264,139.161 633.264,131.901 L633.264,131.901 L633.264,34.661 C633.264,27.401 634.804,23.881 640.964,23.881 L640.964,23.881 C647.124,23.881 649.325,27.62 649.325,34.661 L649.325,34.661 L649.325,63.481 L673.744,63.481 L673.744,34.221 C673.744,18.16 670.664,0.121 643.384,0.121 L643.384,0.121 L637.664,0.121 Z M415.245,0.121 C391.924,0.121 383.344,15.081 383.344,37.741 L383.344,37.741 L383.344,128.821 C383.344,151.701 391.704,167.321 415.464,167.321 L415.464,167.321 L419.645,167.321 C443.624,167.321 451.325,151.701 451.325,128.821 L451.325,128.821 L451.325,37.521 C451.325,15.081 443.624,0.121 419.424,0.121 L419.424,0.121 L415.245,0.121 Z M408.644,130.581 L408.644,36.421 C408.644,28.061 411.064,23.881 417.444,23.881 L417.444,23.881 C423.164,23.881 426.024,27.841 426.024,36.421 L426.024,36.421 L426.024,130.581 C426.024,137.621 424.264,143.121 417.665,143.121 L417.665,143.121 C410.624,143.121 408.644,137.621 408.644,130.581 L408.644,130.581 Z M341.544,0.121 C321.964,0.121 310.964,10.24 310.964,32.021 L310.964,32.021 L310.964,37.301 C310.964,53.581 314.044,64.141 324.604,77.781 L324.604,77.781 L340.444,98.021 C349.464,109.681 350.564,113.861 350.564,125.521 L350.564,125.521 L350.564,129.261 C350.564,139.38 348.365,143.341 342.424,143.341 L342.424,143.341 C336.704,143.341 334.284,139.38 334.284,131.901 L334.284,131.901 L334.284,103.3 L309.644,103.3 L309.644,136.081 C309.644,156.321 320.204,167.101 340.004,167.101 L340.004,167.101 L344.845,167.101 C366.624,167.101 376.964,152.8 376.964,128.821 L376.964,128.821 L376.964,123.541 C376.964,105.061 373.444,96.701 362.225,82.181 L362.225,82.181 L346.384,61.72 C338.025,50.941 336.264,45.88 336.264,36.641 L336.264,36.641 L336.264,33.561 C336.264,25.861 337.584,22.12 343.524,22.12 L343.524,22.12 C349.464,22.12 350.564,26.301 350.564,31.801 L350.564,31.801 L350.564,55.341 L374.544,55.341 L374.544,28.5 C374.544,9.141 366.624,0.121 346.164,0.121 L346.164,0.121 L341.544,0.121 Z M32.224,0.121 C8.904,0.121 0.325,15.081 0.325,37.741 L0.325,37.741 L0.325,128.821 C0.325,151.701 8.684,167.321 32.444,167.321 L32.444,167.321 L36.624,167.321 C60.604,167.321 68.304,151.701 68.304,128.821 L68.304,128.821 L68.304,37.521 C68.304,15.081 60.604,0.121 36.404,0.121 L36.404,0.121 L32.224,0.121 Z M25.625,130.581 L25.625,36.421 C25.625,28.061 28.044,23.881 34.424,23.881 L34.424,23.881 C40.144,23.881 43.005,27.841 43.005,36.421 L43.005,36.421 L43.005,130.581 C43.005,137.621 41.244,143.121 34.644,143.121 L34.644,143.121 C27.605,143.121 25.625,137.621 25.625,130.581 L25.625,130.581 Z M681.664,1.661 L681.664,165.341 L739.524,165.341 L739.524,140.481 L706.525,140.481 L706.525,93.181 L731.384,93.181 L731.384,68.321 L706.525,68.321 L706.525,25.421 L738.204,25.421 L738.204,1.661 L681.664,1.661 Z M534.924,1.661 L534.924,165.341 L559.784,165.341 L559.784,92.301 L566.165,92.301 C574.085,92.301 575.404,95.38 575.404,102.641 L575.404,102.641 L575.404,151.921 C575.404,160.72 576.724,163.581 577.824,165.341 L577.824,165.341 L602.464,165.341 L602.464,164.24 C601.365,161.821 600.044,158.74 600.044,152.141 L600.044,152.141 L600.044,94.721 C600.044,83.721 594.764,79.321 589.264,76.901 L589.264,76.901 C593.664,74.921 600.044,69.64 600.044,56.001 L600.044,56.001 L600.044,26.961 C600.044,8.701 591.684,1.661 575.184,1.661 L575.184,1.661 L534.924,1.661 Z M559.784,23.881 L566.384,23.881 C573.864,23.881 575.404,27.401 575.404,34.44 L575.404,34.44 L575.404,57.321 C575.404,64.581 573.204,68.981 566.384,68.981 L566.384,68.981 L559.784,68.981 L559.784,23.881 Z M500.825,1.661 L500.825,131.241 C500.825,138.501 498.624,142.901 492.684,142.901 L492.684,142.901 C487.184,142.901 484.764,138.281 484.764,131.241 L484.764,131.241 L484.764,1.661 L459.464,1.661 L459.464,129.701 C459.464,153.241 468.484,167.321 490.484,167.321 L490.484,167.321 L494.884,167.321 C516.884,167.321 526.125,152.8 526.125,129.701 L526.125,129.701 L526.125,1.661 L500.825,1.661 Z M257.285,1.661 L257.285,89.441 L235.944,1.661 L213.504,1.661 L213.504,165.341 L235.944,165.341 L235.944,71.18 L259.704,165.341 L279.944,165.341 L279.944,1.661 L257.285,1.661 Z M149.264,1.661 L149.264,165.341 L207.124,165.341 L207.124,140.481 L174.125,140.481 L174.125,93.181 L198.984,93.181 L198.984,68.321 L174.125,68.321 L174.125,25.421 L205.805,25.421 L205.805,1.661 L149.264,1.661 Z M76.884,1.661 L76.884,165.341 L101.744,165.341 L101.744,97.36 L116.264,97.36 C133.204,97.36 141.784,86.801 141.784,67.441 L141.784,67.441 L141.784,28.721 C141.784,9.141 133.864,1.661 116.264,1.661 L116.264,1.661 L76.884,1.661 Z M101.744,23.881 L108.124,23.881 C115.384,23.881 116.705,28.721 116.705,35.101 L116.705,35.101 L116.705,61.941 C116.705,68.541 115.604,73.821 108.124,73.821 L108.124,73.821 L101.744,73.821 L101.744,23.881 Z\",\n  id: \"path-7\"\n}), /*#__PURE__*/React.createElement(\"polyline\", {\n  id: \"path-9\",\n  points: \"323.184 211.921 136.7 211.921 0 180.361 41.64 0 45.613 0 355.588 71.563 323.184 211.921 136.7 211.921\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M0.379,159.576 L24.602,165.168 L40.785,95.072 L65.222,100.713 L70.815,76.49 L46.377,70.848 L56.077,28.834 L86.945,35.961 L92.29,12.809 L37.199,0.091 L0.379,159.576 Z M61.686,173.729 L85.909,179.322 L102.339,108.154 L108.556,109.589 C116.273,111.371 116.866,114.668 115.234,121.742 L115.234,121.742 L104.147,169.759 C102.168,178.333 102.811,181.418 103.487,183.38 L103.487,183.38 L127.495,188.923 L127.743,187.851 C127.215,185.246 126.622,181.947 128.106,175.517 L128.106,175.517 L141.024,119.568 C143.498,108.85 139.343,103.375 134.529,99.78 L134.529,99.78 C139.261,98.84 146.665,95.131 149.733,81.841 L149.733,81.841 L156.266,53.545 C160.374,35.753 153.812,27.013 137.734,23.301 L137.734,23.301 L98.506,14.245 L61.686,173.729 Z M114.016,86.916 L107.585,85.432 L117.731,41.488 L124.162,42.972 C131.45,44.655 132.159,48.43 130.575,55.291 L130.575,55.291 L125.429,77.584 C124.037,83.609 121.558,87.254 116.746,87.254 L116.746,87.254 C115.909,87.254 115.001,87.144 114.016,86.916 L114.016,86.916 Z M161.558,65.83 L141.07,154.575 C135.923,176.869 140.555,193.97 163.706,199.314 L163.706,199.314 L167.778,200.255 C191.144,205.648 202.16,192.162 207.307,169.868 L207.307,169.868 L227.845,80.909 C232.893,59.043 228.756,42.734 205.176,37.291 L205.176,37.291 L201.103,36.35 C197.648,35.553 194.447,35.169 191.485,35.169 L191.485,35.169 C174.967,35.169 165.88,47.108 161.558,65.83 L161.558,65.83 Z M171.293,176.229 C164.434,174.646 163.742,168.841 165.325,161.982 L165.325,161.982 L186.506,70.235 C188.387,62.09 191.686,58.561 197.902,59.996 L197.902,59.996 C203.475,61.283 205.371,65.785 203.441,74.145 L203.441,74.145 L182.26,165.892 C180.867,171.926 178.414,176.493 173.466,176.493 L173.466,176.493 C172.789,176.493 172.067,176.408 171.293,176.229 L171.293,176.229 Z M207.452,207.382 L229.103,212.38 L252.907,109.272 L243.894,215.795 L253.539,218.023 L291.921,118.28 L268.117,221.388 L290.839,226.633 L327.659,67.148 L298.72,60.467 L267.481,141.99 L275.354,55.073 L244.272,47.897 L207.452,207.382 Z\",\n  id: \"path-11\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M704.98,2.162 L698.259,63.721 L682.596,3.728 L658.454,5.415 L687.501,99.097 L692.258,167.131 L717.057,165.397 L712.315,97.583 L727.366,0.597 L704.98,2.162 Z M630.363,7.38 L634.937,72.78 L618.038,73.962 L613.465,8.562 L588.664,10.296 L600.083,173.577 L624.882,171.843 L619.864,100.078 L636.763,98.897 L641.781,170.662 L666.58,168.927 L655.163,5.646 L630.363,7.38 Z M516.242,15.36 L517.899,39.062 L538.749,37.605 L548.508,177.183 L573.088,175.464 L563.328,35.886 L584.177,34.428 L582.52,10.725 L516.242,15.36 Z M472.569,18.414 L483.986,181.696 L539.072,177.844 L537.307,152.605 L507.021,154.723 L497.367,16.681 L472.569,18.414 Z M417.922,22.235 L409.368,186.914 L431.534,185.363 L432.678,154.408 L450.674,153.15 L456.114,183.644 L480.036,181.971 L447.33,20.179 L417.922,22.235 Z M435.532,69.081 L446.337,128.973 L433.388,129.878 L435.532,69.081 Z M337.159,27.883 L348.577,191.164 L406.296,187.128 L404.561,162.329 L371.642,164.631 L368.343,117.445 L393.142,115.711 L391.408,90.912 L366.608,92.647 L363.616,49.851 L395.219,47.641 L393.561,23.939 L337.159,27.883 Z M303.142,30.262 L307.716,95.662 L290.817,96.844 L286.244,31.443 L261.444,33.178 L272.862,196.458 L297.661,194.724 L292.643,122.96 L309.542,121.778 L314.559,193.542 L339.36,191.809 L327.942,28.527 L303.142,30.262 Z M184.412,38.564 L175.859,203.242 L198.025,201.692 L199.168,170.737 L217.164,169.478 L222.604,199.973 L246.526,198.301 L213.821,36.508 L184.412,38.564 Z M202.023,85.41 L212.827,145.301 L199.879,146.208 L202.023,85.41 Z M106.833,42.445 L102.664,42.737 C79.401,44.364 71.885,59.885 73.466,82.49 L73.466,82.49 L79.82,173.348 C81.415,196.172 90.845,211.172 114.547,209.514 L114.547,209.514 L118.717,209.222 C142.638,207.549 149.229,191.43 147.634,168.606 L147.634,168.606 L141.264,77.529 C139.784,56.336 131.88,42.313 110.558,42.311 L110.558,42.311 C109.359,42.311 108.119,42.355 106.833,42.445 L106.833,42.445 Z M105.18,173.339 L98.613,79.408 C98.029,71.069 100.152,66.73 106.516,66.285 L106.516,66.285 C112.222,65.886 115.351,69.638 115.95,78.197 L115.95,78.197 L122.518,172.127 C123.01,179.15 121.637,184.759 115.054,185.219 L115.054,185.219 C114.754,185.24 114.462,185.251 114.179,185.251 L114.179,185.251 C114.179,185.251 114.178,185.251 114.177,185.251 L114.177,185.251 C107.831,185.251 105.651,180.062 105.18,173.339 L105.18,173.339 Z M0.282,51.44 L1.939,75.142 L22.788,73.684 L32.548,213.263 L57.129,211.544 L47.368,71.965 L68.218,70.507 L66.56,46.805 L0.282,51.44 Z\",\n  id: \"path-13\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"splash-title-01\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-6\",\n  transform: \"translate(110.398500, 569.078700)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"mask-2\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#path-1\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Fill-1\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-16\",\n  mask: \"url(#mask-2)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(13.133500, 0.000000)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"mask-4\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#path-3\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Clip-15\",\n  stroke: \"none\",\n  fill: \"none\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-14\",\n  stroke: \"none\",\n  fill: \"#202020\",\n  fillRule: \"evenodd\",\n  mask: \"url(#mask-4)\",\n  points: \"9.9328 -5.2457 538.4338 40.9923 523.2968 214.0113 -5.2042 167.7743\"\n})))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-4\",\n  transform: \"translate(9.000000, 213.154400)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"mask-6\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#path-5\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Fill-2\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-13\",\n  mask: \"url(#mask-6)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(10.532000, 7.924300)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"mask-8\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#path-7\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Clip-12\",\n  stroke: \"none\",\n  fill: \"none\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-11\",\n  stroke: \"none\",\n  fill: \"#202020\",\n  fillRule: \"evenodd\",\n  mask: \"url(#mask-8)\",\n  points: \"-4.676 172.321 744.524 172.321 744.524 -4.879 -4.676 -4.879\"\n})))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-3\",\n  transform: \"translate(225.532000, 0.000000)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"mask-10\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#path-9\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Fill-6\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-9\",\n  mask: \"url(#mask-10)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  transform: \"translate(14.488500, 12.945000)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"mask-12\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#path-11\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Clip-8\",\n  stroke: \"none\",\n  fill: \"none\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-7\",\n  stroke: \"none\",\n  fill: \"#202020\",\n  fillRule: \"evenodd\",\n  mask: \"url(#mask-12)\",\n  points: \"33.7985 -7.4068 334.0025 61.9012 294.1405 234.5592 -6.0625 165.2522\"\n})))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-19\",\n  transform: \"translate(30.532000, 385.078700)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"mask-14\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#path-13\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Clip-18\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-17\",\n  fill: \"#202020\",\n  mask: \"url(#mask-14)\",\n  points: \"-5.1624 45.2641 731.8976 -6.2759 744.2586 170.4931 7.1986 222.0331\"\n})));\n\nfunction SvgSplashTitle01(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"778px\",\n    height: \"790px\",\n    viewBox: \"0 0 778 790\",\n    preserveAspectRatio: \"xMidYMax slice\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"splash-title-01\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgSplashTitle01);\nexport default __webpack_public_path__ + \"static/media/splash-title-01.185f9ab5.svg\";\nexport { ForwardRef as ReactComponent };","import { gsap } from \"gsap\";\nimport { useRef, useEffect, useState } from \"react\";\nimport { ReactComponent as Logo } from \"../../assets/chapter-number.svg\";\nimport IconNumber from \"../IconNumber\";\nimport { ReactComponent as SplashTitle } from \"assets/splash-title-01.svg\";\nimport Lottie from \"react-lottie\";\nimport Icon from \"../Icon\";\nimport animationData01 from \"../../assets/lottie-animations/chapter-01.json\";\nimport animationData02 from \"../../assets/lottie-animations/chapter-02.json\";\nimport animationData03 from \"../../assets/lottie-animations/chapter-03.json\";\nimport animationData04 from \"../../assets/lottie-animations/chapter-04.json\";\nimport animationData05 from \"../../assets/lottie-animations/chapter-05.json\";\nimport animationData06 from \"../../assets/lottie-animations/chapter-06.json\";\n\nconst Titles = {\n  \"01\": animationData01,\n  \"02\": animationData02,\n  \"03\": animationData03,\n  \"04\": animationData04,\n  \"05\": animationData05,\n  \"06\": animationData06\n};\n\nfunction ChapterTitle(props) {\n  const { chapter } = props;\n\n  const timeline = gsap.timeline({ paused: true });\n\n  const refNr = useRef(null);\n  const refTitle = useRef(null);\n  const [titlePaused, setTitlePaused] = useState(true);\n\n  const defaultOptions = {\n    loop: false,\n    autoplay: false,\n    animationData: Titles[chapter.chapter_nr],\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\"\n    }\n  };\n  // Intro animation\n  useEffect(() => {\n    // gsap.set([refTitle.current], { opacity: 0 });\n\n    timeline.to(refNr.current, { scale: 1, delay: 0.3 }).add(() => {\n      setTitlePaused(false);\n    }, \"-=0.2\");\n\n    // .set([refTitle.current], { opacity: 0, delay: 0.3 })\n    // .to(refTitle.current, { opacity: 1 }, \"0.5\");\n\n    timeline.play();\n\n    return () => {\n      if (timeline) timeline.kill(true);\n    };\n  }, []);\n\n  return (\n    <div className=\"chapter-page__splash container\">\n      <div className=\"chapter-page__number\" ref={refNr}>\n        <IconNumber nr={chapter.chapter_nr}></IconNumber>\n      </div>\n\n      <div className=\"chapter-page__title\">\n        <Lottie options={defaultOptions} isPaused={titlePaused} />\n        {/* <SplashTitle></SplashTitle> */}\n      </div>\n      {chapter.download && (\n        <a\n          href={chapter.download}\n          className=\"button-icon button-icon--download\"\n          target=\"_blank\"\n          download\n        >\n          Download this chapter\n          <Icon icon=\"download\"></Icon>\n        </a>\n      )}\n\n      {/* <Logo ref={refNr}></Logo> */}\n      {/* <h1 ref={refTitle}>{chapter.title}</h1> */}\n    </div>\n  );\n}\nexport default ChapterTitle;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"chapter-number\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Polygon\",\n  fill: \"#202020\",\n  points: \"50 0 79.3892626 9.54915028 97.5528258 34.5491503 97.5528258 65.4508497 79.3892626 90.4508497 50 100 20.6107374 90.4508497 2.44717419 65.4508497 2.44717419 34.5491503 20.6107374 9.54915028\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M35.0710997,32.3686851 L43.0898234,33.9184581 L47.5403914,39.2657416 L49.9327208,47.5862573 L48.8349936,58.216048 L42.2166313,66 L32.4498963,66 L26.5506972,59.3042898 L24,48.9147112 L26.8723139,37.1205665 L35.0710997,32.3686851 Z M65.2673301,32 L69.0128361,32.8825771 L69.0128361,62.0605214 L76,62.0605214 L76,66 L57.4292106,66 L57.4292106,62.0605214 L65.0585233,62.0605214 L65.0585233,41.1944559 L64.9066638,41.4902677 L63.1385853,42.5768901 L58.4472116,42.5768901 L58.4472116,38.6379513 L61.9182858,38.6379513 L65.2673301,32 Z M35.7794157,36.5159877 L30.3184398,39.6792303 L28.0709192,48.9114724 L30.1638685,57.4322548 L34.2407536,62.0605214 L40.3813008,62.0605214 L45.0216932,56.6004191 L45.920376,47.9387483 L43.9657273,41.1442543 L40.9453504,37.5146223 L35.7794157,36.5159877 Z\",\n  id: \"Combined-Shape\",\n  fill: \"#FFFFFF\"\n}));\n\nfunction SvgChapterNumber(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"100px\",\n    height: \"100px\",\n    viewBox: \"0 0 100 100\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"chapter-number\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgChapterNumber);\nexport default __webpack_public_path__ + \"static/media/chapter-number.71c53426.svg\";\nexport { ForwardRef as ReactComponent };","import \"./styles/main.scss\";\nimport { TransitionGroup, Transition, SwitchTransition } from \"react-transition-group\";\nimport { gsap } from \"gsap\";\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport React, { useState } from \"react\";\nimport { BrowserRouter as Router, Switch, matchPath, Route, useLocation, useRouteMatch } from \"react-router-dom\";\nimport { useGlobal, useEffect, useRef, useDispatch } from \"reactn\";\n//\nimport HeaderBar from \"./components/HeaderBar/HeaderBar\";\nimport BookChapterNav from \"./components/BookChapterNav\";\nimport Cursor from \"./components/Cursor\";\nimport Chapter from \"./components/Chapter/Chapter\";\nimport Home from \"./components/Home/\";\nimport OverlayMenu from \"./components/OverlayMenu\";\nimport AuthorsManager from \"components/Author/AuthorsManager\";\nimport ScrollToTop from \"components/ScrollToTop\";\nimport eventBus from \"common/EventBus\";\n\ngsap.registerPlugin(ScrollTrigger);\ngsap.registerPlugin(ScrollToPlugin);\n\n// -- Deal with the chapters ----------------------------------------------------------\nfunction LocationHandler() {\n  const location = useLocation();\n  const [currentChapter, setCurrentChapter] = useGlobal(\"currentChapter\");\n\n  useEffect(() => {\n    let isChapter = matchPath(location.pathname, {\n      path: \"/:chapter\"\n    });\n\n    if (!isChapter) {\n      setCurrentChapter({});\n    }\n  }, [location.pathname, setCurrentChapter]);\n\n  return null;\n}\n\n// -- App -------------------------------------------------------------------------------\nfunction App() {\n  const [darkModeEnabled] = useGlobal(\"darkMode\");\n  const [blur] = useGlobal(\"blur\");\n  const [bookColor] = useGlobal(\"bookColor\");\n  const [chaptersData] = useGlobal(\"chaptersData\");\n  const fetchData = useDispatch(\"fetchData\");\n\n  // load the data\n  useEffect(() => {\n    fetchData();\n  }, []);\n\n  useEffect(() => {\n    document.documentElement.setAttribute(\"data-darkmode\", darkModeEnabled);\n  }, [darkModeEnabled]);\n\n  useEffect(() => {\n    if (!blur) {\n      document.documentElement.removeAttribute(\"data-blur\");\n    } else {\n      document.documentElement.setAttribute(\"data-blur\", blur);\n    }\n  }, [blur]);\n\n  useEffect(() => {\n    if (bookColor) {\n      document.documentElement.setAttribute(\"style\", `--theme-color:var(--color-${bookColor})`);\n    } else {\n      document.documentElement.setAttribute(\"style\", ``);\n    }\n  }, [bookColor]);\n\n  return (\n    <>\n      <div className=\"App\">\n        {chaptersData && chaptersData.length > 0 && (\n          <Router>\n            <Main></Main>\n          </Router>\n        )}\n\n        <Cursor></Cursor>\n      </div>\n    </>\n  );\n}\n\nexport default App;\n\n// -- Main -------------------------------------------------------------------------------\nfunction Main(props) {\n  const [showChapterNav, setShowChapterNav] = useGlobal(\"showChapterNav\");\n  const [unFocusChapterNav, setUnFocusChapterNav] = useGlobal(\"unFocusChapterNav\");\n  const nodeRef = useRef(null);\n  const customRef = useRef();\n\n  let location = useLocation();\n\n  const isChapterLocation = matchPath(location.pathname, {\n    path: \"/:chapterSlug/:pageSlug?\",\n    strict: false\n  });\n\n  // let isChapterLocation = location.pathname.includes(\"/chapter\");\n  const promiseRef = useRef(Promise.resolve(true));\n\n  // [todo]\n  // let onEnter = (done) => {\n  //   console.log(\"AA\");\n  //   // setTimeout(() => {\n  //   //   done();\n  //   // }, 1500);\n  //   // console.log(location.pathname);\n  //   // console.log(isChapterLocation);\n  //   // if (location.pathname.includes(\"/chapter\")) {\n  //   //   console.log(done);\n  //   //   console.log(location.pathname);\n  //   // }\n  //   if (isChapterLocation) {\n  //     nodeRef.current.style.opacity = 0;\n  //     nodeRef.current.style.position = \"fixed\";\n  //     nodeRef.current.classList.add(\"is-entering\");\n\n  //     gsap.set(nodeRef.current, {\n  //       zIndex: 100,\n  //       height: \"100%\",\n\n  //       // width: \"100%\",\n  //       y: \"100%\",\n  //       // top: `${window.scrollY}px`\n  //       opacity: 1\n  //     });\n\n  //     gsap.to(nodeRef.current, {\n  //       delay: 0.1,\n  //       duration: 0.2,\n  //       y: \"0%\",\n  //       onComplete: () => {\n  //         customRef.current = nodeRef.current;\n  //         window.scrollTo(0, 0);\n  //         nodeRef.current.classList.remove(\"is-entering\");\n\n  //         setTimeout(() => {\n  //           gsap.set(customRef.current, {\n  //             clearProps: \"y,opacity,height,position,zIndex\"\n  //           });\n  //         }, 100);\n  //         setTimeout(() => {\n  //           ScrollTrigger.refresh();\n  //         }, 1000);\n  //         // setTimeout(() => {\n  //         //   ScrollTrigger.refresh();\n  //         // }, 150);\n  //         // setTimeout(() => {\n  //         //   done();\n  //         // }, 200);\n  //         // nodeRef.current.classList.remove(\"is-entering\");\n  //       }\n  //     });\n\n  //     // let node = nodeRef.current;\n  //     // // this is slightly faster than gsap.set and thus\n  //     // // prevents a glitch\n  //     // node.style.opacity = 0;\n  //     // node.style.position = \"absolute\";\n  //     // // set\n  //     // gsap.set(node, {\n  //     //   // zIndex: 1,\n  //     //   // width: \"100%\",\n  //     //   // y: \"100%\",\n  //     //   top: `${window.scrollY}px`\n  //     //   // opacity: 1\n  //     // });\n  //     // nodeRef.current.classList.add(\"is-entering\");\n  //     // gsap.set(nodeRef.current, { opacity: 1, y: \"100%\" });\n  //     // gsap.to(nodeRef.current, {\n  //     //   duration: 0.5,\n  //     //   y: \"0px\",\n  //     //   clearProps: \"all\",\n  //     //   onComplete: () => {\n  //     //     nodeRef.current.classList.remove(\"is-entering\");\n  //     //     setTimeout(() => {\n  //     //       ScrollTrigger.refresh();\n  //     //     }, 300);\n  //     //   }\n  //     // });\n  //   } else {\n  //     gsap.set(nodeRef.current, { opacity: 0 });\n  //     gsap.to(nodeRef.current, { opacity: 1 });\n  //   }\n\n  //   // console.log(node);\n  //   // console.log(nodeRef.current);\n  //   // console.log(\"onenter\");\n  //   // console.log(isChapterLocation);\n  // };\n\n  // [todo]\n  let onEnter = (node) => {\n    // console.log(\"transitons not done\");\n\n    // setTransitionDone(false);\n\n    let chapterTransition = (node) => {\n      return new Promise((resolve, reject) => {\n        node.style.opacity = 0;\n        node.style.position = \"absolute\";\n        // node.classList.add(\"is-entering\");\n\n        // console.log(node);\n        // // // set\n        gsap.set(node, {\n          zIndex: 1,\n          width: \"100%\",\n          y: `${window.innerHeight}px`,\n          top: `${window.scrollY}px`,\n          opacity: 1\n          // zIndex: 10,\n          // width: \"100%\",\n          // heigh: \"100%\",\n          // y: `${window.innerHeight / 2}px`,\n          // top: \"0\",\n          // opacity: 1\n          // top: `${window.scrollY}px`,\n          // opacity: 0.5\n        });\n\n        gsap.to(node, {\n          y: \"0px\",\n          delay: 0.1,\n          duration: 20,\n          // y: \"0px\",\n          // delay: 20,\n          duration: 0.5,\n          onComplete: () => {\n            // window.scrollTo(0, 0);\n            // node.classList.remove(\"is-entering\");\n            window.scrollTo(0, 0);\n            gsap.set(node, { clearProps: \"zIndex,y,top,position\" });\n            resolve(\"enter\");\n          }\n        });\n      });\n    };\n\n    // [todo]\n    let homeTransition = (node) => {\n      return new Promise((resolve, reject) => {\n        gsap.set(node, { opacity: 0 });\n        gsap.to(node, {\n          opacity: 1,\n          onComplete: () => {\n            window.scrollTo(0, 0);\n\n            resolve(\"enter\");\n          }\n        });\n      });\n      //\n    };\n\n    if (isChapterLocation) {\n      promiseRef.current = chapterTransition(node);\n    } else {\n      promiseRef.current = homeTransition(node);\n    }\n  };\n\n  let onExit = (node) => {\n    promiseRef.current = new Promise((resolve, reject) => {\n      resolve();\n    });\n  };\n\n  let endListener = (node, done) => {\n    // console.log(\"endlistener\");\n\n    //\n    promiseRef.current\n      .then((type) => {\n        if (type === \"enter\") {\n          // added a little timeout, without the timeout\n          // the chapterPagesSeparate kept throwing errors\n          // !! i might be able to remove this\n          setImmediate(() => {\n            eventBus.dispatch(\"onTransitionComplete\", { source: \"app\" });\n\n            // setTimeout(() => {\n            ScrollTrigger.refresh();\n            // }, 300);\n            // console.log(\"transitons doen\");\n            // setTransitionDone(true);\n          });\n        }\n        return;\n      })\n      .then(done);\n  };\n\n  return (\n    <>\n      <LocationHandler />\n      <ScrollToTop />\n      <header className=\"app-header\">\n        <OverlayMenu></OverlayMenu>\n\n        {showChapterNav && (\n          <BookChapterNav\n            debug={true}\n            isDynamic={true}\n            isVisible={showChapterNav}\n            unFocusChapterNav={unFocusChapterNav}\n          ></BookChapterNav>\n        )}\n        {isChapterLocation && <HeaderBar></HeaderBar>}\n      </header>\n      <main>\n        <SwitchTransition mode=\"in-out\">\n          <Transition key={isChapterLocation} onEnter={onEnter} onExit={onExit} addEndListener={endListener}>\n            <div className=\"page-container\" ref={nodeRef}>\n              <Switch location={location}>\n                <Route path={`/:chapterSlug/:pageSlug?`}>\n                  <Chapter />\n                </Route>\n                <Route path={`/`}>\n                  <Home />\n                </Route>\n              </Switch>\n            </div>\n          </Transition>\n        </SwitchTransition>\n      </main>\n      <AuthorsManager></AuthorsManager>\n      <div id=\"modal-root\" className=\"modal-root\"></div>\n    </>\n  );\n}\n","import { setGlobal, useGlobal, useDispatch } from \"reactn\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { useRef, useEffect, useState, useCallback } from \"react\";\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\nimport IconNumber from \"./IconNumber\";\nimport { ReactComponent as IconClose } from \"assets/icon-close-large.svg\";\n\nimport {\n  BrowserRouter as Router,\n  Switch,\n  Route,\n  NavLink,\n  useParams,\n  useRouteMatch,\n  useHistory\n} from \"react-router-dom\";\nimport BookChaptersUI from \"components/BookChaptersUI\";\ngsap.registerPlugin(ScrollTrigger);\n\n// -- BookChapterNav ---------------------------------------------------- //\nfunction BookChapterNav(props) {\n  const {\n    fullCollapse,\n    isDynamic,\n    debug,\n    noMouse,\n    startCollapsed,\n    defaultExpanded,\n    isVisible,\n    unFocusChapterNav,\n    onClickRowCB\n  } = props;\n  const activateBlur = useDispatch(\"blur\");\n\n  const [chaptersData] = useGlobal(\"chaptersData\");\n  const [currentChapter] = useGlobal(\"currentChapter\");\n  const itemEls = useRef([]);\n  let history = useHistory();\n  const chaptersUIRef = useRef();\n\n  const navEnabled = useRef();\n\n  const [test, setTest] = useState(false);\n\n  const [counter, setCounter] = useState(0);\n\n  const [globalUnfocusChapterNav, setGlobalUnfocusChapterNav] = useGlobal(\"unFocusChapterNav\");\n\n  const counterRef = useRef();\n  counterRef.current = counter;\n\n  const timer = useRef();\n  const ref = useRef();\n  const helper = useRef(); // ref is equivalent of instance prop\n\n  // useEffect(() => {\n  //   setInterval(() => {\n  //     setCounter(counter + 1);\n  //   }, 1000);\n  // }, [counter]);\n\n  let onHomeClick = (ev) => {\n    ev.preventDefault();\n    onRowClick(\"/\");\n  };\n\n  // const onRowClick = (url) => {\n  //   // console.log(counter);\n  //   // console.log(url);\n  //   setCounter(Math.random());\n\n  //   // setCounter(Math.random());\n  //   // logCurrentCounter();\n  // };\n\n  let onRowClick = () => {\n    // console.log(url);\n    // setNavDisabled(true);\n    // console.log(counter);\n    // // if (!helper.current) return false;\n    // // setTest(true);\n    // setCounter(counter + 1);\n    // console.log(\"aoaao\");\n    // helper.current.disable(true);\n    // setImmediate(() => {\n    //   history.push(url);\n    // });\n  };\n\n  // useEffect(() => {\n  //   if (timer.current) {\n  //     clearInterval(timer.current);\n  //   }\n\n  //   timer.current = setInterval(() => {\n  //     console.log(counter);\n  //     logCurrentCounter();\n  //   }, 1000);\n  //   // setTimeout(() => {\n  //   //   console.log(\"change state\");\n  //   //   setTest(true);\n  //   // }, 1000);\n  // }, [counter]);\n\n  useEffect(() => {}, [test]);\n\n  let onNavEnabled = () => {\n    navEnabled.current = true;\n    activateBlur(\"menu-blur\");\n  };\n  let onNavDisabled = () => {\n    navEnabled.current = false;\n\n    activateBlur();\n  };\n\n  let onActivateRow = () => {};\n\n  let handleClose = () => {\n    chaptersUIRef.current.control.current.disable();\n  };\n\n  return (\n    <div className={`book-chapters-nav ${navEnabled.current ? \"is-enabled\" : \"\"}`}>\n      <BookChaptersUI\n        ref={chaptersUIRef}\n        isDynamic={true}\n        onRowClickCB={onRowClick}\n        onActivateRow={onActivateRow}\n        onNavDisabled={onNavDisabled}\n        onNavEnabled={onNavEnabled}\n        onHomeClick={onHomeClick}\n      ></BookChaptersUI>\n      <div className=\"book-chapters-nav__close\">\n        <button onClick={handleClose}>\n          <IconClose></IconClose>\n        </button>\n      </div>\n    </div>\n  );\n}\n\nexport default BookChapterNav;\n","function BookChapterLogic(options) {\n  let rows = [];\n  let el;\n  let activeRowIndex;\n  let activeRows = [];\n  let isEnabled;\n  let muted;\n  let mutedTimerRunning;\n  let mutedTimeout;\n  let hitArea;\n  let rowClass = \".chapter-row\";\n  let isTouch;\n  let reveal = (direct = false, staggered = false) => {};\n\n  let show = (direct = false) => {};\n\n  let onHover = () => {};\n\n  let onHoverOut = () => {};\n\n  let onShowRow = () => {};\n  let onHideRow = () => {};\n\n  let setActiveChapter = (slug) => {};\n\n  let destroy = () => {};\n\n  let getRowObj = (index) => {};\n\n  let getRowElByIndex = (index) => {\n    return rows[index].el;\n  };\n  let getRowObjByEl = (el) => {\n    let index = getRowElIndex(el);\n    return rows[index];\n  };\n  let getRowElIndex = (el) => {\n    return rows.map((o) => o.el).indexOf(el);\n  };\n\n  let getNrOfRows = () => {\n    return rows.length;\n  };\n  let deActivateRows = () => {\n    rows.forEach((row) => {\n      deActivateRow(rows.indexOf(row));\n      // row.isExpanded = false;\n      // row.el.classList.remove(\"is-expanded\");\n    });\n  };\n\n  let deActivateRow = (index) => {\n    let rowEl = getRowElByIndex(index);\n    rowEl.classList.remove(\"is-expanded\");\n\n    rows[index].isExpanded = false;\n\n    //\n    if (activeRows.indexOf(index) > -1) {\n      activeRows.splice(activeRows.indexOf(index), 1);\n    }\n    // if (activeRowIndex === index) {\n    //   activeRowIndex = null;\n    // }\n  };\n\n  let activateRow = (index, onlyAllowOne) => {\n    if (activeRows.indexOf(index) > -1) return;\n\n    // if (index === activeRowIndex) return;\n\n    if (onlyAllowOne) {\n      deActivateRows();\n    }\n\n    rows[index].isExpanded = true;\n\n    let rowEl = getRowElByIndex(index);\n    rowEl.classList.add(\"is-expanded\");\n    // activeRowIndex = index;\n    activeRows.push(index);\n  };\n\n  let clearMuted = () => {\n    clearTimeout(mutedTimeout);\n    mutedTimerRunning = false;\n\n    muted = false;\n  };\n  let setMuted = () => {\n    if (mutedTimeout) {\n      clearTimeout(mutedTimeout);\n      mutedTimerRunning = true;\n    }\n\n    mutedTimeout = setTimeout(() => {\n      mutedTimerRunning = false;\n    }, 250);\n\n    muted = true;\n  };\n  // checks and removes mute\n  let isMuted = () => {\n    if (muted && mutedTimerRunning) return true;\n    if (!muted) return false;\n\n    muted = false;\n    return true;\n  };\n\n  let expandNav = () => {\n    if (!isEnabled) {\n      enableNav();\n    }\n\n    rows.forEach((row, index) => {\n      activateRow(index);\n    });\n  };\n  let enableNav = () => {\n    if (isEnabled) return;\n    el.classList.add(\"is-enabled\");\n    isEnabled = true;\n    if (options.onNavEnabled) {\n      options.onNavEnabled();\n    }\n  };\n\n  let disableNav = () => {\n    if (!isEnabled) return;\n    el.classList.remove(\"is-enabled\");\n    isEnabled = false;\n\n    if (options.onNavDisabled) {\n      options.onNavDisabled();\n    }\n  };\n\n  let disableWhenAllDeactivated = () => {\n    let activeRows = rows.filter((o) => o.isExpanded);\n\n    if (!activeRows.length) {\n      disableNav();\n    }\n    // console.log(activeRows);\n  };\n\n  let onDisable = (disableTillNewInput) => {\n    deActivateRows();\n    disableWhenAllDeactivated();\n\n    if (disableTillNewInput) {\n      setMuted();\n    }\n  };\n  // -- Mouse Interface ---------------------------------- //\n  let onRowClick = (ev) => {\n    ev.preventDefault();\n    ev.stopPropagation();\n\n    if (!isEnabled) {\n      if (isTouch) {\n        expandNav();\n        return;\n      }\n      enableNav();\n      return;\n    }\n    let targetRow = ev.target.closest(rowClass);\n    if (!targetRow) return;\n    let rowObj = getRowObjByEl(targetRow);\n\n    if (options.onRowClick) {\n      options.onRowClick(rowObj.url);\n    }\n    // console.log(rowObj);\n  };\n\n  let onRowEnter = (ev) => {\n    if (isMuted()) return;\n\n    let targetRow = ev.target.closest(rowClass);\n    if (!targetRow) return;\n    let targetRowIndex = getRowElIndex(targetRow);\n\n    activateRow(targetRowIndex, true);\n    enableNav();\n  };\n\n  let onRowLeave = (ev) => {\n    // ignore row\n    // let parentRow = ev.targetTo.closest(\".chapter-row\");\n    // if (parentRow) return;\n\n    let targetRow = ev.target.closest(rowClass);\n    let targetRowIndex = getRowElIndex(targetRow);\n\n    deActivateRow(targetRowIndex, true);\n\n    // if we are moving outside the nav\n\n    let relatedTargetIsRow;\n    if (ev.relatedTarget) {\n      relatedTargetIsRow = ev.relatedTarget.closest(\".book-chapters\");\n      // if (!relatedTargetIsRow) {\n      //   clearMuted();\n\n      //   // we clearly moved out this row, collapse all\n\n      //   // console.log(\"all outside\");\n      //   // disableWhenAllDeactivated();\n      // }\n    }\n\n    if (!ev.relatedTarget || !relatedTargetIsRow) {\n      clearMuted();\n      onDisable();\n    }\n\n    // // let targetRow = ev.target.closest(\".chapter-row\");\n    // let targetTo = ev.toElement;\n    // console.log(parentRow);\n  };\n\n  let onNavEnter = (ev) => {\n    if (isMuted()) return;\n\n    if (isEnabled) return;\n    enableNav();\n  };\n\n  let onNavLeave = (ev) => {\n    if (!ev.relatedTarget) return;\n    let targetRow = ev.relatedTarget.closest(rowClass);\n    if (targetRow) return;\n\n    // when we reach this point we are leaving the complete component\n    // so remove the mute\n    clearMuted();\n\n    if (!isEnabled) return;\n    disableNav();\n    // console.log(ev.toElement);\n  };\n\n  let onMouseLeaveScreen = () => {\n    if (!isEnabled) return;\n    onDisable();\n  };\n\n  // init\n  let init = () => {\n    el = options.el;\n    isTouch = window.matchMedia(\"(pointer:coarse)\").matches;\n\n    options.rows.forEach((row) => {\n      let anchorElement = row.el.querySelector(\"a\");\n\n      rows.push({\n        el: row.el,\n        elAnchor: anchorElement,\n        hoverEl: row.el.querySelector(\".js-hover-area\"),\n        slug: row.slug,\n        isExpanded: false,\n        url: anchorElement.getAttribute(\"href\")\n      });\n    });\n\n    hitArea = el.querySelector(\".book-chapters__hitarea\");\n\n    if (options.isDynamic) {\n      if (!isTouch) {\n        enableHoverListeners();\n      } else {\n      }\n    }\n\n    hitArea.addEventListener(\"touchstart\", () => {});\n\n    // hitArea.addEventListener(\"mouseover\", (e) => {\n    //   console.log(\"mouseover\");\n    //   console.log(e);\n    // });\n\n    rows.forEach((row) => {\n      row.hoverEl.addEventListener(\"click\", onRowClick);\n      // row.elAnchor.addEventListener(\"click\", onRowClick);\n    });\n\n    if (options.isEnabled) {\n      enableNav();\n    }\n    if (options.isExpanded) {\n      // rows.forEach((row, index) => {\n      //   activateRow(index);\n      // });\n      expandNav();\n    }\n  };\n\n  let disableHoverListeners = () => {\n    document.removeEventListener(\"mouseleave\", onMouseLeaveScreen);\n    window.removeEventListener(\"mouseleave\", onMouseLeaveScreen);\n    hitArea.removeEventListener(\"mouseenter\", onNavEnter);\n    hitArea.removeEventListener(\"mouseleave\", onNavLeave);\n\n    rows.forEach((row) => {\n      row.hoverEl.removeEventListener(\"mouseenter\", onRowEnter);\n      row.hoverEl.removeEventListener(\"mouseleave\", onRowLeave);\n    });\n  };\n\n  let enableHoverListeners = () => {\n    document.addEventListener(\"mouseleave\", onMouseLeaveScreen);\n    window.addEventListener(\"mouseleave\", onMouseLeaveScreen);\n    hitArea.addEventListener(\"mouseenter\", onNavEnter);\n    hitArea.addEventListener(\"mouseleave\", onNavLeave);\n\n    rows.forEach((row) => {\n      row.hoverEl.addEventListener(\"mouseenter\", onRowEnter);\n      row.hoverEl.addEventListener(\"mouseleave\", onRowLeave);\n    });\n  };\n\n  let onDisableHover = () => {\n    disableHoverListeners();\n  };\n\n  let onEnableHover = () => {\n    enableHoverListeners();\n  };\n\n  return {\n    disable: onDisable,\n    disableHover: onDisableHover,\n    enableHover: onEnableHover,\n    getNrOfRows: getNrOfRows,\n    enable: enableNav,\n    deActivateRowByIndex: deActivateRow,\n    activateRowByIndex: activateRow,\n    destroy: destroy,\n    init: init,\n    show: show,\n    setActiveChapter: setActiveChapter\n  };\n}\n\nexport default BookChapterLogic;\n","import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { setGlobal, useGlobal } from \"reactn\";\nimport { ReactComponent as IconClose } from \"../assets/icon-close-large.svg\";\n\nfunction Cursor(props) {\n  const [cursorXY, setCursorXY] = useState({ x: -100, y: -100 });\n  const [enabled, setEnabled] = useState(null);\n  const [visible, setVisible] = useState(null);\n  const [cursor] = useGlobal(\"cursor\");\n\n  useEffect(() => {\n    if (cursor.enabled !== enabled) {\n      setVisible(cursor.enabled);\n\n      if (!cursor.enabled) {\n        setTimeout(() => {\n          setEnabled(false);\n        }, 250);\n      } else {\n        setEnabled(cursor.enabled);\n      }\n    }\n  }, [cursor]);\n\n  const moveCursor = useCallback(\n    (e) => {\n      if (!enabled) return;\n      const x = Math.round(e.clientX);\n      const y = Math.round(e.clientY);\n\n      // let x = ev.pageX - width / 2\n      // let y = ev.clientY - height / 2\n      // if (roundCoordinates) {\n      //   x = Math.round(x)\n      //   y = Math.round(y)\n      // }\n      // el.style.left = x + 'px'\n      // el.style.top = y + 'px'\n\n      setCursorXY({ x, y });\n    },\n    [enabled, visible]\n  );\n\n  useEffect(() => {\n    if (enabled) {\n      document.body.classList.add(\"has-custom-cursor\");\n    } else {\n      document.body.classList.remove(\"has-custom-cursor\");\n    }\n  }, [enabled]);\n  useEffect(() => {\n    window.addEventListener(\"mousemove\", moveCursor);\n    return () => {\n      window.removeEventListener(\"mousemove\", moveCursor);\n    };\n  }, [moveCursor]);\n\n  return (\n    <div\n      className={`cursor ${enabled ? \"is-enabled\" : \"\"} ${\n        visible ? \"is-visible\" : \"\"\n      }`}\n      style={{\n        left: `${cursorXY.x}px`,\n        top: `${cursorXY.y}px`\n      }}\n    >\n      <div className=\"cursor__pointer\">\n        <IconClose></IconClose>\n      </div>\n    </div>\n  );\n}\n\nexport default Cursor;\n","import { useRef, useEffect, useLayoutEffect, useState } from \"react\";\nimport { useGlobal, useDispatch } from \"reactn\"; // <-- reactn\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { useParams, useRouteMatch, useLocation, useHistory } from \"react-router-dom\";\nimport { SwitchTransition, TransitionGroup, Transition } from \"react-transition-group\";\nimport eventBus from \"common/EventBus\";\n\nimport ChapterPagesContinous from \"./ChapterPagesContinous\";\nimport ChapterPagesSeperate from \"./ChapterPagesSeperate\";\ngsap.registerPlugin(ScrollTrigger);\n\n// -------------------------------------------------------------------------------------------------- //\nlet afterTransitionActions = () => {\n  // deal with scroll effects reinit\n  // [todo] check if we really do not need a timeout\n  ScrollTrigger.refresh();\n  // setTimeout(() => {\n  //   ScrollTrigger.refresh();\n  // }, 100);\n  // setTimeout(() => {\n  //   ScrollTrigger.refresh();\n  // }, 300);\n};\n\n// -------------------------------------------------------------------------------------------------- //\n\n/**\n * Some specifics about the Chapter component. A chapter can be of type continuous which creates an endles chapter with all\n * pages rendered at the same time. It could also be a seperate pages page wich requires an extra scroll to show the next page\n * and has a transition.\n *\n * EDGE CASE 'TITLE PAGE'\n * The title page of each chapter is special, because it has a title 'and' the first page is shown. When visiting the chapter\n * the url does not yet contain the first chapter slug, but as soon as you scroll into the first chapter the url needs to update\n * without re-rendering or transitioning the page. To achieve this [1] was added.\n */\nfunction Chapter() {\n  let { chapterSlug, pageSlug } = useParams();\n\n  let [chapterState, setChapterState] = useState(null);\n  let [pageState, setPageState] = useState(null);\n  // -- state --\n\n  const [bookColor, setBookColor] = useGlobal(\"bookColor\");\n  const [chaptersData] = useGlobal(\"chaptersData\");\n  const [currentChapter, setCurrentChapter] = useGlobal(\"currentChapter\");\n  const [currentSubChapter, setCurrentSubChapter] = useGlobal(\"currentSubChapter\");\n  const [showChapterNav, setShowChapterNav] = useGlobal(\"showChapterNav\");\n  const toggleHeaderBar = useDispatch(\"toggleHeaderBar\");\n  const params = useParams();\n\n  const isFirstLoadRef = useRef(true);\n  //\n\n  const promiseRef = useRef(Promise.resolve(true));\n\n  const [transitionDone, setTransitionDone] = useState(true);\n\n  const prevPageRef = useRef();\n\n  var chapter;\n  let getChapter = (slug) => {\n    return chaptersData.find((chapter) => chapter.slug === chapterSlug);\n  };\n\n  useEffect(() => {\n    let cbFunction = (data) => {\n      console.log(\"on transition complete event\");\n      setTransitionDone(true);\n\n      // console.log(data);\n      // setTimeout(() => {\n      // ScrollTrigger.refresh();\n      // }, 100);\n    };\n    eventBus.on(\"onTransitionComplete\", cbFunction);\n\n    return () => {\n      console.log(\"remove event bus\");\n      eventBus.remove(\"onTransitionComplete\", cbFunction);\n    };\n  }, []);\n\n  // if the chapterSlug changes set the page transition to false\n  // this logic is placed here instead of in the onEnter transition because\n  // the setState changes we're not reflected in time before the page mounted\n  useEffect(() => {\n    if (isFirstLoadRef.current) return;\n    console.log(\"chapterslug chagne\");\n    setTransitionDone(false);\n  }, [params.chapterSlug]);\n\n  // Perform some basics when the Chapter first loads\n  useEffect(() => {\n    // if we enable this, the transitioning overlay flashes\n    // setTransitionDone(true);\n    setImmediate(() => {\n      toggleHeaderBar(true);\n      setShowChapterNav(true);\n    });\n  }, [setShowChapterNav, toggleHeaderBar]);\n\n  //\n  useEffect(() => {\n    console.log(\"important effect\");\n    if (transitionDone) {\n      console.log(\"transitiondone\");\n\n      if (chapterState) {\n        setBookColor(chapterState.color);\n        afterTransitionActions();\n      }\n    }\n  }, [transitionDone, setBookColor, chapterState]);\n\n  // If the chapterSlug or pageSlug changes, in this part we will set the `chapterState` and `pageState`.\n  // There is an exception behavior when the slug changes due to the user scrolling down on the first\n  useEffect(() => {\n    let chapterObj = getChapter(chapterSlug);\n    let pageObj = {};\n\n    setChapterState(chapterObj);\n\n    if (!chapterObj) {\n      // set globals\n      setCurrentChapter(null);\n      setCurrentSubChapter(null);\n    } else {\n      setCurrentChapter(chapterObj);\n\n      if (pageSlug) {\n        pageObj = chapterObj.pages.find((o) => o.slug === pageSlug);\n        setCurrentSubChapter(pageObj.slug);\n\n        // [1] if there is a prevPage set and the current page is not the first page of the chapter\n        // set the page state. This causes the ChapterPagesSeperate.js to re-render.\n\n        let pageObjIndex = chapterObj.pages.indexOf(pageObj);\n\n        if (!prevPageRef.current && pageObjIndex !== 0) {\n          setPageState(pageObj);\n        } else if (prevPageRef.current) {\n          setPageState(pageObj);\n        }\n      } else {\n        setCurrentSubChapter(null);\n        setPageState(null);\n      }\n    }\n\n    prevPageRef.current = pageSlug;\n\n    // prevChapter.current = chapterSlug;\n  }, [chapterSlug, pageSlug]);\n\n  useEffect(() => {\n    if (isFirstLoadRef.current) {\n      isFirstLoadRef.current = false;\n    }\n  }, []);\n\n  // -- Transitions --------------------------------------------------------------------------- //\n\n  let onEnter = (node) => {\n    promiseRef.current = new Promise((resolve, reject) => {\n      node.style.opacity = 0;\n      node.style.position = \"absolute\";\n\n      // // set\n      gsap.set(node, {\n        zIndex: 1,\n        width: \"100%\",\n        y: `${window.innerHeight}px`,\n        top: `${window.scrollY}px`,\n        opacity: 1\n      });\n\n      gsap.to(node, {\n        y: \"0px\",\n        delay: 0.1,\n        duration: 0.4,\n        onComplete: () => {\n          window.scrollTo(0, 0);\n          gsap.set(node, { clearProps: \"zIndex,y,top,position\" });\n          resolve(\"enter\");\n        }\n      });\n    });\n  };\n\n  let onExit = (node) => {\n    promiseRef.current = new Promise((resolve, reject) => {\n      resolve(\"exit\");\n    });\n  };\n\n  let endListener = (node, done) => {\n    //\n    promiseRef.current\n      .then((type) => {\n        if (type === \"enter\") {\n          // added a little timeout, without the timeout\n          // the chapterPagesSeparate kept throwing errors\n          // [todo] !! i might be able to remove this\n          setImmediate(() => {\n            // console.log(\"transitons doen\");\n            setTransitionDone(true);\n          });\n        }\n        return;\n      })\n      .then(done);\n  };\n\n  return (\n    <>\n      {chapterState && (\n        <SwitchTransition mode=\"in-out\">\n          <Transition key={chapterState.slug} onEnter={onEnter} onExit={onExit} addEndListener={endListener}>\n            <div\n              className={`chapter`}\n              style={{\n                \"--theme-color\": `var(--color-${chapterState.color})`\n              }}\n              data-theme={chapterState.color}\n              data-chapter={chapterState.chapter_nr}\n            >\n              {chapterState && (\n                <>\n                  {chapterState.continuous ? (\n                    <ChapterPagesContinous chapter={chapterState} page={pageState} transitionDone={transitionDone} />\n                  ) : (\n                    <ChapterPagesSeperate\n                      chapter={chapterState}\n                      page={pageState}\n                      pageSlug={pageSlug}\n                      transitionDone={transitionDone}\n                      setCurrentPage={setCurrentSubChapter}\n                    />\n                  )}\n                </>\n              )}\n            </div>\n          </Transition>\n        </SwitchTransition>\n      )}\n    </>\n  );\n}\nexport default Chapter;\n","import ChapterPage from \"./ChapterPage\";\nimport ChapterTitle from \"./ChapterTitle\";\nimport { useHistory } from \"react-router-dom\";\nimport Elements from \"./Elements\";\nimport { useRef, useEffect, useLayoutEffect, useState } from \"react\";\nimport { useGlobal } from \"reactn\";\nimport { gsap } from \"gsap\";\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\ngsap.registerPlugin(ScrollTrigger);\ngsap.registerPlugin(ScrollToPlugin);\n\nfunction usePrevious(value) {\n  const ref = useRef();\n  useEffect(() => {\n    ref.current = value;\n  });\n  return ref.current;\n}\n\nfunction ChapterPagesContinous(props) {\n  const { chapter, transitionDone } = props;\n  const history = useHistory();\n\n  const [currentChapter, setCurrentChapter] = useGlobal(\"currentChapter\");\n  const [currentSubChapter, setCurrentSubChapter] = useGlobal(\"currentSubChapter\");\n  const [scrollToPage, setScrollToPage] = useGlobal(\"scrollToPage\");\n  const [ignoreLocationChange, setIgnoreLocationChange] = useState(false);\n\n  const [firstLoad, setFirstLoad] = useState(true);\n  const [doNotScroll, setDoNotScroll] = useState(false);\n\n  const isOnEnterView = useRef(false);\n  const ignoreLocationChng = useRef(false);\n  const isAutoScrolling = useRef(false);\n\n  // remember the previous chapter\n  const prevSubChapter = useRef(null);\n\n  let onEnterView = (pageSlug) => {\n    if (isAutoScrolling.current) return;\n    if (pageSlug === prevSubChapter.current) {\n      return;\n    }\n\n    isOnEnterView.current = true;\n    ignoreLocationChng.current = true;\n\n    history.push(`/${chapter.slug}/${pageSlug}`);\n    prevSubChapter.current = pageSlug;\n  };\n\n  let getPageIndex = (slug) => {\n    if (!currentSubChapter) return 0;\n    let pageObject = chapter.pages.find((o) => o.slug === slug);\n    return chapter.pages.indexOf(pageObject);\n  };\n\n  useLayoutEffect(() => {\n    // prevent scrolling back to top when visiting another chapter\n\n    if (!transitionDone || !chapter.continuous) return;\n\n    if (!currentSubChapter) return;\n\n    if (isAutoScrolling.current) return;\n\n    if (ignoreLocationChng.current && isOnEnterView.current) {\n      ignoreLocationChng.current = false;\n      isOnEnterView.current = false;\n      return;\n    }\n\n    let currentChapterIndex = getPageIndex(currentSubChapter);\n\n    let scrollParams = {\n      ease: \"power4.inOut\",\n      duration: 1,\n      overwrite: true,\n      onComplete: () => {\n        // console.log(\"autoscroll complete\");\n        isAutoScrolling.current = false;\n      }\n    };\n\n    // if the target is the first page\n    if (currentChapterIndex === 0) {\n      isAutoScrolling.current = true;\n\n      // console.log(window.scrollY);\n      gsap.to(window, {\n        scrollTo: 0,\n        ...scrollParams\n      });\n    } else {\n      let element = document.body.querySelector(`[data-slug=\"${currentSubChapter}\"]`);\n\n      if (element) {\n        isAutoScrolling.current = true;\n\n        gsap.to(window, {\n          scrollTo: element,\n          ...scrollParams\n        });\n      }\n    }\n\n    prevSubChapter.current = currentSubChapter;\n\n    return () => {\n      ignoreLocationChng.current = true;\n    };\n  }, [currentSubChapter]);\n\n  return (\n    <div className={`chapter__page chapter-page`}>\n      <ChapterPage transitionDone={transitionDone}>\n        <ChapterTitle chapter={chapter}></ChapterTitle>\n        <div className=\"chapter-page__body\">\n          <div className=\"timeline\">\n            {chapter.pages.map((page, index) => {\n              return <TimelineSection key={index} onEnterView={onEnterView} page={page}></TimelineSection>;\n            })}\n          </div>\n        </div>\n      </ChapterPage>\n    </div>\n  );\n}\n\nexport default ChapterPagesContinous;\n\n// -----------\nfunction TimelineSection(props) {\n  const { page, onEnterView } = props;\n  const ref = useRef(null);\n  const tlHeaderRef = useRef(null);\n  const tlContentRef = useRef(null);\n  const tlBodyRef = useRef(null);\n  const tlLabelRef = useRef(null);\n  const tlTitleRef = useRef(null);\n\n  const timelineInitWait = 1000;\n\n  useEffect(() => {\n    let tl;\n    let trigger;\n    let pinner;\n    let elHeader = ref.current.querySelector(\".timeline-section__header\");\n    let elLabel = elHeader.querySelector(\"h3\");\n    let elContent = tlContentRef.current;\n    let elTitle = tlTitleRef.current;\n    //   // console.log(\"re re\");\n    gsap.set(elContent, { opacity: 0 });\n    gsap.set(elLabel, { scale: 5, transformOrigin: \"top center\" });\n    gsap.set(elTitle, {\n      scale: 2.4,\n      transformOrigin: \"top center\"\n    });\n\n    // pinner = ScrollTrigger.create({\n    //   trigger: elHeader,\n    //   start: () => {\n    //     return `top top`;\n    //   },\n    //   end: () => {\n    //     return `${window.innerHeight / 3}px top`;\n    //   },\n    //   markers: true\n    // });\n    tl = gsap.timeline({\n      scrollTrigger: {\n        trigger: elHeader,\n        start: () => {\n          return `-=100% top`;\n\n          // return `-${window.innerHeight / 6}px top`;\n        },\n        end: () => {\n          return `${window.innerHeight / 3}px top`;\n        },\n        onEnter: () => {},\n        onToggle: (e) => {\n          if (e.isActive) {\n            onEnterView(page.slug);\n          }\n        },\n        // markers: true,\n        scrub: true,\n        onComplete: () => {\n          ScrollTrigger.refresh();\n        }\n      }\n    });\n    tl.to(elLabel, { scale: 1, duration: 1 }, \"0.5\")\n      .to(elTitle, { scale: 1, duration: 1 }, \"1\")\n      .to(elContent, { opacity: 1, duration: 1 }, \"1.5\");\n\n    // store the trigger\n    trigger = tl.scrollTrigger;\n\n    return () => {\n      // if (bodyTween) bodyTween.kill(true);\n      if (trigger) trigger.kill(true);\n\n      if (tl) tl.kill(true);\n\n      // if (trigger) trigger.kill(true);\n    };\n  }, []);\n\n  return (\n    <div className=\"timeline-section\" data-slug={page.slug} ref={ref}>\n      <TimelineHeader index={page.index}></TimelineHeader>\n      <div className=\"timeline-section__body\" ref={tlBodyRef}>\n        <div className=\"timeline-section__title container\">\n          <h1 ref={tlTitleRef}>{page.title}</h1>\n        </div>\n\n        <div className=\"timeline-section__content\" ref={tlContentRef}>\n          <Elements elements={page.components}></Elements>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nlet TimelineHeader = (props) => {\n  const tlHeaderRef = useRef(null);\n  const tlLabelRef = useRef(null);\n\n  useEffect(() => {\n    // this is responsible for pinning\n    let headerTrigger = ScrollTrigger.create({\n      trigger: tlHeaderRef.current,\n      start: \"top top\",\n      end: () => {\n        return `${window.innerHeight / 3}px top`;\n      },\n      pin: true\n    });\n\n    return () => {\n      if (headerTrigger) headerTrigger.kill(true);\n    };\n  }, []);\n\n  return (\n    <div className=\"timeline-section__header \" ref={tlHeaderRef}>\n      <div className=\"container\">\n        <h3 ref={tlLabelRef}>{props.index}</h3>\n      </div>\n    </div>\n  );\n};\n","/**\n * [todo] Explain something about TransitionDone\n */\nimport React, { useRef, useEffect, useLayoutEffect, useState } from \"react\";\nimport { useGlobal } from \"reactn\";\nimport { useParams, useHistory } from \"react-router-dom\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\nimport { Transition, SwitchTransition } from \"react-transition-group\";\n//\nimport ChapterPage from \"./ChapterPage\";\nimport ChapterTitle from \"./ChapterTitle\";\nimport ChapterSection from \"./ChapterSection\";\nimport parse from \"html-react-parser\";\nimport ChapterNextSection from \"./ChapterNextSection\";\nimport eventBus from \"common/EventBus\";\n\ngsap.registerPlugin(ScrollToPlugin);\ngsap.registerPlugin(ScrollTrigger);\n\n// Ok this one is funky\nfunction ChapterPagesSeperate(props) {\n  const { chapter, page, transitionDone, setCurrentPage, pageSlug } = props;\n  const [scrollToPage, setScrollToPage] = useGlobal(\"scrollToPage\");\n  const [pageTransitionDone, setPageTransitionDone] = useState(transitionDone);\n  const promiseRef = useRef(Promise.resolve(true));\n  const history = useHistory();\n  const firstPageRef = useRef();\n  const params = useParams();\n\n  const chapterFirstPage = chapter.pages[0];\n  const isFirstPage = chapterFirstPage === page;\n  const prevPageSlug = useRef();\n  // create the transition key\n  let transitionKey = \"\";\n  if (chapter) transitionKey += chapter.slug;\n  if (page) transitionKey += page.slug;\n\n  // the nextSection is used in the bottom of the page, to allow the\n  // user to goto the next page in an easy way\n  let nextSection;\n  let sectionIndex = chapter.pages.indexOf(page);\n\n  if (sectionIndex < chapter.pages.length) {\n    if (sectionIndex === -1) {\n      nextSection = chapter.pages[1];\n    } else {\n      nextSection = chapter.pages[sectionIndex + 1];\n    }\n  }\n\n  // useEffect(() => {\n  //   eventBus.on(\"onTransitionComplete\", (data) => {\n  //     // console.log(data);\n  //     // setTimeout(() => {\n  //     ScrollTrigger.refresh();\n  //     // }, 100);\n  //   });\n\n  //   return () => {\n  //     eventBus.remove(\"onTransitionComplete\");\n  //   };\n  // }, []);\n  // if the pageslug changes set the page transition to false\n  // this logic is placed here instead of in the onEnter transition because\n  // the setState changes we're not reflected in time before the page mounted\n  useEffect(() => {\n    console.log();\n    // console.log(\"set page transition done to false\");\n\n    // console.log(chapter);\n    let pageObj = chapter.pages.find((o) => o.slug === params.pageSlug);\n    let pageIndex = chapter.pages.indexOf(pageObj);\n\n    // // if (pageIndex)\n    // console.log(`prevSlug: ${prevPageSlug.current} pageIndex: ${pageIndex}`);\n    // // console.log(pageIndex);\n    // // let pageObj = chapterObj.pages.find((o) => o.slug === pageSlug);\n\n    // // console.log(prevPageSlug.current);\n    // // console.log(page);\n    // if (prevPageSlug.current && pageIndex > 0) {\n    //   setPageTransitionDone(false);\n    // }\n    setPageTransitionDone(false);\n\n    // if (params.pageSlug) {\n    //   setPageTransitionDone(false);\n    // }\n    prevPageSlug.current = params.pageSlug;\n  }, [params.pageSlug]);\n\n  useEffect(() => {\n    if (transitionDone) {\n      setPageTransitionDone(true);\n    }\n  }, [transitionDone]);\n\n  // If pageTransitionDone changes, the page has transitioned and some\n  // after transition actions need to be called, to update all the components which depend on\n  // scrolltrigger to be updated\n  useLayoutEffect(() => {\n    if (pageTransitionDone) {\n      setTimeout(() => {\n        ScrollTrigger.refresh();\n      }, 100);\n    }\n  }, [pageTransitionDone]);\n\n  // handle the scrolling of the page when the scrollToPage global state is set\n  useLayoutEffect(() => {\n    if (scrollToPage) {\n      let tween;\n      // could be improved by first checking if the item is alreay in view or close to\n      // final position because then we don't need to wait on the scrollDuration\n      let scrollParams = {\n        ease: \"power4.inOut\",\n        duration: 1,\n        overwrite: true,\n        onComplete: () => {\n          setScrollToPage(false);\n        }\n      };\n\n      let element = document.body.querySelector(`[data-slug=\"${scrollToPage}\"]`);\n\n      tween = gsap.to(window, {\n        scrollTo: element,\n        ...scrollParams\n      });\n\n      return () => {\n        if (tween) tween.kill(true);\n      };\n    }\n  }, [scrollToPage, setScrollToPage]);\n\n  // This handles the update of the current page when we scroll past the title and into the first chapter.\n  // The title page is special because it is both the title and the first chapter, thus when scrolling down\n  // at a certain point we must update the url. We do not want a transition so there is also some logic inside\n  // Chapter.js which prevents a page state from being set.\n  useLayoutEffect(() => {\n    if (!page && firstPageRef.current) {\n      let trigger = ScrollTrigger.create({\n        trigger: firstPageRef.current,\n        start: \"top center\",\n        end: \"bottom center\",\n        onEnter: () => {\n          setCurrentPage(chapterFirstPage.slug);\n          // history.push(`/${chapter.slug}/${chapterFirstPage.slug}`);\n        },\n        onLeaveBack: () => {\n          setCurrentPage(false);\n          // history.push(`/${chapter.slug}`);\n        }\n      });\n\n      return () => {\n        if (trigger) trigger.kill(true);\n      };\n    }\n  }, [page, chapter, chapterFirstPage, setCurrentPage]);\n\n  // -------------------------------------------------------------------------------------- //\n  let onGotoNext = () => {\n    history.push(`/${chapter.slug}/${nextSection.slug}`);\n  };\n\n  // -- Transitions --------------------------------------------------------------------------- //\n  let onEnter = (node) => {\n    promiseRef.current = new Promise((resolve, reject) => {\n      node.style.opacity = 0;\n      node.style.position = \"absolute\";\n\n      // // set\n      gsap.set(node, {\n        zIndex: 1,\n        width: \"100%\",\n        y: `${window.innerHeight}px`,\n        top: `${window.scrollY}px`,\n        opacity: 1\n      });\n\n      gsap.to(node, {\n        y: \"0px\",\n        delay: 0.1,\n        duration: 0.4,\n        onComplete: () => {\n          window.scrollTo(0, 0);\n          gsap.set(node, { clearProps: \"zIndex,y,top,position\" });\n          resolve(\"enter\");\n        }\n      });\n    });\n  };\n\n  let onExit = (node) => {\n    promiseRef.current = new Promise((resolve, reject) => {\n      resolve(\"exit\");\n    });\n  };\n\n  let endListener = (node, done) => {\n    promiseRef.current\n      .then((type) => {\n        if (type === \"enter\") {\n          // shame....\n          // added a little timeout, without the timeout\n          // the chapterPagesSeparate kept throwing errors\n          setImmediate(() => {\n            setPageTransitionDone(true);\n          });\n        }\n      })\n      .then(done);\n  };\n\n  // -- Renders --------------------------------------------------------------------- //\n  let renderPage = (chapter, page) => {\n    return (\n      <article className=\"chapter-page__body\" data-slug={page.slug}>\n        <ChapterSection chapter={chapter} page={page}></ChapterSection>\n      </article>\n    );\n  };\n\n  return (\n    <>\n      <SwitchTransition mode=\"in-out\">\n        <Transition key={transitionKey} onEnter={onEnter} onExit={onExit} addEndListener={endListener}>\n          <div className={`chapter__page chapter-page ${!isFirstPage ? \"is-subchapter\" : \"\"}`}>\n            <ChapterPage transitionDone={pageTransitionDone} pageSlug={pageSlug}>\n              {!page && (\n                <>\n                  <ChapterTitle chapter={chapter}></ChapterTitle>\n                  {chapter.intro && <div className=\"chapter-page__intro text container\">{parse(chapter.intro)}</div>}\n                  <div ref={firstPageRef}>{renderPage(chapter, chapterFirstPage)}</div>\n                </>\n              )}\n              {page && <>{renderPage(chapter, page)}</>}\n              {!!nextSection && (\n                <ChapterNextSection nextSection={nextSection} onGotoNext={onGotoNext}></ChapterNextSection>\n              )}\n            </ChapterPage>\n          </div>\n        </Transition>\n      </SwitchTransition>\n    </>\n  );\n}\n\nexport default ChapterPagesSeperate;\n","import { useRef, useEffect } from \"react\";\nimport WheelIndicator from \"wheel-indicator\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { gsap } from \"gsap\";\n\n// --------------------------------------------------------------------- //\nfunction ChapterNextSection(props) {\n  const { nextSection, onGotoNext } = props;\n  const ref = useRef();\n  const progressRef = useRef();\n  const transRef = useRef();\n\n  useEffect(() => {\n    let wheelIndicator;\n    let triggerTime;\n    let currentDrag;\n\n    // -- scroll helpers\n    let initWheelTrigger = () => {\n      wheelIndicator = new WheelIndicator({\n        elem: document.querySelector(\"body\"),\n        callback: () => {}\n      });\n    };\n\n    let destroyWheelTrigger = () => {\n      if (wheelIndicator) wheelIndicator.destroy();\n    };\n\n    let onWheelEvent = (data) => {\n      onDirectionEvent(data.direction);\n    };\n\n    // ---- drag helpers\n    let onDragEvent = (ev) => {\n      var te = ev.changedTouches[0].clientY;\n      if (!currentDrag) {\n        currentDrag = te;\n        return;\n      }\n      let direction = currentDrag > te ? \"down\" : \"up\";\n      onDirectionEvent(direction);\n    };\n\n    let initDragTrigger = () => {\n      window.addEventListener(\"touchmove\", onDragEvent, false);\n    };\n\n    let destroyDragTrigger = () => {\n      currentDrag = false;\n      window.removeEventListener(\"touchmove\", onDragEvent, false);\n    };\n\n    // -----\n\n    let onDirectionEvent = (direction) => {\n      if (direction === \"up\") return destroyWheelTrigger();\n      if (direction !== \"down\") return;\n      let elapsedTime = Date.now() - triggerTime;\n      if (elapsedTime > 100) {\n        onGotoNext();\n      }\n    };\n\n    let destroyTriggers = () => {\n      destroyWheelTrigger();\n      destroyDragTrigger();\n    };\n    let theTween;\n    let theTweenTrigger;\n\n    let initOtherTrigger = () => {\n      if (!ref.current) return;\n\n      let initialHeight = ref.current.offsetHeight;\n      let height = window.innerHeight;\n      ref.current.style.height = height + \"px\";\n      let elProgress;\n      // if (progressRef.current) {\n      //   elProgress = progressRef.current.firstElementChild;\n      // }\n\n      // transRef\n      setImmediate(() => {\n        theTween = gsap.to(ref.current, {\n          // y: 200,\n          // y: \"+=500px\",\n          yPercent: 40,\n          ease: \"none\",\n          scrollTrigger: {\n            trigger: ref.current,\n            start: `+=${initialHeight}px bottom`,\n            end: `bottom bottom`,\n            scrub: true,\n            onEnter: () => {\n              if (progressRef.current) {\n                gsap.to(progressRef.current, { opacity: 1 });\n              }\n            },\n            onUpdate: ({ progress }) => {\n              if (transRef.current) {\n                gsap.set(transRef.current, { opacity: 1 - progress });\n              }\n              // if (elProgress) {\n              //   gsap.set(elProgress, { scaleX: progress });\n              // }\n            },\n            onLeave: () => {\n              // console.log(\"aaai\");\n              onGotoNext();\n            }\n          }\n        });\n\n        theTweenTrigger = theTween.scrollTrigger;\n      });\n\n      // let otherTrigger = ScrollTrigger.create({\n      //   trigger: ref.current,\n      //   start: \"bottom bottom\",\n      //   // markers: true,\n      //   onEnter: () => {\n      //     console.log(\"yeah\");\n      //     // triggerTime = Date.now();\n      //     // if (window.matchMedia(\"(pointer:coarse)\").matches) {\n      //     //   initDragTrigger();\n      //     // } else {\n      //     //   initWheelTrigger();\n      //     // }\n      //   }\n      // });\n    };\n\n    let trigger = ScrollTrigger.create({\n      trigger: ref.current,\n      start: \"center bottom\",\n      end: \"bottom bottom\",\n      // markers: true,\n\n      onEnter: () => {\n        setTimeout(() => {\n          initOtherTrigger();\n        }, 500);\n        // triggerTime = Date.now();\n        // if (window.matchMedia(\"(pointer:coarse)\").matches) {\n        //   initDragTrigger();\n        // } else {\n        //   initWheelTrigger();\n        // }\n      },\n      onEnterBack: () => {\n        if (ref.current) {\n          ref.current.style.height = \"auto\";\n        }\n\n        // console.log(\"enter back\");\n        // destroyTriggers();\n      }\n    });\n\n    return () => {\n      if (trigger) trigger.kill(true);\n      if (theTween) theTween.kill(true);\n      if (theTweenTrigger) theTweenTrigger.kill(true);\n\n      destroyTriggers();\n    };\n  }, []);\n  return (\n    <div className=\"chapter-page__next\" onClick={onGotoNext} ref={ref}>\n      <div ref={transRef}>\n        <span>Keep scrolling for</span>\n        <h3>{nextSection.title}</h3>\n      </div>\n      {/* <div className=\"progress\" ref={progressRef}>\n        <span></span>\n      </div> */}\n    </div>\n  );\n}\n\nexport default ChapterNextSection;\n","// import Example from \"./Example\";\nimport { Transition } from \"react-transition-group\";\nimport React, { useState, useEffect, useRef } from \"react\";\nimport { useDispatch } from \"reactn\";\n\nimport BookChaptersUI from \"./BookChaptersUI\";\nimport { useGlobal } from \"reactn\";\nimport gsap from \"gsap/gsap-core\";\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\nimport Icon from \"components/Icon\";\n\nfunction OverlayMenu() {\n  const [showMenu, setShowMenu] = useGlobal(\"showMobileOverlayMenu\");\n  const ref = useRef(null);\n  const activateBlur = useDispatch(\"blur\");\n  const [darkModeEnabled] = useGlobal(\"darkMode\");\n  const refDarkMode = useRef();\n\n  const toggleDarkMode = useDispatch(\"toggleDarkMode\");\n\n  let onClose = () => {\n    // if (showMenu) {\n    setShowMenu(false);\n    // }\n  };\n\n  let onEnter = () => {\n    gsap.set(ref.current, { y: \"0%\", opacity: 0 });\n    gsap.to(ref.current, { opacity: 1 });\n  };\n  let onExit = () => {\n    gsap.to(ref.current, {\n      opacity: 0,\n      //   y: \"-105%\",\n      onComplete: () => {\n        gsap.set(ref.current, { y: \"-150%\", opacity: 0 });\n      }\n    });\n  };\n\n  useEffect(() => {\n    gsap.set(ref.current, { y: \"-150%\", opacity: 0 });\n  }, []);\n\n  useEffect(() => {\n    if (showMenu) {\n      ref.current.scrollTo(0, 0);\n      activateBlur(\"menu-blur\");\n      disableBodyScroll(ref.current);\n    } else {\n      activateBlur();\n      clearAllBodyScrollLocks();\n    }\n  }, [showMenu]);\n\n  let onClickRow = () => {\n    onClose();\n  };\n\n  return (\n    <Transition in={showMenu} onEnter={onEnter} onExit={onExit} timeout={0}>\n      <div className=\"overlay-menu\" ref={ref}>\n        <div className=\"overlay-menu__header container\">\n          <button onClick={onClose}>\n            <Icon icon=\"close\"></Icon>\n          </button>\n        </div>\n        <div className=\"overlay-menu__nav\">\n          <BookChaptersUI\n            isDynamic={false}\n            isEnabled={true}\n            isExpanded={true}\n            onRowClickCB={onClickRow}\n          ></BookChaptersUI>\n          {/* <BookChapterNav\n            isVisible={true}\n            defaultExpanded={true}\n            onClickRowCB={onClickRow}\n          ></BookChapterNav> */}\n        </div>\n        <div className=\"overlay-menu__footer container\">\n          {/* <a href=\"\" className=\"icon-link\">\n            <span>Download this chapter</span> <Icon icon=\"download\"></Icon>\n          </a> */}\n          <button className=\"icon-link\" onClick={() => toggleDarkMode(!darkModeEnabled)}>\n            <span>Switch to {`darkmode`}</span>\n            <Icon icon=\"darkmode\"></Icon>\n          </button>\n        </div>\n      </div>\n    </Transition>\n  );\n}\n\nexport default OverlayMenu;\n","// import Example from \"./Example\";\nimport React, { useState } from \"react\";\nimport { BrowserRouter as Router, Switch, matchPath, Route, useLocation, useRouteMatch } from \"react-router-dom\";\nimport { useGlobal, useEffect, useRef, useDispatch } from \"reactn\";\n\nimport { gsap } from \"gsap\";\nimport { ScrollToPlugin } from \"gsap/ScrollToPlugin\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\n\n// import ParticipantBioOverlay from \"components/Dialogue/BioOverlay\";\n\n// import ScrollToTop from \"components/ScrollToTop\";\n\nfunction ScrollToTop() {\n  const location = useLocation();\n  const [pageChange, setPageChange] = useGlobal(\"pageChange\");\n  const [pageTransitionDone, setPageTransitionDone] = useGlobal(\"pageTransitionDone\");\n  let isChapter = useRouteMatch(\"/:chapter/:page\");\n\n  const previousRouteChapter = useRef(false);\n\n  const isChapterRoute = useRouteMatch({\n    path: \"/:chapter\"\n  });\n\n  // useEffect(() => {\n  //   console.log(`called when a route changes: ${location.pathname}`);\n  //   setPageChange(location.pathname);\n  //   setPageTransitionDone(false);\n  // }, [location.pathname]);\n\n  useEffect(() => {\n    // if the previous route was not a chapter but this one is\n    // [todo] re-enable this, this caused an issue on the home\n    // if (!previousRouteChapter.current && isChapterRoute) {\n    //   window.scrollTo(0, 0);\n    // } else if (!isChapterRoute) {\n    //   window.scrollTo(0, 0);\n    // }\n\n    previousRouteChapter.current = isChapterRoute;\n  }, [location.pathname, isChapterRoute]);\n\n  return null;\n}\nexport default ScrollToTop;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"ill-howto\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-12\",\n  transform: \"translate(491.000000, 764.500000) rotate(-270.000000) translate(-491.000000, -764.500000) translate(-222.000000, 274.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-14\",\n  transform: \"translate(-0.000000, 0.000000)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-1\",\n  fill: \"#FEFEFE\",\n  points: \"202.845203 0.000494208 0 808.458064 366.882722 948.18055 581.576561 95.3949934\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M253.855375,837.28151 L260.813824,809.655283 L128.516814,791.275687 L253.855375,837.28151 Z M314.208056,817.13265 L304.417796,855.994696 L368.313948,879.059383 L356.401064,926.350147 L18.7779272,796.000316 L34.582699,733.255668 L394.376007,775.579641 L381.521657,826.616502 L314.208056,817.13265 Z\",\n  id: \"Fill-2\",\n  fill: \"#A07DFF\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-13\",\n  transform: \"translate(48.149760, 21.540056)\",\n  fill: \"#A07DFF\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M156.593695,641.048069 L160.134696,627.000207 C163.789364,612.485318 155.602808,605.445325 140.151395,601.553437 L91.4595521,589.289666 C76.4726945,585.511445 68.1576449,586.907583 64.147147,602.823552 L60.6086177,616.873885 L156.593695,641.048069 Z M361.675189,692.70269 L348.351342,745.612598 L-0.003522432,657.87091 L21.5760699,572.185127 C30.4223931,537.066706 49.8818331,523.048496 88.7512923,532.838757 L150.552003,548.406309 C179.581781,555.718116 187.402622,572.123351 189.253431,582.551139 C197.358442,572.140648 209.548083,563.264672 232.961187,569.163045 L355.168941,599.942319 C369.216803,603.483319 376.476719,602.32193 382.216945,601.276681 L384.55702,601.867259 L371.34684,654.310141 C367.012636,655.706279 360.219747,656.981335 341.486792,652.26412 L236.608442,625.848702 C221.157029,621.954343 213.897113,623.115732 209.651866,639.970696 L206.231947,653.551532 L361.675189,692.70269 Z\",\n  id: \"Fill-3\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M196.103648,484.192381 L199.642178,470.146989 C203.296846,455.627158 195.11029,448.592107 179.658877,444.700219 L130.967034,432.436448 C115.980176,428.658228 107.665127,430.049423 103.654629,445.970334 L100.116099,460.015725 L196.103648,484.192381 Z M401.185142,535.847001 L387.858823,588.754438 L39.5039593,501.015221 L61.0835516,415.329438 C69.9298748,380.213489 89.3893148,366.192808 128.258774,375.983068 L190.059484,391.548149 C219.089262,398.859956 226.910104,415.270133 228.763384,425.69298 C236.865924,415.289901 249.055564,406.406513 272.468668,412.304885 L394.676423,443.08663 C408.726756,446.62516 415.984201,445.463771 421.721955,444.423463 L424.064501,445.014041 L410.854322,497.451981 C406.520117,498.853061 399.724757,500.128118 380.994274,495.410902 L276.115923,468.995485 C260.66451,465.101126 253.404595,466.257572 249.159348,483.112536 L245.739429,496.695843 L401.185142,535.847001 Z\",\n  id: \"Fill-5\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-7\",\n  points: \"440.693118 378.991065 427.366799 431.900974 79.0119352 344.156814 92.338254 291.249377\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-9\",\n  points: \"94.6968616 281.886853 108.257929 228.040421 354.002857 264.542623 120.405562 179.810662 133.025163 129.712797 470.294942 261.466179 454.136811 325.611906\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-11\",\n  points: \"165.693547 0.012108096 216.26091 12.7478483 199.279923 80.1701747 290.579909 103.168144 303.908699 50.2582355 356.816136 63.5870252 343.489817 116.494463 444.157516 141.849804 461.850162 71.6179052 514.7576 84.9442239 483.741106 208.086031 135.383771 120.341872\"\n}))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-6\",\n  transform: \"translate(303.600000, 33.600000)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-1\",\n  fill: \"#FEFEFE\",\n  points: \"401.395985 0.000494208 0.000247104 543.673773 350.692715 738.663539 715.628257 231.942193 715.628257 231.937251\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-2\",\n  fill: \"#A07DFF\",\n  points: \"116.973103 412.167001 318.844716 530.56194 146.506973 372.150979 176.903236 330.971098 438.692627 581.210847 403.994283 628.219912 222.303654 522.318551 376.756009 665.124895 340.911103 713.685773 25.2135037 536.482552 57.9053629 492.191631 259.389022 610.307343 86.8634807 452.956458\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-3\",\n  fill: \"#A07DFF\",\n  points: \"504.069921 492.637407 471.669644 536.535433 182.639508 323.198194 215.039785 279.30264\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-4\",\n  fill: \"#A07DFF\",\n  points: \"309.668509 151.100637 351.624297 182.06771 324.381081 218.972692 571.455429 401.342857 539.339322 444.85293 292.264974 262.485236 265.0267 299.390218 223.070912 268.423145\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-5\",\n  fill: \"#A07DFF\",\n  points: \"639.127577 309.65986 606.727301 353.557886 317.697165 140.223118 350.097441 96.3250929 465.865665 181.773656 487.944408 151.856775 372.181126 66.4082116 404.581402 22.510186 693.611538 235.844953 661.208791 279.742979 534.177566 185.981837 512.098824 215.898718\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-10\",\n  transform: \"translate(1031.808741, 534.915660) rotate(-15.000000) translate(-1031.808741, -534.915660) translate(710.308741, 212.415660)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-1\",\n  fill: \"#FEFEFE\",\n  points: \"296.730696 0.590352477 -0.000988416 417.842941 318.28379 644.192676 642.743697 187.949735\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-2\",\n  fill: \"#A07DFF\",\n  points: \"346.690866 576.168158 315.071438 620.632051 22.3149738 412.437047 53.9368727 367.973153\"\n}), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-9\",\n  transform: \"translate(65.447040, 20.019556)\",\n  fill: \"#A07DFF\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M282.122033,464.934855 L289.680945,454.306911 C299.191978,440.931172 294.909665,431.958826 279.166669,420.765015 L114.298881,303.516638 C97.3747277,291.482673 88.3949683,291.613638 80.5593005,302.632005 L71.6042515,315.224425 L282.122033,464.934855 Z M0.24308736,331.427034 L48.655703,263.352353 C75.7976064,225.18467 105.833098,228.765207 140.459781,253.38912 L318.713194,380.153472 C354.523505,405.622481 367.432218,434.951255 341.407225,471.547358 L292.99708,539.622039 L0.24308736,331.427034 Z\",\n  id: \"Fill-3\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-5\",\n  points: \"167.305654 96.510945 209.800129 126.729293 169.507351 183.392711 246.235614 237.958217 277.857512 193.494323 322.318935 225.116222 290.701978 269.580116 375.302975 329.744997 417.27606 270.721736 461.739954 302.341164 388.14497 405.828319 95.3885057 197.635786\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M402.428569,176.624286 L418.937588,153.408865 L302.334152,88.2623663 L402.428569,176.624286 Z M465.976305,179.755093 L442.748529,212.412358 L493.916354,257.096174 L465.652599,296.837911 L198.362673,52.8375369 L235.863176,0.108014336 L555.761543,170.132864 L525.259026,213.022705 L465.976305,179.755093 Z\",\n  id: \"Fill-7\"\n}))), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-4\",\n  transform: \"translate(744.300000, 771.600000) rotate(-90.000000) translate(-744.300000, -771.600000) translate(535.300000, 527.100000)\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-1\",\n  fill: \"#FEFEFE\",\n  points: \"278.601358 -0.000494208 -0.000988416 106.943646 93.2832426 488.370909 417.142687 365.164855\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M119.783417,330.951329 L146.418757,320.844776 L85.7720223,201.839489 L119.783417,330.951329 Z M170.847458,368.906504 L133.376608,383.122397 L151.032189,448.718625 L105.436559,466.018376 L19.0885369,114.557414 L79.5845382,91.6063949 L250.805371,410.867234 L201.59708,429.535941 L170.847458,368.906504 Z\",\n  id: \"Fill-2\",\n  fill: \"#A07DFF\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-3\",\n  fill: \"#A07DFF\",\n  points: \"177.551143 54.4375054 289.679525 217.943751 221.342914 37.8222324 267.840473 20.1814779 395.269535 356.05759 353.736295 371.815412 231.674332 197.093116 304.980205 390.311146 258.932374 407.78387 131.500841 71.9077582\"\n}))));\n\nfunction SvgIllHowto(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"982px\",\n    height: \"1458px\",\n    viewBox: \"0 0 982 1458\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"ill-howto\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIllHowto);\nexport default __webpack_public_path__ + \"static/media/ill-howto.abd795ae.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"path-1\",\n  points: \"9.09494702e-13 545.182816 184.836675 648.074389 475.731672 556.53947 647.925938 320.605925 580.495038 203.804134 628.709217 167.158454 399.360189 0.000246471471\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"path-3\",\n  points: \"-0.000739414411 1433.49144 238.54898 600.559509 316.750721 604.52248 301.231878 407.932222 259.21238 416.323047 400.266955 0.280555161 799.399473 96.9206351 391.251423 1558.3073\"\n}));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"home-outro\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-16\",\n  transform: \"translate(129.500000, 1215.500000)\",\n  fill: \"currentColor\"\n}, /*#__PURE__*/React.createElement(\"text\", {\n  id: \"10-Years-of-Activism\",\n  fontFamily: \"TimesNewRomanPSMT, Times New Roman\",\n  fontSize: 72,\n  fontWeight: \"normal\",\n  \"line-spacing\": 60\n}, /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 10,\n  y: 64\n}, \"10 Years\\n        \"), /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 10,\n  y: 124\n}, \"of Activism,\\n        \"), /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 10,\n  y: 184\n}, \"Community, and\\n        \"), /*#__PURE__*/React.createElement(\"tspan\", {\n  x: 10,\n  y: 244\n}, \"Collaboration\")), /*#__PURE__*/React.createElement(\"rect\", {\n  id: \"Rectangle\",\n  x: 0,\n  y: 260,\n  width: 508,\n  height: 4\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-6\",\n  transform: \"translate(785.193964, 581.237879) rotate(-310.000000) translate(-785.193964, -581.237879) translate(461.193964, 256.737879)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"mask-2\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#path-1\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Mask\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-2\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-2)\",\n  points: \"116.634736 413.253539 318.428324 530.596142 145.947588 373.231502 176.110767 332.043654 438.164164 580.67668 403.729635 627.691113 222.112202 522.738631 376.696644 664.60268 341.125881 713.174813 25.5733869 537.588537 58.0164266 493.292685 259.423054 610.356774 86.7550001 454.051962\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-3\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-2)\",\n  points: \"503.0463 492.084728 470.889167 535.991156 181.802779 324.272162 213.959912 280.365735\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-4\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-2)\",\n  points: \"307.866775 152.142895 349.828543 182.875423 322.798016 219.786991 569.917707 400.773456 538.046481 444.292924 290.924326 263.306458 263.88887 300.218026 221.927102 269.485498\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-5\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-2)\",\n  points: \"637.077239 309.077196 604.920107 352.981159 315.833719 141.262166 347.990851 97.3582027 463.783148 182.161642 485.696927 152.240005 369.90463 67.4341015 402.059298 23.5301384 691.145686 235.249132 658.991018 279.15556 531.93251 186.100256 510.016267 216.021892\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-21\",\n  transform: \"translate(715.766164, 1097.692523) rotate(-613.000000) translate(-715.766164, -1097.692523) translate(315.766164, 318.192523)\"\n}, /*#__PURE__*/React.createElement(\"mask\", {\n  id: \"mask-4\",\n  fill: \"white\"\n}, /*#__PURE__*/React.createElement(\"use\", {\n  xlinkHref: \"#path-3\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Mask\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M237.693143,1390.98768 L252.40749,1339.59592 L332.042422,1362.39946 C369.092013,1373.00759 403.142047,1395.78155 388.691425,1446.24905 L385.376383,1457.82582 C370.262753,1510.60768 328.981246,1511.31013 294.258345,1501.36747 L84.0576163,1441.17913 C48.8664197,1431.10091 19.4377261,1406.14321 32.9616157,1358.91928 L36.4072868,1346.87915 C52.8469339,1289.47101 92.6668648,1293.85821 126.470427,1303.53714 L188.051324,1321.16971 L173.336977,1372.55901 L112.682813,1355.1951 C97.8649481,1350.95086 88.6715622,1353.32931 84.9597019,1366.29124 C81.2453768,1379.25811 87.7251118,1384.6164 103.006343,1388.99126 L307.651605,1447.58986 C322.930372,1451.96472 332.722683,1449.26093 336.03526,1437.6817 C339.61649,1425.18313 331.680109,1417.8999 317.796371,1413.92432 L237.693143,1390.98768 Z\",\n  id: \"Fill-2\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-4)\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M161.198011,1199.76057 C143.141511,1194.59207 133.085475,1198.22506 129.634874,1210.26519 C125.792384,1223.69049 133.127375,1231.30153 150.722973,1236.34187 L348.8885,1293.08207 C363.70883,1297.32631 376.471123,1296.47105 380.712897,1281.65565 C384.690946,1267.76452 374.181403,1260.74747 359.361073,1256.50324 L161.198011,1199.76057 Z M370.905797,1202.19571 C419.061393,1215.98579 447.287306,1241.6065 432.836683,1292.07153 L430.317745,1300.8681 C416.000217,1350.8747 378.09537,1359.05755 329.939774,1345.26747 L138.251517,1290.3832 C90.5642166,1276.72868 64.245993,1249.65133 78.2997963,1200.57147 L80.8187347,1191.77736 C95.4024516,1140.8465 131.53024,1133.65693 178.759103,1147.17835 L370.905797,1202.19571 Z\",\n  id: \"Fill-4\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-4)\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-6\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-4)\",\n  points: \"108.454595 1107.51665 127.67937 1040.38276 316.801859 1067.47983 142.129992 989.910327 160.026285 927.405162 504.504672 1026.04304 490.453333 1075.12044 267.746642 1011.35335 481.437407 1106.60717 475.472797 1127.44141 243.619549 1095.61948 466.323776 1159.38904 452.935446 1206.15454\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-8\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-4)\",\n  points: \"165.595555 907.954373 184.820329 840.820474 373.945283 867.917548 199.270952 790.348046 217.16971 727.845346 561.648096 826.480764 547.594293 875.560628 324.887602 811.791064 538.580831 907.047358 532.613757 927.881592 300.760509 896.05966 523.467201 959.829224 510.076406 1006.59472\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M222.474023,709.318578 L237.720748,656.075811 L510.429107,734.162903 C525.249436,738.407141 536.429382,736.095239 539.744423,724.518474 C543.325654,712.017441 535.386808,704.739139 520.108041,700.36427 L247.394753,622.277179 L262.643943,569.029482 L532.111202,646.187376 C580.727699,660.108085 605.717442,688.306886 592.459741,734.606551 L589.810173,743.86402 C576.552473,790.163686 541.484512,800.66337 491.941282,786.476472 L222.474023,709.318578 Z\",\n  id: \"Fill-10\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-4)\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-12\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-4)\",\n  points: \"281.468448 503.282478 479.069555 511.268153 294.329329 458.370446 307.983849 410.683146 652.462235 509.318564 640.266827 551.916228 427.783772 545.177698 625.949299 601.92036 612.425409 649.146759 267.947023 550.511341\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-14\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-4)\",\n  points: \"673.013766 437.553712 658.03323 489.872212 313.552379 391.234329 328.532915 338.91583\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-16\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-4)\",\n  points: \"372.285051 186.119046 422.286719 200.436573 409.692026 244.426801 704.168746 328.744692 689.321304 380.599824 394.844585 296.279469 382.249893 340.267233 332.245761 325.94724\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-18\",\n  fill: \"currentColor\",\n  mask: \"url(#mask-4)\",\n  points: \"603.655215 139.152182 746.726974 180.120669 731.743974 232.441633 588.211313 191.342516 373.741698 181.027684 388.325415 130.101749 523.936483 142.881295 401.846839 82.8728859 415.368264 35.6440227\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-3\",\n  transform: \"translate(1065.099632, 912.506289) rotate(-336.000000) translate(-1065.099632, -912.506289) translate(975.099632, 725.506289)\",\n  fill: \"currentColor\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M63.9772158,242.963812 L91.8383509,237.373839 L51.6191363,110.354767 L63.9772158,242.963812 Z M108.016738,288.652229 L68.822845,296.514668 L75.4726452,363.951728 L27.7779509,373.51975 L0.274199501,13.5752789 L63.5532849,0.879533434 L179.831131,343.018906 L128.362958,353.341131 L108.016738,288.652229 Z\",\n  id: \"Fill-2\"\n})), /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-6\",\n  transform: \"translate(331.349357, 19.000000)\",\n  fill: \"currentColor\"\n}, /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-1\",\n  points: \"129.5255 11.6037 65.5295 307.7047 130.4945 321.7437 118.7945 375.8807 0.6355 350.3447 76.3325 0.1057\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-2\",\n  points: \"329.1242 54.7409 318.1362 105.5809 250.3492 90.9299 230.5112 182.7239 283.7042 194.2219 272.2062 247.4229 219.0132 235.9279 197.1392 337.1359 267.7502 352.3969 256.2552 405.5909 132.4502 378.8309 208.1462 28.5949\"\n}), /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M262.8379,407.0116 L310.3809,417.2866 L331.2179,352.8056 L370.2919,361.2516 L363.1069,428.6836 L414.4209,439.7726 L444.4489,79.6676 L381.3709,66.0356 L262.8379,407.0116 Z M348.1609,301.7786 L389.7899,175.2686 L375.9359,307.7826 L348.1609,301.7786 Z\",\n  id: \"Fill-3\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-4\",\n  points: \"576.7325 108.257 500.1585 343.987 528.2445 97.777 474.1065 86.077 443.3845 437.634 516.4735 433.351 627.0985 119.141\"\n}), /*#__PURE__*/React.createElement(\"polygon\", {\n  id: \"Fill-5\",\n  points: \"569.7247 430.2301 626.1167 426.9251 647.3867 328.5081 700.5807 340.0061 712.0787 286.8051 658.8847 275.3071 678.7257 183.5141 746.5107 198.1641 757.4977 147.3241 636.5207 121.1791\"\n})));\n\nfunction SvgIllOutro(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"1440px\",\n    height: \"1632px\",\n    viewBox: \"0 0 1440 1632\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"home-outro\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIllOutro);\nexport default __webpack_public_path__ + \"static/media/ill-outro.f5c44a2f.svg\";\nexport { ForwardRef as ReactComponent };","import { setGlobal, useGlobal } from \"reactn\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { useRef, useEffect, useState } from \"react\";\n\nimport Elements from \"../Chapter/Elements\";\nimport Image from \"../Image\";\n// import IconNumber from \"./IconNumber\";\nimport AuthorLink from \"components/Author/AuthorLink\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nfunction Foreword() {\n  const [contentForeword, setContentForeword] = useGlobal(\"contentForeword\");\n  const { authors } = contentForeword.meta;\n\n  return (\n    <>\n      <article className=\"page\">\n        <header className=\"page-header \">\n          <Image keepAspect={true} {...contentForeword.header_image}></Image>\n\n          <div className=\"page-header__title\">\n            <h1>{contentForeword.title}</h1>\n            {authors.length && (\n              <span>\n                By&nbsp;\n                <AuthorLink name={authors[0].name} slug={authors[0].id}></AuthorLink>\n              </span>\n            )}\n          </div>\n        </header>\n        <Elements elements={contentForeword.components}></Elements>\n      </article>\n    </>\n  );\n}\n\nexport default Foreword;\n","import { setGlobal, useGlobal, useDispatch } from \"reactn\";\nimport { gsap } from \"gsap\";\nimport { useRef, useEffect, useState } from \"react\";\nimport { Transition } from \"react-transition-group\";\nimport Overlay from \"./Overlay\";\n\nfunction OverlayWrapper(props) {\n  const { isVisible } = props;\n  const ref = useRef(null);\n  const activateBlur = useDispatch(\"blur\");\n\n  let onEnter = () => {\n    gsap.set(ref.current, { opacity: 0 });\n    gsap.to(ref.current, { delay: 0.3, opacity: 1 });\n  };\n\n  let onExit = () => {\n    gsap.to(ref.current, {\n      opacity: 0\n    });\n  };\n\n  useEffect(() => {\n    if (isVisible) {\n      activateBlur(\"preface-blur\");\n    } else {\n      activateBlur(false);\n    }\n\n    return () => {\n      activateBlur(false);\n    };\n  }, [isVisible]);\n\n  return (\n    <Transition in={isVisible} mountOnEnter unmountOnExit onEnter={onEnter} onExit={onExit} timeout={1000}>\n      <div ref={ref}>\n        <Overlay {...props}>{props.children}</Overlay>\n      </div>\n    </Transition>\n  );\n}\n\nexport default OverlayWrapper;\n","import { setGlobal, useGlobal, useDispatch } from \"reactn\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { useRef, useEffect, useLayoutEffect, useState } from \"react\";\nimport { disableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\n\nimport { ReactComponent as ImgHowto } from \"../../assets/img/ill-howto.svg\";\nimport { ReactComponent as ImgHowtoCommunity } from \"../../assets/img/ill-outro.svg\";\n// import BookChapterNav from \"../BookChapterNav\";\nimport Foreword from \"./Foreword\";\nimport OverlayWrapper from \"../OverlayWrapper\";\nimport Overlay from \"components/Overlay\";\nimport animationData01 from \"assets/lottie-animations/home-intro.json\";\nimport Lottie from \"react-lottie\";\nimport HeaderLogo from \"components/HeaderBar/HeaderLogo\";\nimport BookChaptersUI from \"components/BookChaptersUI\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nfunction OnBoardingMenu() {\n  const ref = useRef();\n  const innerRef = useRef();\n\n  const chaptersUIRef = useRef();\n  const triggerRef = useRef();\n\n  const isMobile = window.matchMedia(\"(max-width:600px)\").matches;\n  const isExpanded = isMobile;\n\n  let setPositionFixed = () => {\n    let node = innerRef.current;\n    let nrOfRows = chaptersUIRef.current.control.current.getNrOfRows();\n    let bnd = node.getBoundingClientRect();\n\n    gsap.set(node, { position: \"fixed\", top: bnd.top });\n\n    for (let i = nrOfRows - 1; i > 0; i--) {\n      let reverseIndex = nrOfRows - i;\n      setTimeout(() => {\n        chaptersUIRef.current.control.current.deActivateRowByIndex(reverseIndex);\n      }, (reverseIndex - 1) * 50);\n    }\n\n    setTimeout(() => {\n      chaptersUIRef.current.control.current.disable();\n    }, 300);\n\n    setTimeout(() => {\n      gsap.to(node, { top: \"50%\", yPercent: -50 });\n      chaptersUIRef.current.control.current.enableHover(true);\n    }, 500);\n  };\n\n  let setPositionAbsolute = () => {\n    chaptersUIRef.current.control.current.disableHover(true);\n\n    let node = innerRef.current;\n    let bnd = node.getBoundingClientRect();\n\n    gsap.set(node, { position: \"absolute\", top: window.scrollY + bnd.top + \"px\", yPercent: 0 });\n    chaptersUIRef.current.control.current.enable();\n  };\n\n  useLayoutEffect(() => {\n    if (isMobile) return;\n\n    triggerRef.current = ScrollTrigger.create({\n      trigger: ref.current,\n      start: () => {\n        let bnd = innerRef.current.getBoundingClientRect();\n        return `top ${bnd.top}px`;\n      },\n      end: () => {\n        let bnd = innerRef.current.getBoundingClientRect();\n        return `bottom ${window.innerHeight - bnd.top}`;\n      },\n      onEnter: () => {\n        setPositionAbsolute();\n      },\n      onUpdate: ({ progress, direction, isActive }) => {\n        let nrOfItems = chaptersUIRef.current.control.current.getNrOfRows() - 1;\n        let snapped = Math.round((progress * nrOfItems) / 1) * 1;\n\n        if (direction === 1) {\n          chaptersUIRef.current.control.current.activateRowByIndex(snapped);\n        }\n      },\n      onLeaveBack: () => {\n        setPositionFixed();\n      }\n    });\n    return () => {\n      if (triggerRef.current) triggerRef.current.kill(true);\n    };\n  }, []);\n\n  return (\n    <div className=\"home-onboard-menu\" ref={ref}>\n      <div className=\"home-onboard-menu__inner\" ref={innerRef}>\n        <BookChaptersUI\n          ref={chaptersUIRef}\n          isDynamic={!isMobile}\n          isExpanded={isExpanded}\n          isEnabled={isExpanded}\n        ></BookChaptersUI>\n      </div>\n    </div>\n  );\n}\n\nexport default OnBoardingMenu;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-zilla-mail\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M22.089,4.588 C21.9711917,4.64133084 21.8648837,4.71707106 21.776,4.811 L13.236,13.783 C13.0467952,13.9813408 12.7844677,14.0933192 12.510356,14.0927542 C12.2362444,14.092185 11.9743825,13.979122 11.786,13.78 L3.316,4.813 C3.21735002,4.70854834 3.09727001,4.62667561 2.964,4.573 C3.134,4.525 3.314,4.49999872 3.5,4.49999872 L21.5,4.49999872 C21.6996248,4.49977417 21.8981587,4.52943627 22.089,4.588 Z M23.412,5.911 C23.4705637,6.10184135 23.5002258,6.30037515 23.5000013,6.5 L23.5000013,18.5 C23.5002258,18.6996248 23.4705637,18.8981587 23.412,19.089 C23.3621774,18.9787208 23.2927138,18.8784221 23.207,18.793 L17.207,12.793 C17.1611293,12.7469114 17.1108938,12.7053834 17.057,12.669 L23.224,6.189 C23.3019098,6.10760979 23.365475,6.01361443 23.412,5.911 L23.412,5.911 Z M22.089,20.411 C21.8982102,20.4699025 21.6996753,20.4999019 21.5,20.5000013 L3.5,20.5000013 C3.30037515,20.5002258 3.10184135,20.4705637 2.911,20.412 C3.02127922,20.3621774 3.12157787,20.2927138 3.207,20.207 L9.207,14.207 C9.247,14.167 9.284,14.123 9.317,14.078 L10.331,15.153 C10.8964002,15.7515154 11.6829362,16.0913502 12.5062805,16.092863 C13.3296247,16.0943758 14.1174042,15.7574336 14.685,15.161 L15.698,14.097 C15.727,14.136 15.758,14.172 15.793,14.207 L21.793,20.207 C21.8784221,20.2927138 21.9787208,20.3621774 22.089,20.412 L22.089,20.411 Z M1.589,19.089 C1.53009747,18.8982102 1.50009814,18.6996753 1.5,18.5 L1.5,6.5 C1.5,6.249 1.546,6.008 1.631,5.786 C1.674,5.931 1.751,6.069 1.863,6.186 L7.969,12.652 C7.907,12.692 7.847,12.738 7.793,12.792 L1.793,18.792 C1.70718637,18.87772 1.63771752,18.9783651 1.588,19.089 L1.589,19.089 Z\",\n  id: \"Shape\",\n  fill: \"#FFFFFF\"\n}));\n\nfunction SvgIconZillaMail(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"25px\",\n    height: \"25px\",\n    viewBox: \"0 0 25 25\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-zilla-mail\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconZillaMail);\nexport default __webpack_public_path__ + \"static/media/icon-zilla-mail.4d133323.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-zilla-twitter\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M21.262,8.57 C21.262,8.372 21.262,8.176 21.248,7.981 C22.1325628,7.33676198 22.8951645,6.53995829 23.5,5.628 C22.6770414,5.99598665 21.803158,6.23738346 20.908,6.344 C21.8520974,5.77336915 22.5573284,4.8798397 22.893,3.829 C22.0076007,4.35845436 21.0378331,4.73188422 20.026,4.933 C19.2084458,4.0546281 18.0736841,3.53952256 16.8742887,3.50233492 C15.6748934,3.46514728 14.5104,3.90896367 13.64,4.735 C12.4664051,5.84973099 11.9696878,7.50190558 12.334,9.079 C8.6981144,8.89234019 5.31408262,7.16504365 3.03,4.33 C1.83265975,6.40643186 2.4438743,9.05517376 4.43,10.397 C3.71091611,10.3762484 3.00754657,10.1817067 2.38,9.83 L2.38,9.888 C2.37573238,12.0445271 3.88911184,13.9064729 6.001,14.343 C5.33712622,14.5259043 4.63991672,14.5526016 3.964,14.421 C4.54821864,16.2676277 6.24359191,17.537147 8.18,17.578 C6.29400117,19.0723318 3.88886818,19.7506657 1.5,19.462 C3.56130571,20.7948637 5.96431064,21.5026718 8.419,21.5000075 C16.721,21.503 21.262,14.576 21.262,8.57 L21.262,8.57 Z\",\n  id: \"Path\",\n  fill: \"#FFFFFF\"\n}));\n\nfunction SvgIconZillaTwitter(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"25px\",\n    height: \"25px\",\n    viewBox: \"0 0 25 25\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-zilla-twitter\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconZillaTwitter);\nexport default __webpack_public_path__ + \"static/media/icon-zilla-twitter.cc0473f5.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-zilla-youtube\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M23.04,7.084 C23.5,8.84 23.5,12.5 23.5,12.5 C23.5,12.5 23.5,16.16 23.04,17.916 C22.7925746,18.8783099 22.0515352,19.6361132 21.095,19.905 C19.38,20.375 12.5,20.375 12.5,20.375 C12.5,20.375 5.62,20.375 3.905,19.905 C2.94820881,19.6359347 2.20711437,18.8776941 1.96,17.915 C1.5,16.162 1.5,12.5 1.5,12.5 C1.5,12.5 1.5,8.84 1.96,7.084 C2.20742536,6.12169008 2.9484648,5.36388677 3.905,5.095 C5.62,4.625 12.5,4.625 12.5,4.625 C12.5,4.625 19.38,4.625 21.095,5.095 C22.0517912,5.36406528 22.7928856,6.12230587 23.04,7.085 L23.04,7.084 Z M10.3,15.875 L16.015,12.5 L10.3,9.125 L10.3,15.875 Z\",\n  id: \"Shape\",\n  fill: \"#FFFFFF\",\n  fillRule: \"nonzero\"\n}));\n\nfunction SvgIconZillaYoutube(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"25px\",\n    height: \"25px\",\n    viewBox: \"0 0 25 25\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-zilla-youtube\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconZillaYoutube);\nexport default __webpack_public_path__ + \"static/media/icon-zilla-youtube.ef1e8bd2.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"defs\", null, /*#__PURE__*/React.createElement(\"style\", null, \".cls-1{fill:#fff}\"));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M746.2 254.1c-36.6 0-59.4 27.2-59.4 74.3 0 43.3 20 76.6 58.8 76.6 37.2 0 61.6-30 61.6-77.7 0-50.5-27.2-73.2-61-73.2zM1727.2 380c0 16.1 7.8 28.9 29.4 28.9 25.5 0 52.7-18.3 54.4-59.9-11.6-1.7-24.4-3.3-36.1-3.3-25.5-.1-47.7 7.1-47.7 34.3z\"\n});\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"path\", {\n  className: \"cls-1\",\n  d: \"M0 0v571.9h2000V0zm581.9 454.4H477V313.5c0-43.3-14.4-59.9-42.7-59.9-34.4 0-48.3 24.4-48.3 59.4v87h33.3v54.4H314.5V313.5c0-43.3-14.4-59.9-42.7-59.9-34.4 0-48.3 24.4-48.3 59.4v87h47.7v54.4H118.7V400H152V258.5h-33.3v-54.4h104.8v37.7c15-26.6 41.1-42.7 76-42.7 36.1 0 69.3 17.2 81.6 53.8 13.9-33.3 42.2-53.8 81.6-53.8 44.9 0 86 27.2 86 86.5V400H582v54.4zm161.5 5.5c-77.1 0-130.4-47.1-130.4-127 0-73.2 44.4-133.7 134.3-133.7S881 259.6 881 329.5c0 79.9-57.7 130.4-137.6 130.4zm403.5-5.5H928.3l-7.2-37.7 137.6-158.1h-78.2l-11.1 38.8-51.6-5.6 8.9-87.7h219.7l5.6 37.7L1013.2 400h81l11.7-38.8 56.6 5.5zm142.8 0h-74.9v-89.9h74.9zm0-160.4h-74.9v-89.9h74.9zm46.8 160.4l108.2-381.7h70.5L1407 454.4zm145.4 0L1590 72.7h70.5l-108.2 381.7zm384 5.5c-33.3 0-51.6-19.4-54.9-49.9-14.4 25.5-39.9 49.9-80.4 49.9-36.1 0-77.1-19.4-77.1-71.6 0-61.6 59.4-76 116.5-76a341.08 341.08 0 0 1 41.1 2.2v-8.3c0-25.5-.6-56-41.1-56-15 0-26.6 1.1-38.3 7.2l-8.1 28.2-57.1-6.1 9.8-57.6c43.8-17.8 66-22.7 107.1-22.7 53.8 0 99.3 27.7 99.3 84.9v108.7c0 14.4 5.6 19.4 17.2 19.4a37.6 37.6 0 0 0 10.5-1.7l.6 37.7a97 97 0 0 1-45.1 11.7z\"\n});\n\nfunction SvgLogoMozilla(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    id: \"Layer_1\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    viewBox: \"0 0 2000 571.9\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgLogoMozilla);\nexport default __webpack_public_path__ + \"static/media/logo-mozilla.0b094c12.svg\";\nexport { ForwardRef as ReactComponent };","import React from \"react\";\nimport { ReactComponent as IconMail } from \"assets/icon-zilla-mail.svg\";\nimport { ReactComponent as IconTwitter } from \"assets/icon-zilla-twitter.svg\";\nimport { ReactComponent as IconYoutube } from \"assets/icon-zilla-youtube.svg\";\nimport { ReactComponent as LogoMozilla } from \"assets/logo-mozilla.svg\";\nimport Icon from \"components/Icon\";\nimport { useGlobal, useDispatch } from \"reactn\"; // <-- reactn\n\nfunction MozfestFooter(props) {\n  const [globalGeneral] = useGlobal(\"general\");\n\n  return (\n    <footer className=\"mozfest-footer\">\n      <div className=\"mozfest-footer__inner container\">\n        <div className=\"mozfest-footer__column\">\n          <div className=\"mozfest-footer__download\">\n            <a href={globalGeneral.book_download.url} className=\"icon-link\" target=\"_BLANK\" rel=\"noreferrer\">\n              <span>Download the full book</span> <Icon icon=\"download\"></Icon>\n            </a>\n          </div>\n          <div className=\"mozfest-footer__signup\">\n            <h5>Sign Up for News and Updates</h5>\n            <p>\n              Sign up below to be added to our <b>Mozilla News</b> list and stay informed in the fight for a better\n              internet for all. You’ll also receive <b>Mozilla Festival</b> emails to keep you up-to-date on how to get\n              involved with our signature event.\n            </p>\n            <a className=\"btn\" href=\"https://www.mozillafestival.org/en/newsletter/\" target=\"_blank\" rel=\"noreferrer\">\n              Sign up\n            </a>\n          </div>\n        </div>\n        <div className=\"mozfest-footer__column\">\n          <div className=\"mozfest-footer__more-nav\">\n            <div className=\"mozfest-footer__more\">\n              <h5>More about us</h5>\n              <ul>\n                <li>\n                  <a\n                    data-platform=\"twitter\"\n                    href=\"https://twitter.com/mozillafestival\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    <IconTwitter></IconTwitter>\n                  </a>\n                </li>\n                <li>\n                  <a\n                    data-platform=\"youtube\"\n                    href=\"https://www.youtube.com/playlist?list=PLnRGhgZaGeBt11miYYvKSSgbxkkbKKT7p\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    <IconYoutube></IconYoutube>\n                  </a>\n                </li>\n                <li>\n                  <a data-platform=\"email\" href=\"mailto:festival@mozilla.org\" target=\"_blank\" rel=\"noreferrer\">\n                    <IconMail></IconMail>\n                  </a>\n                </li>\n              </ul>\n            </div>\n            <div className=\"mozfest-footer__nav\">\n              <ul className=\"link-list\">\n                <li>\n                  <a\n                    id=\"donate-footer-btn\"\n                    href=\"https://donate.mozilla.org/\"\n                    rel=\"noopener noreferrer\"\n                    className=\"dark-theme\"\n                    target=\"_blank\"\n                  >\n                    Donate\n                  </a>\n                </li>\n                <li>\n                  <a\n                    href=\"https://www.mozillafestival.org/sponsor\"\n                    className=\"dark-theme\"\n                    rel=\"noreferrer\"\n                    target=\"_blank\"\n                  >\n                    Support MozFest\n                  </a>\n                </li>\n                <li>\n                  <a\n                    href=\"https://careers.mozilla.org/listings/?team=Mozilla%20Foundation\"\n                    className=\"dark-theme\"\n                    rel=\"noreferrer\"\n                    target=\"_blank\"\n                  >\n                    Careers\n                  </a>\n                </li>\n                <li>\n                  <a\n                    href=\"https://www.mozilla.org/privacy/websites/#cookies\"\n                    className=\"dark-theme\"\n                    rel=\"noreferrer\"\n                    target=\"_blank\"\n                  >\n                    Cookies\n                  </a>\n                </li>\n                <li>\n                  <a\n                    href=\"https://www.mozilla.org/about/legal/terms/mozilla/\"\n                    className=\"dark-theme\"\n                    rel=\"noreferrer\"\n                    target=\"_blank\"\n                  >\n                    Legal\n                  </a>\n                </li>\n                <li>\n                  <a href=\"/guidelines\" className=\"dark-theme\">\n                    Participation Guidelines\n                  </a>\n                </li>\n                <li>\n                  <a href=\"/media\" className=\"dark-theme\">\n                    Press Center\n                  </a>\n                </li>\n                <li>\n                  <a\n                    href=\"https://mozilla.org/privacy/websites/\"\n                    className=\"dark-theme\"\n                    target=\"_blank\"\n                    rel=\"noreferrer\"\n                  >\n                    Privacy\n                  </a>\n                </li>\n              </ul>\n            </div>\n          </div>\n        </div>\n        <div className=\"mozfest-footer__row\">\n          <a className=\"mozilla-logo\" href=\"https://foundation.mozilla.org\" target=\"_blank\" rel=\"noreferrer\">\n            <LogoMozilla></LogoMozilla>\n          </a>\n          <div className=\"mozfest-footer__foundation\">\n            <p>\n              Mozilla is a global non-profit dedicated to putting you in control of your online experience and shaping\n              the future of the web for the public good. Visit us at{\" \"}\n              <a href=\"https://foundation.mozilla.org\" target=\"_blank\" rel=\"noreferrer\">\n                foundation.mozilla.org\n              </a>\n              . Most content available under a{\" \"}\n              <a href=\"https://foundation.mozilla.org/about/website-licensing/\" target=\"_blank\" rel=\"noreferrer\">\n                Creative Commons license\n              </a>\n              .\n            </p>\n          </div>\n        </div>\n      </div>\n    </footer>\n  );\n}\n\nexport default MozfestFooter;\n","import { setGlobal, useGlobal, useDispatch } from \"reactn\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { useRef, useEffect, useState } from \"react\";\nimport { disableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\n\nimport { ReactComponent as ImgHowto } from \"../../assets/img/ill-howto.svg\";\nimport { ReactComponent as ImgHowtoCommunity } from \"../../assets/img/ill-outro.svg\";\n// import BookChapterNav from \"../BookChapterNav\";\nimport Foreword from \"./Foreword\";\nimport OverlayWrapper from \"../OverlayWrapper\";\nimport Overlay from \"components/Overlay\";\nimport animationData01 from \"assets/lottie-animations/home-intro.json\";\nimport Lottie from \"react-lottie\";\nimport HeaderLogo from \"components/HeaderBar/HeaderLogo\";\nimport BookChaptersUI from \"components/BookChaptersUI\";\nimport OnBoardingMenu from \"components/Home/OnBoardingMenu\";\n\nimport MozfestFooter from \"components/MozfestFooter\";\ngsap.registerPlugin(ScrollTrigger);\n\nfunction Home() {\n  const [showChapterNav, setShowChapterNav] = useGlobal(\"showChapterNav\");\n  const ref = useRef(null);\n  const headerRef = useRef(null);\n  const lottieRef = useRef(null);\n  const buttonRef = useRef(null);\n  const [collapseNav, setCollapseNav] = useState(false);\n  const [hideFakeNav, setHideFakeNav] = useState(false);\n  const [centerNav, setCenterNav] = useState(false);\n  const [showPreface, setShowPreface] = useState(false);\n  const [bookColor, setBookColor] = useGlobal(\"bookColor\");\n  const activateBlur = useDispatch(\"blur\");\n  const disableHeaderBar = useDispatch(\"disableHeaderBar\");\n  const [titlePaused, setTitlePaused] = useState(true);\n\n  const defaultOptions = {\n    loop: false,\n    autoplay: false,\n    animationData: animationData01,\n    rendererSettings: {\n      preserveAspectRatio: \"xMidYMid slice\"\n    }\n  };\n\n  // Intro animation\n  useEffect(() => {\n    console.log(lottieRef.current);\n    // gsap.set(lottieRef.current.el, { opacity: 0 });\n\n    let timeline = gsap.timeline();\n    timeline\n      .set(lottieRef.current.el, { opacity: 0 })\n      // .set(headerRef.current, { opacity: 0 })\n      // .to(headerRef.current, { opacity: 1, duration: 1, ease: \"power4.inOut\" }, 0.2)\n      .to(lottieRef.current.el, { opacity: 1, duration: 1, ease: \"power4.inOut\" }, 0.2)\n      .add(() => {\n        setTitlePaused(false);\n      }, \"-=0.8\");\n\n    // gsap.set([refTitle.current], { opacity: 0 });\n\n    // timeline.to(refNr.current, { scale: 1, delay: 0.3 }).add(() => {\n    //   setTitlePaused(false);\n    // }, \"-=0.2\");\n\n    // .set([refTitle.current], { opacity: 0, delay: 0.3 })\n    // .to(refTitle.current, { opacity: 1 }, \"0.5\");\n\n    // timeline.play();\n\n    // return () => {\n    //   if (timeline) timeline.kill(true);\n    // };\n  }, []);\n\n  // useEffect(() => {\n  //   if (showPreface) {\n  //     activateBlur('preface-blur');\n  //   } else {\n  //     activateBlur(false);\n  //   }\n  // }, [showPreface])\n\n  let onShowPreface = () => {\n    // console.log(\"a\");\n    setShowPreface(true);\n  };\n\n  let onHidePreface = () => {\n    setShowPreface(false);\n  };\n\n  // load initial data\n  useEffect(() => {\n    setBookColor(\"white\");\n    setShowChapterNav(false);\n    disableHeaderBar(true);\n\n    return () => {\n      clearAllBodyScrollLocks();\n    };\n  }, []);\n\n  return (\n    <>\n      <article className=\"home page\">\n        <div className=\"home-header\" ref={headerRef}>\n          <div className=\"container\">\n            <HeaderLogo\n              listenToScroll={false}\n              ignoreMediaQuery={true}\n              animateOnMount={true}\n              defaultCollapsed={true}\n            ></HeaderLogo>\n          </div>\n        </div>\n        <div className=\"home-block container home-block--howto \">\n          <div>\n            <Lottie options={defaultOptions} isPaused={titlePaused} ref={lottieRef} />\n          </div>\n        </div>\n        <div className=\"home-block home-block--quote container\">\n          <div className=\"home-block__inner\">\n            {/* Intro Quote */}\n            <blockquote>\n              <p>\n                “At MozFest, people from across the globe — technologists from Nairobi, educators from Berlin — come\n                together to build a healthier internet. We examine the most pressing issues online, like misinformation\n                and the erosion of privacy. Then we roll up our sleeves to find solutions. In a way, MozFest is just the\n                start: The ideas we bat around and the code we write always evolves into new campaigns and new\n                open-source products.”\n              </p>\n              <cite>— Mark Surman</cite>\n            </blockquote>\n            <button className=\"card-style\" title=\"Read more about Mozfest\" onClick={onShowPreface}>\n              More about this project\n            </button>\n          </div>\n        </div>\n        {/* <div className=\"home-onboard-menu\" ref={ref}> */}\n        {/* <div\n            className={`somecontainer ${\n              centerNav ? \"is-vertical-centered\" : \"\"\n            }`}\n          > */}\n        <OnBoardingMenu></OnBoardingMenu>\n\n        {/* {!hideFakeNav && (\n              <BookChapterNav\n                fullCollapse={collapseNav}\n                defaultExpanded={true}\n                noMouse={true}\n              ></BookChapterNav>\n            )} */}\n        {/* </div> */}\n        {/* </div> */}\n        <div className=\"home-block home-block--howto-community\">\n          <ImgHowtoCommunity></ImgHowtoCommunity>\n        </div>\n      </article>\n      <MozfestFooter></MozfestFooter>\n      <div className=\"home-overlay\">\n        <OverlayWrapper isVisible={showPreface} onCloseOverlay={onHidePreface} slug=\"preface\" scrollable={true}>\n          <Foreword />\n        </OverlayWrapper>\n      </div>\n    </>\n  );\n}\n\nexport default Home;\n","import { addReducer, setGlobal, useGlobal, useEffect, useRef, useDispatch } from \"reactn\";\n\nsetGlobal({\n  general: {},\n  headerBar: { visible: false, disabled: true },\n  cursor: { enabled: false, type: \"close\" },\n  chapterScrolled: false,\n  showChapterNav: false,\n  unFocusChapterNav: false,\n  showMobileOverlayMenu: false,\n  navPage: null,\n  darkMode: false,\n  caught: 5,\n  contentForeword: false,\n  authors: [],\n  showAuthor: false,\n  chaptersData: [],\n  chaptersIndex: [],\n  bookColor: false,\n  blur: false,\n  bookBlur: false,\n  appBlur: false,\n  chapterIndexOpen: false,\n  currentChapter: {},\n  currentSubChapter: null,\n  ignoreLocationChange: false,\n  scrollToPage: false,\n  pageChange: false,\n  pageTransitionDone: false\n});\n\n//   -- Reducers ---------------------------------------------------------------------------------------- //\n\naddReducer(\"fetchChapters\", (global, dispatch) => {\n  return fetch(process.env.REACT_APP_DATA_URL + \"/index/\")\n    .then((response) => response.json())\n    .then((data) => {\n      // create index\n      // let index = [];\n      data.chapters.forEach((chapter) => {\n        if (!chapter.pages) return;\n        let index = [];\n\n        chapter.pages.forEach((page) => {\n          index.push({\n            slug: page.slug,\n            index: page.index,\n            title: page.title\n          });\n        });\n\n        chapter.index = index;\n      });\n\n      return {\n        general: data.general,\n        chaptersData: data.chapters\n      };\n    });\n});\n\naddReducer(\"fetchAuthors\", (global, dispatch) => {\n  return fetch(process.env.REACT_APP_DATA_URL + \"/authors/\")\n    .then((response) => response.json())\n    .then((data) => {\n      return {\n        authors: data\n      };\n    });\n});\n\naddReducer(\"fetchForeword\", () => {\n  return fetch(process.env.REACT_APP_DATA_URL + \"/foreword-thank-you/\")\n    .then((response) => response.json())\n    .then((data) => {\n      // console.log(data);\n      return { contentForeword: data };\n    });\n});\n\n//   -- Data ---------------------------------------------------------------------------------------- //\naddReducer(\"fetchData\", async (global, dispatch) => {\n  await dispatch.fetchChapters();\n  await dispatch.fetchAuthors();\n  await dispatch.fetchForeword();\n\n  // return fetch(process.env.REACT_APP_DATA_URL + \"/index/\")\n  //   .then((response) => response.json())\n  //   .then((data) => {\n  //     // create index\n  //     // let index = [];\n  //     data.chapters.forEach((chapter) => {\n  //       if (!chapter.pages) return;\n  //       let index = [];\n\n  //       chapter.pages.forEach((page) => {\n  //         index.push({\n  //           slug: page.slug,\n  //           index: page.index,\n  //           title: page.title\n  //         });\n  //       });\n\n  //       chapter.index = index;\n  //     });\n\n  //     return {\n  //       general: data.general,\n  //       chaptersData: data.chapters\n  //     };\n  //   });\n});\n\n// -- Blur ------------------------------------------------------------------------------------------------ //\naddReducer(\"blur\", (global, dispatch, type) => {\n  switch (type) {\n    case \"menu-blur\":\n    case \"index-blur\":\n    case \"overlay-blur\":\n    case \"preface-blur\":\n      return { blur: type };\n      break;\n    default:\n      return { blur: false };\n      break;\n  }\n});\n\n// -- Show Author ------------------------------------------------------------------------------------------------ //\naddReducer(\"showAuthor\", (global, dispatch, author) => {\n  return {\n    showAuthor: author\n  };\n});\n\n// -- Dark Mode\naddReducer(\"toggleDarkMode\", (global, dispatch, state) => {\n  return {\n    darkMode: state\n  };\n});\n\naddReducer(\"disableHeaderBar\", (global, dispatch) => {\n  return {\n    headerBar: { visible: false, disabled: true }\n  };\n});\n\naddReducer(\"toggleHeaderBar\", (global, dispatch, visibility) => {\n  // console.log(`change ${visibility}`);\n  return {\n    headerBar: { visible: visibility, disabled: false }\n  };\n});\n","import { createPortal } from \"react-dom\";\nimport { useRef, useEffect, useState } from \"react\";\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { Transition } from \"react-transition-group\";\nimport { setGlobal, useGlobal, useDispatch } from \"reactn\";\nimport Overlay from \"./Overlay\";\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\nimport useOnClickOutside from \"use-onclickoutside\";\nimport useKeypress from \"../hooks/useKeyPress\";\n\nconst PortalOverlay2 = ({ children }) => {\n  const modalRoot = document.getElementById(\"modal-root\");\n  const el = useRef(document.createElement(\"div\"));\n\n  useEffect(() => {\n    if (modalRoot) {\n      modalRoot.appendChild(el.current);\n    }\n    return () => {\n      if (modalRoot) modalRoot.removeChild(el.current);\n    };\n  }, [modalRoot]);\n\n  return createPortal(children, el.current);\n};\n\nfunction PortalOverlay(props) {\n  const { isVisible, doBlur, onCloseOverlay, slug } = props;\n  const ref = useRef(null);\n  const innerRef = useRef(null);\n  const [cursor, setCursor] = useGlobal(\"cursor\");\n\n  const activateBlur = useDispatch(\"blur\");\n\n  let onEnter = () => {\n    let delay = 0;\n    if (doBlur) {\n      activateBlur(\"overlay-blur\");\n      delay = 0.25;\n    }\n    gsap.set(ref.current, { opacity: 0 });\n    gsap.to(ref.current, { delay: delay, opacity: 1 });\n  };\n  let onExit = () => {\n    if (doBlur) activateBlur(false);\n\n    gsap.to(ref.current, { opacity: 0 });\n  };\n\n  // let handleClose = () => {\n  //   // setCursor({ enabled: false });\n  //   if (onCloseOverlay) {\n  //     onCloseOverlay();\n  //   }\n  // };\n\n  // useKeypress(\"Escape\", handleClose);\n  // useOnClickOutside(innerRef, handleClose);\n\n  return (\n    <PortalOverlay2>\n      <Transition in={isVisible} onEnter={onEnter} onExit={onExit} mountOnEnter unmountOnExit timeout={500}>\n        <div ref={ref}>\n          <Overlay {...props}>{props.children}</Overlay>\n        </div>\n        {/* <div className={`overlay overlay--${slug}`} ref={ref}>\n          <div className=\"container\">\n            <div className=\"overlay__inner\" ref={innerRef}>\n              <div className=\"overlay__close\">\n                <button onClick={handleClose}></button>\n              </div>\n              <div className=\"overlay__content\">{props.children}</div>\n            </div>\n          </div>\n        </div> */}\n      </Transition>\n    </PortalOverlay2>\n  );\n}\n\n/*\n<PortalOverlay>\n        <div className=\"overlay-participant\" onClick={lala}>\n           <AuthorAvatar {...participant.image}></AuthorAvatar> \n  \n          <h1>{participant.name}</h1>\n          <p>{participant.text}</p>\n        </div>\n  </PortalOverlay> \n\n*/\n\nexport default PortalOverlay;\n","import PortalOverlay from \"components/PortalOverlay\";\nimport parse from \"html-react-parser\";\nimport AuthorAvatar from \"./AuthorAvatar\";\n\nfunction AuthorOverlay(props) {\n  const { participant, onCloseOverlay, isVisible } = props;\n\n  const { name, bio, image, tagline, footer } = participant;\n\n  return (\n    <PortalOverlay\n      isVisible={isVisible}\n      onCloseOverlay={onCloseOverlay}\n      doBlur={true}\n      slug=\"participant-bio\"\n    >\n      <article className=\"participant-bio\">\n        <div className=\"participant-bio__header\">\n          <AuthorAvatar {...image}></AuthorAvatar>\n          <h1>{name}</h1>\n          {tagline && parse(tagline)}\n        </div>\n        <div className=\"participant-bio__body\">{bio && parse(bio)}</div>\n        <div className=\"participant-bio__footer\">{footer && parse(footer)}</div>\n      </article>\n    </PortalOverlay>\n  );\n}\n\nexport default AuthorOverlay;\n","// import Example from \"./Example\";\nimport {} from \"components/globalState\";\nimport React, { useState } from \"react\";\n\nimport { useGlobal, useEffect, useDispatch } from \"reactn\";\nimport ParticipantBioOverlay from \"./AuthorOverlay\";\n\n// Responsible for showing the authors in an overlay based on state\nfunction AuthorsManager(props) {\n  const [showAuthor] = useGlobal(\"showAuthor\");\n  const [authors] = useGlobal(\"authors\");\n  const [visible, setVisible] = useState(false);\n  const [author, setAuthor] = useState({});\n  const showAuthorDispatch = useDispatch(\"showAuthor\");\n\n  let onCloseOverlay = () => {\n    setVisible(false);\n    showAuthorDispatch(false);\n  };\n\n  useEffect(() => {\n    let getAuthor = (id) => {\n      let author = authors.find((o) => o.id === id);\n      return author ? author : {};\n    };\n\n    if (showAuthor) {\n      setAuthor(getAuthor(showAuthor));\n      setVisible(true);\n    } else {\n      setVisible(false);\n    }\n  }, [showAuthor, authors]);\n\n  return (\n    <ParticipantBioOverlay\n      isVisible={visible}\n      participant={author}\n      onCloseOverlay={onCloseOverlay}\n    ></ParticipantBioOverlay>\n  );\n}\n\nexport default AuthorsManager;\n","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"icon-m-logo-box\",\n  stroke: \"none\",\n  strokeWidth: 1,\n  fill: \"none\",\n  fillRule: \"evenodd\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M20.2784,16.5816 L16.5274,16.5816 L16.5274,11.4386 C16.5274,9.8596 16.0104,9.2526 14.9984,9.2526 C13.7674,9.2526 13.2714,10.1446 13.2714,11.4186 L13.2714,14.5976 L14.4634,14.5976 L14.4634,16.5816 L10.7114,16.5816 L10.7114,11.4386 C10.7114,9.8596 10.1954,9.2526 9.1824,9.2526 C7.9524,9.2526 7.4564,10.1446 7.4564,11.4186 L7.4564,14.5976 L9.1634,14.5976 L9.1634,16.5816 L3.7044,16.5816 L3.7044,14.5976 L4.8954,14.5976 L4.8954,9.4346 L3.7044,9.4346 L3.7044,7.4506 L7.4564,7.4506 L7.4564,8.8276 C7.9914,7.8556 8.9244,7.2686 10.1754,7.2686 C11.4654,7.2686 12.6564,7.8966 13.0934,9.2326 C13.5904,8.0176 14.6014,7.2686 16.0104,7.2686 C17.6184,7.2686 19.0884,8.2616 19.0884,10.4266 L19.0884,14.5976 L20.2784,14.5976 L20.2784,16.5816 Z M0.0004,23.9996 L24.0004,23.9996 L24.0004,-0.0004 L0.0004,-0.0004 L0.0004,23.9996 Z\",\n  id: \"Fill-1\",\n  fill: \"#000000\"\n}));\n\nfunction SvgIconMLogoBox(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"24px\",\n    height: \"24px\",\n    viewBox: \"0 0 24 24\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"icon-m-logo-box\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgIconMLogoBox);\nexport default __webpack_public_path__ + \"static/media/icon-m-logo-box.9777d08b.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router-dom\";\nimport Chapters from \"../../common/chapters.json\";\nimport { useGlobal, useDispatch } from \"reactn\"; // <-- reactn\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\nimport useOnClickOutside from \"use-onclickoutside\";\nimport useKeypress from \"../../hooks/useKeyPress\";\nimport Icon from \"../Icon\";\n\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport gsap from \"gsap/gsap-core\";\nimport { ReactComponent as IconLogo } from \"assets/icon-m-logo-box.svg\";\nimport HeaderLogo from \"./HeaderLogo\";\n\n// ------------------------------------------------------------------------------------------------ //\nfunction IndexPanel(props) {\n  let { index, chapter, activeSubChapter, url } = props;\n  let hasIndex = index.length > 1;\n  let history = useHistory();\n\n  const [chapterIndexOpen, setChapterIndexOpen] = useGlobal(\"chapterIndexOpen\");\n  const [scrollToPage, setScrollToPage] = useGlobal(\"scrollToPage\");\n  const activateBlur = useDispatch(\"blur\");\n  const isNotMobile = window.matchMedia(\"(min-width:600px)\").matches;\n\n  const panelRef = useRef(null);\n  const panelLayerRef = useRef(null);\n\n  let getSubChapter = () => {\n    if (!chapter.index) return;\n    let subChapterObj = chapter.index.find((o) => o.slug == activeSubChapter);\n    return subChapterObj;\n  };\n\n  let hideOverlay = () => {\n    if (!chapterIndexOpen) return;\n\n    // setBookBlur(false);\n    setChapterIndexOpen(false);\n\n    setTimeout(() => {\n      activateBlur(false);\n    }, 150);\n  };\n  let showOverlay = () => {\n    if (chapterIndexOpen) return;\n\n    // setBookBlur(true);\n    activateBlur(\"index-blur\");\n    setTimeout(() => {\n      setChapterIndexOpen(true);\n    }, 150);\n  };\n  let onToggleOverlay = () => {\n    if (!hasIndex) return;\n\n    if (!chapterIndexOpen) {\n      showOverlay();\n    } else {\n      hideOverlay();\n    }\n  };\n\n  let isActive = (section) => {\n    return section.slug === activeSubChapter;\n  };\n\n  let onItemClick = (sectionSlug) => {\n    // need to migrate this somewhere else\n\n    hideOverlay();\n\n    let clickedPage = chapter.pages.find((o) => o.slug === sectionSlug);\n    // determine if the user clicked on a page which is also the first page of a chapter\n    let isFirstPageClicked = chapter.pages.indexOf(clickedPage) === 0;\n    // determine if the user clicked on a page which is already active\n    let isCurrentPageClicked = activeSubChapter && sectionSlug === activeSubChapter;\n\n    console.log(activeSubChapter);\n\n    setTimeout(() => {\n      // scroll to the page\n      if (isCurrentPageClicked || (!activeSubChapter && isFirstPageClicked)) {\n        setScrollToPage(sectionSlug);\n        return;\n      }\n      // console.log(clickedPage);\n      // console.log(activeSubChapter);\n      // console.log(isFirstPageClicked);\n      // if (sectionSlug)\n      history.push(`/${chapter.slug}/${sectionSlug}`);\n    }, 400);\n  };\n\n  let getActiveTitle = () => {\n    if (!subChapter || !chapter) {\n      return {};\n    }\n    let chapterNr = chapter.chapter_nr;\n    let chapterTitle = `${subChapter.index}: ${subChapter.title}`;\n    return {\n      chapterNr,\n      chapterTitle\n    };\n    // return `${chapter.chapter_nr} ${subChapter.index}: ${subChapter.title}`;\n  };\n\n  let renderTriggerToggle = () => {\n    let label = chapterIndexOpen ? \"Close\" : \"Show all\";\n\n    return (\n      <button className={`index-trigger__toggle ${chapterIndexOpen ? \"is-enabled\" : \"\"}`}>\n        {chapterIndexOpen}\n        <span>{label}</span>\n        <Icon icon=\"arrow-down\"></Icon>\n      </button>\n    );\n  };\n\n  useEffect(() => {\n    if (chapterIndexOpen) {\n      if (isNotMobile) disableBodyScroll(panelRef.current);\n\n      let navItems = panelLayerRef.current.querySelectorAll(\"li\");\n      gsap.set(navItems, { opacity: 1 });\n      gsap.set(panelLayerRef.current, { opacity: 0, y: \"-50px\" });\n      gsap.to(panelLayerRef.current, { duration: 0.2, opacity: 1, y: \"0px\" });\n\n      // gsap.to(panelLayerRef.current, { duration: 0.2, y: \"0%\" });\n      // gsap.to(navItems, { delay: 0.05, opacity: 1, stagger: { each: 0.1 } });\n    } else {\n      let navItems = panelLayerRef.current.querySelectorAll(\"li\");\n      // gsap.to(navItems, { opacity: 0, duration: 0.2 });\n      gsap.to(panelLayerRef.current, {\n        // delay: 0.2,\n        duration: 0.2,\n        y: \"-50px\",\n        opacity: 0,\n        onComplete: () => {\n          gsap.set(panelLayerRef.current, { opacity: 0, y: \"-99999px\" });\n          if (isNotMobile) enableBodyScroll(panelRef.current);\n        }\n      });\n    }\n\n    return () => {\n      if (isNotMobile) clearAllBodyScrollLocks();\n    };\n  }, [chapterIndexOpen, isNotMobile]);\n\n  const subChapter = getSubChapter();\n\n  const { chapterNr, chapterTitle } = getActiveTitle();\n\n  useKeypress(\"Escape\", hideOverlay);\n  useOnClickOutside(panelRef, hideOverlay);\n\n  let renderIndexTitle = () => {\n    let nr = false;\n    let title = false;\n\n    if (chapter) {\n      nr = chapter.chapter_nr;\n      title = chapter.title;\n    }\n\n    if (subChapter) {\n      title = `${subChapter.index}: ${subChapter.title}`;\n    }\n\n    return (\n      <>\n        <div className=\"index-trigger__chapter-nr\">{nr}</div>\n        <div className=\"index-trigger__chapter-title\">{title}</div>\n      </>\n    );\n  };\n\n  return (\n    <div className=\"index-panel\" ref={panelRef}>\n      <div className=\"index-panel__trigger index-trigger\" onClick={onToggleOverlay}>\n        <div className=\"index-trigger__current\">\n          {renderIndexTitle()}\n          {/* <div className=\"index-trigger__chapter-nr\">\n                {getActiveTitle().chapterNr}\n              </div>\n              <div className=\"index-trigger__chapter-title\">\n                {getActiveTitle().chapterTitle}\n              </div> */}\n        </div>\n\n        <div className=\"index-trigger__progress\">\n          <ScrollProgress></ScrollProgress>\n        </div>\n        {index.length > 1 && renderTriggerToggle()}\n      </div>\n\n      <div className={`index-panel__layer ${chapterIndexOpen ? \"is-visible\" : \"\"}`} ref={panelLayerRef}>\n        <ul className={`index-panel__list `} tabIndex=\"0\">\n          {hasIndex && (\n            <>\n              {index.map((section, index) => (\n                <ListItem\n                  key={index}\n                  index={section.index}\n                  title={section.title}\n                  slug={section.slug}\n                  isActive={isActive(section)}\n                  onItemClick={onItemClick}\n                ></ListItem>\n              ))}\n            </>\n          )}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default IndexPanel;\n\n// ------------------------------------------------------------------------------------------------ //\nfunction ListItem(props) {\n  const { index, title, slug, isActive, onItemClick } = props;\n\n  let onClick = () => {\n    onItemClick(slug);\n  };\n\n  return (\n    <li role=\"option\" className={`${isActive ? \"is-active\" : \"\"}`} aria-selected={isActive}>\n      <button onClick={onClick}>\n        <Icon icon=\"hand\"></Icon>\n\n        <span>{index}</span>\n        <h3>{title}</h3>\n      </button>\n    </li>\n  );\n}\n\n// ------------------------------------------------------------------------------------------------ //\n// !! improve perfomance, maybe the scroll listener is called too often\nfunction ScrollProgress(props) {\n  const [scrollProgress, setScrollProgress] = useState(0);\n  const scrollStyle = (progress) => ({\n    transform: `scaleX(${progress / 100})`\n  });\n\n  useEffect(() => {\n    window.addEventListener(\"scroll\", onScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", onScroll);\n    };\n  }, []);\n\n  let onScroll = () => {\n    const winScroll = document.body.scrollTop || document.documentElement.scrollTop;\n    const height = document.documentElement.scrollHeight - document.documentElement.clientHeight;\n    const scrolled = (winScroll / height) * 100;\n\n    setScrollProgress(scrolled);\n  };\n\n  return (\n    <div className=\"scroll-progress\">\n      <div className=\"scroll-progress__bar\" style={scrollStyle(scrollProgress)}></div>\n    </div>\n  );\n}\n","import React, { useState, useEffect, useRef, useCallback } from \"react\";\nimport { useLocation, useParams, useRouteMatch } from \"react-router-dom\";\nimport Chapters from \"../../common/chapters.json\";\nimport { useGlobal, useDispatch } from \"reactn\"; // <-- reactn\nimport { disableBodyScroll, enableBodyScroll, clearAllBodyScrollLocks } from \"body-scroll-lock\";\nimport useOnClickOutside from \"use-onclickoutside\";\nimport useKeypress from \"../../hooks/useKeyPress\";\nimport Icon from \"../Icon\";\n\nimport { NavLink, useHistory } from \"react-router-dom\";\nimport gsap from \"gsap/gsap-core\";\nimport { ReactComponent as IconLogo } from \"assets/icon-m-logo-box.svg\";\nimport HeaderLogo from \"./HeaderLogo\";\nimport IndexPanel from \"./IndexPanel\";\n\nfunction HeaderBar(props) {\n  let location = useLocation();\n  let { chapterSlug } = useParams();\n  let routeMatch = useRouteMatch(\"/:chapterSlug\");\n  let routeId;\n\n  const [headerBarState] = useGlobal(\"headerBar\");\n\n  const [test, setTest] = useGlobal(\"test\");\n  const { visible, disabled } = headerBarState;\n  const [globalGeneral] = useGlobal(\"general\");\n  const [currentChapter] = useGlobal(\"currentChapter\");\n  const [currentSubChapter] = useGlobal(\"currentSubChapter\");\n  const [showMenu, setShowMenu] = useGlobal(\"showMobileOverlayMenu\");\n  const toggleDarkMode = useDispatch(\"toggleDarkMode\");\n  const [darkModeEnabled] = useGlobal(\"darkMode\");\n  const [chapterHasScrolled, setChapterHasScrolled] = useGlobal(\"chapterScrolled\");\n  const toggleHeaderBar = useDispatch(\"toggleHeaderBar\");\n\n  const headerRef = useRef(false);\n  let history = useHistory();\n\n  let revealTimeline = useRef();\n  const [index, setIndex] = useState([]);\n\n  let onBurgerClick = () => {\n    setShowMenu(true);\n  };\n\n  // let showHeaderBar = () => {\n  //   toggleHeaderBar(true);\n  // };\n\n  // let hideHeaderBar = () => {\n  //   toggleHeaderBar(false);\n  // };\n\n  // const showHeaderBar = useCallback(() => {\n  //   console.log(test);\n  //   setTest(true);\n  //   // console.log(headerBarState);\n  //   // toggleHeaderBar(true);\n  // }, [test]);\n\n  // const hideHeaderBar = useCallback(() => {\n  //   console.log(test);\n\n  //   // console.log(headerBarState);\n  //   setTest(false);\n  // }, [test]);\n\n  // let showHeaderBar = () => {\n\n  //   toggleHeaderBar(true);\n  // };\n\n  // let hideHeaderBar = () => {\n\n  //   toggleHeaderBar(false);\n  // };\n\n  useEffect(() => {\n    // console.log(\"change\");\n    // console.log(headerBarState);\n  }, [headerBarState]);\n\n  // useEffect(() => {\n  //   if (!headroomRef.current) {\n  //     headroomRef.current = new Headroom(headerRef.current, {\n  //       onPin: showHeaderBar,\n  //       onUnpin: hideHeaderBar\n  //     });\n  //     headroomRef.current.init();\n  //   }\n  // }, [showHeaderBar, hideHeaderBar]);\n\n  useEffect(() => {\n    if (revealTimeline.current) {\n      revealTimeline.current.paused();\n    }\n\n    if (!revealTimeline.current) {\n      revealTimeline.current = gsap.timeline();\n    }\n\n    if (!visible) {\n      console.log(\"nooo\");\n      revealTimeline.current\n        .to(headerRef.current, {\n          y: \"-100%\",\n          duration: 0.2\n        })\n        .add(() => {\n          gsap.set(headerRef.current, { opacity: 0 });\n        });\n    } else {\n      console.log(\"gooo\");\n      revealTimeline.current.set(headerRef.current, { y: \"-100%\", opacity: 1 }).to(headerRef.current, {\n        y: \"0%\",\n        duration: 0.2\n      });\n    }\n  }, [visible]);\n\n  // useEffect(() => {\n  //   if (disabled) {\n  //     headroomRef.current.freeze();\n  //   } else {\n  //     headroomRef.current.unfreeze();\n  //   }\n  //   console.log(\"eoekek\");\n  // }, [disabled]);\n\n  useEffect(() => {\n    let index = currentChapter.index || [];\n    setIndex(index);\n  }, [currentChapter, currentSubChapter]);\n\n  let gotoHome = () => {\n    history.push(`/`);\n  };\n\n  let onDarkModeClick = () => {\n    toggleDarkMode(!darkModeEnabled);\n  };\n\n  return (\n    <div\n      className={`header-bar ${chapterHasScrolled ? \"is-something\" : \"\"}`}\n      ref={headerRef}\n      style={{ transform: \"translateY(-100%)\", opacity: \"0\" }}\n    >\n      <div className=\"header-bar__inner container\">\n        <div className=\"header-bar__top\">\n          <div className=\"header-bar__logo\" onClick={gotoHome}>\n            <HeaderLogo listenToScroll={true}></HeaderLogo>\n          </div>\n          <div className=\"header-bar__actions\">\n            {/* <a href={globalGeneral.book_download.url} target=\"_BLANK\" download title=\"download book\">\n              <Icon icon=\"download\"></Icon>\n            </a> */}\n            <button title=\"toggle darkmode\" onClick={onDarkModeClick}>\n              <Icon icon=\"darkmode\"></Icon>\n            </button>\n          </div>\n          <div className=\"header-bar__burger\">\n            <button onClick={onBurgerClick}>\n              <Icon icon=\"burger\"></Icon>\n            </button>\n          </div>\n        </div>\n        <div className=\"header-bar__index\">\n          <IndexPanel index={index} activeSubChapter={currentSubChapter} chapter={currentChapter}></IndexPanel>\n        </div>\n      </div>\n    </div>\n  );\n}\nexport default HeaderBar;\n","import { useEffect, useState, useRef } from \"react\";\n// import { useRef, useEffect, useState } from \"react\";\n\nimport { gsap } from \"gsap\";\nimport { ScrollTrigger } from \"gsap/ScrollTrigger\";\nimport { SplitText } from \"gsap/SplitText\";\nimport useResizeObserver from \"@react-hook/resize-observer\";\n\ngsap.registerPlugin(ScrollTrigger, SplitText);\n\n// import \"../../vendor/SplitText\";\n\ngsap.registerPlugin(ScrollTrigger);\n\nfunction TheCanvasTitle(options) {\n  // let init = () =>\n  // init();\n}\n\nfunction MosaicTitle(props) {\n  const { title, color, darkMode } = props;\n\n  const ref = useRef();\n  const canvasRef = useRef();\n  const canvasCtxRef = useRef();\n  const offscreenCanvasRef = useRef();\n  const offscreenCanvasCtxRef = useRef();\n  const sourceRef = useRef();\n  const splittedTextRef = useRef(false);\n  const [size, setSize] = useState();\n\n  const canvasTitleRef = useRef();\n  // detect resize changes\n  useResizeObserver(ref, (entry) => setSize(entry.contentRect));\n\n  // prepare canvas context\n  useEffect(() => {\n    // create offscreen canvas\n    offscreenCanvasRef.current = document.createElement(\"canvas\");\n    offscreenCanvasCtxRef.current = offscreenCanvasRef.current.getContext(\"2d\");\n  }, []);\n\n  useEffect(() => {\n    if (!canvasTitleRef.current) {\n      canvasTitleRef.current = new TheCanvasTitle({\n        elTitle: sourceRef.current,\n        canvas: canvasRef.current,\n        canvasOffscreenEl: offscreenCanvasRef.current\n      });\n    }\n  }, []);\n\n  useEffect(() => {\n    console.log(\"aooa\");\n    // !!! figure out how to deal with the fact that after darkmode is enabled and this part re-renders\n    // the actual text has not yet changed color, and thus i cannot fetch the right color.\n\n    // calc size of canvas\n    let srcBnd = sourceRef.current.getBoundingClientRect();\n    let width = srcBnd.width;\n    let height = srcBnd.height;\n\n    // calculate retina resolution\n    var dpr = window.devicePixelRatio || 1;\n    let dprWidth = parseInt(width * dpr);\n    let dprHeight = parseInt(height * dpr);\n\n    // create offscreen canvas\n    const offscreenCanvas = offscreenCanvasRef.current;\n    offscreenCanvas.width = dprWidth;\n    offscreenCanvas.height = dprHeight;\n\n    const offscreenCanvasCtx = offscreenCanvasCtxRef.current;\n    offscreenCanvasCtx.scale(dpr, dpr);\n\n    // create visual canvas\n    const canvas = canvasRef.current;\n    canvas.width = dprWidth;\n    canvas.height = dprHeight;\n\n    const canvasCtx = (canvasCtxRef.current = canvas.getContext(\"2d\"));\n    canvas.style.width = width + \"px\";\n    canvas.style.height = height + \"px\";\n\n    // split the h1 dom text, to create the canvas version.\n    // if there already is a splittedTextRef revert to get a splitted line\n    if (splittedTextRef.current) {\n      splittedTextRef.current.revert();\n    }\n\n    splittedTextRef.current = new SplitText(sourceRef.current, {\n      type: \"lines\"\n    });\n    let splittedText = splittedTextRef.current;\n\n    // get the text styles from the source element\n    let textStyles = window.getComputedStyle(splittedText.lines[0]);\n    let fontSize = parseInt(textStyles.getPropertyValue(\"font-size\"));\n    let fontFamily = textStyles.getPropertyValue(\"font-family\");\n    let fontLineHeight = parseInt(textStyles.getPropertyValue(\"line-height\"));\n    let fontColor = textStyles.getPropertyValue(\"color\");\n\n    // set the font\n    offscreenCanvasCtx.font = `${fontSize}px ${fontFamily}`;\n    offscreenCanvasCtx.textAlign = \"center\";\n    offscreenCanvasCtx.fillStyle = fontColor;\n\n    // walk through the textlines and draw text\n    splittedText.lines.forEach((line, index) => {\n      let text = line.textContent;\n      offscreenCanvasCtx.fillText(text, width / 2, fontLineHeight * index + fontLineHeight / 1.25);\n    });\n\n    // copy image from offscreenCanvas\n    let offscreenData = offscreenCanvasCtx.getImageData(0, 0, dprWidth, dprHeight);\n\n    // keep track of current sample size to prevent re-renders\n    let currentSampleSize = -1;\n    let lowresSampleSize = 30;\n    let nearestRoundingSize = 2;\n\n    // Renders a pixelated version of the text\n    let renderVisual = (sampleSize = 1, minSampleSize = 4) => {\n      console.log(\"render visual\");\n      console.log(sampleSize);\n      currentSampleSize = sampleSize;\n\n      // draw image to canvas\n      canvasCtx.clearRect(0, 0, dprWidth, dprHeight);\n\n      if (sampleSize < minSampleSize) {\n        sampleSize = minSampleSize;\n      }\n\n      let sample = offscreenData.data;\n\n      for (var y = 0; y < dprHeight; y += sampleSize) {\n        for (var x = 0; x < dprWidth; x += sampleSize) {\n          var pos = (x + y * dprWidth) * 4;\n          var red = sample[pos];\n          var green = sample[pos + 1];\n          var blue = sample[pos + 2];\n\n          var alpha = sample[pos + 3];\n\n          canvasCtx.beginPath();\n          canvasCtx.fillStyle = \"rgba(\" + red + \",\" + green + \",\" + blue + \",\" + alpha + \")\";\n\n          canvasCtx.rect(x, y, sampleSize, sampleSize);\n          canvasCtx.fill();\n        }\n      }\n    };\n\n    let trigger = ScrollTrigger.create({\n      trigger: canvasRef.current,\n      start: \"center bottom\",\n      end: \"center top\",\n      onUpdate: (self) => {\n        let value = lowresSampleSize * Math.abs(self.progress - 0.5);\n        let valueRounded = Math.round(value / nearestRoundingSize) * nearestRoundingSize; // round it to the nearest 10\n        console.log(\n          `mosaic title update value:${value} valueRounded:${valueRounded} currentSampleSize:${currentSampleSize}`\n        );\n\n        if (valueRounded !== currentSampleSize) {\n          renderVisual(valueRounded);\n        }\n      }\n    });\n\n    //\n    // renderVisual(lowresSampleSize);\n\n    return () => {\n      if (trigger) trigger.kill(true);\n    };\n  }, []);\n\n  return (\n    <div className=\"mosaic-title\" ref={ref}>\n      <h1 ref={sourceRef}>{title}</h1>\n\n      <canvas id=\"canvas\" ref={canvasRef}></canvas>\n    </div>\n  );\n}\n\nexport default MosaicTitle;\n","import MosaicTitle from \"./MosaicTitle\";\nimport { useState } from \"react\";\nimport { setGlobal, useGlobal, useDispatch } from \"reactn\";\n// import { useGlobal, useDispatch } from \"reactn\";\n\nimport gsap from \"gsap/gsap-core\";\nimport { ReactComponent as Logo } from \"../../assets/chapter-number.svg\";\nimport Elements from \"./Elements\";\nimport AuthorLink from \"components/Author/AuthorLink\";\n\nfunction ConversationSubtitle(props) {\n  const { page, chapterNr } = props;\n\n  let author_1;\n  let author_2;\n\n  if (page.meta.authors.length > 1) {\n    let authorData1 = page.meta.authors[0];\n    let authorData2 = page.meta.authors[1];\n\n    author_1 = (\n      <AuthorLink name={authorData1.name} slug={authorData1.id}></AuthorLink>\n    );\n    author_2 = (\n      <AuthorLink name={authorData2.name} slug={authorData2.id}></AuthorLink>\n    );\n  }\n\n  return (\n    <span className=\"tagline tagline--conversation\">\n      {author_1}\n      <span className=\"italic\">&nbsp;talks with&nbsp;</span>\n      {author_2}\n    </span>\n  );\n}\n\nfunction SectionTitle(props) {\n  const { page, chapterNr } = props;\n  const [titleColor, setTitleColor] = useState({ r: 255, g: 255, b: 255 });\n  const [darkMode] = useGlobal(\"darkMode\");\n  let renderTitle = () => {\n    switch (chapterNr) {\n      case \"05\":\n        return (\n          <>\n            <ConversationSubtitle page={page}></ConversationSubtitle>\n            <MosaicTitle title={page.title} darkMode={darkMode}></MosaicTitle>\n          </>\n        );\n        break;\n      case \"06\":\n        const { authors } = page.meta;\n\n        let createSubtitle = () => {\n          if (!authors.length) return null;\n          let authorButtons = authors.map((o, key) => {\n            return (\n              <AuthorLink key={key} name={o.name} slug={o.id}></AuthorLink>\n            );\n          });\n\n          const list = (data) =>\n            data.reduce((prev, curr) => [prev, \" and \", curr]);\n          return <>By {list(authorButtons)} </>;\n        };\n\n        return (\n          <>\n            <span className=\"tagline\">{page.index}</span>\n            <h1>{page.title}</h1>\n            <span className=\"subtitle\">{createSubtitle()}</span>\n          </>\n        );\n        break;\n      default:\n        return (\n          <>\n            <span className=\"tagline\">{page.index}</span>\n            <h1>{page.title}</h1>\n            {page.subtitle && <span className=\"subtitle\">{page.subtitle}</span>}\n          </>\n        );\n    }\n  };\n\n  return <header className=\"page-title container\">{renderTitle()}</header>;\n}\n\nfunction Section(props) {\n  const { page, chapter } = props;\n  const { chapter_nr } = chapter;\n  const showAuthorDispatch = useDispatch(\"showAuthor\");\n\n  let seperateRender = () => {\n    switch (chapter_nr) {\n      case \"06\":\n        return (\n          <>\n            <SectionTitle\n              page={page}\n              chapterNr={chapter.chapter_nr}\n            ></SectionTitle>\n            <section className=\"component component--text container\">\n              <aside>\n                {page.meta.theme && (\n                  <>\n                    <h4>THEME</h4>\n                    <p>{page.meta.theme}</p>\n                  </>\n                )}\n\n                {page.meta.authors && (\n                  <>\n                    <h4>AUTHORS</h4>\n                    {page.meta.authors.map((author, index) => (\n                      <button\n                        key={index}\n                        onClick={() => showAuthorDispatch(author.id)}\n                      >\n                        {author.name}\n                      </button>\n                    ))}\n                  </>\n                )}\n              </aside>\n\n              <div\n                className=\"text\"\n                dangerouslySetInnerHTML={{ __html: page.text }}\n              ></div>\n            </section>\n            <Elements elements={page.components}></Elements>\n          </>\n        );\n        break;\n      default:\n        return (\n          <>\n            {!page.settings.hideTitle && (\n              <SectionTitle\n                page={page}\n                chapterNr={chapter.chapter_nr}\n              ></SectionTitle>\n            )}\n            <Elements elements={page.components}></Elements>\n          </>\n        );\n        break;\n    }\n  };\n  return <>{seperateRender()}</>;\n}\n\nexport default Section;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nif (process.env.NODE_ENV !== \"development\") {\n  console.log = () => {};\n}\n// import reportWebVitals from \"./reportWebVitals\";\n// import addReactNDevTools from \"reactn-devtools\";\nReactDOM.render(<App />, document.getElementById(\"root\"));\n\n//\n// ReactDOM.render(\n//   <React.StrictMode>\n//     <App />\n//   </React.StrictMode>,\n//   document.getElementById('root')\n// );\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\n// reportWebVitals();\n// addReactNDevTools();\n"],"sourceRoot":""}